"use strict";window.evsPlayer=window.evsPlayer||{},function(e,t,n,i){function r(){this.components=[],this.isReady=!1}function o(e,t){function n(e,t){i.trigger({name:Te.AdEnded,position:e,time:t,isPlaybackUsed:!1})}var i=this;r.call(i),i.initialize=function(){},i.requestAds=function(){},i.startPreroll=function(){n(ye.PREROLL,0)},i.startPostroll=function(){n(ye.POSTROLL,-1)},i.reset=function(){},i.dispose=function(){},i.isReset=function(){return!0}}function a(){}function s(e){function n(){z.tracking=new l(z,!0),Se.isMobilePlatform&&(Le=!1,e.preload="none"),re.dimensions(e.width,e.height),S(),z.listenTo(z,me.READY,s),Pe=new E(z),z.addComponent(Pe),ve=new y,z.addComponent(ve),ge=new w(z),z.addComponent(ge),e.controls&&(z.controls=Ce=new A(z,e),z.addComponent(Ce)),Ie=new T(re),z.addComponent(Ie),z.listenTo(Ie,T.Events.ACTIVE,Y),z.listenTo(Ie,T.Events.INACTIVE,J),(new m).load(e.playlist,i,K)}function i(e){pe=e,v(pe.item(0)),Re=1}function a(t){ce&&(z.removeComponent(ce),ce.dispose()),ce=z.playback=t.target,M(ce),z.trigger(Ee.CONTENT_UPDATE),z.setReady(),z.volume(e.volume),z.muted(e.muted)}function s(){ve.hide(),b(),g()}function c(){function e(){fe.startPreroll()}return z.isReady?(se=!1,void(ae||(ae=!0,z.trigger(Ee.FIRST_PLAY),Le=!1,C(),Se.isMobilePlatform?(fe.initialize(),fe.requestAds(),z.listenToOne(ce,we.LOADED_METADATA,e),ce.load()):e()))):void(se=!0)}function p(e){ce.disableEvents(!0),z.trigger(Ee.ADS_STARTING),z.pause(),ve.hide(),X(),Ie.disable(),le=!0}function f(t){if(le=!1,ce.disableEvents(!1),z.trigger(Ee.ADS_ENDED),Ie.enable(),ve.hide(),Z(),t.position===ye.PREROLL)z.play();else if(t.position===ye.POSTROLL){if(z.trigger(we.ENDED),ae=!1,pe.currentIndex()===pe.length()-1){if(z.trigger(Ee.PLAYLIST_ENDED),pe.reset(),Re===e.loops)return void(Re=1);Re++}if(e.autoplayNext)return void z.playNext()}else z.play()}function h(){le||fe.startPostroll()}function v(t){if(t){ae=!1;var n=!0;if(ce){var i=be.selectSource(ce,t.sources);i&&(i.file===ce.src()&&3!==ce.networkState()||ce.src(i.file),n=!1)}if(n){var r={preload:e.preload,playerSwf:e.playerSwf,playerSwfTimeout:e.playerSwfTimeout,debug:ee},o=be.getInstance(t.sources,r);o||ce||(o=be.getDefaultInstance(t.sources,r)),o?(z.isReady=!1,ve.show(),z.addComponent(o),z.listenTo(o,me.READY,a)):(ce.src(t.sources[0].file),n=!1)}n||(z.trigger(Ee.CONTENT_UPDATE),g()),ue=t,ge.setText(t.title)}}function g(){(se||Le)&&(se=!1,z.play())}function b(){if(!fe){var t=e.ads||e.imaAds;fe=t&&"undefined"!=typeof d?new d(z,e):new o(z,e),z.addComponent(fe),z.listenTo(fe,Te.AdStarting,p),z.listenTo(fe,Te.AdEnded,f),he=!1}}function C(){he&&fe.reset(),he=!0}function S(){t.addEventListener&&(t.addEventListener("webkitfullscreenchange",L),t.addEventListener("mozfullscreenchange",L),t.addEventListener("fullscreenchange",L),t.addEventListener("MSFullscreenChange",L),t.addEventListener("fullscreenerror",R),t.addEventListener("MSFullscreenError",R),t.addEventListener("mozfullscreenerror",R),t.addEventListener("webkitfullscreenerror",R))}function L(){ke=x(),ke?re.addClass("e-player-fullscreen"):re.removeClass("e-player-fullscreen"),z.trigger({name:Ee.FULLSCREEN_CHANGED,fullScreen:ke}),D()}function R(){ke=!1,re.removeClass("e-player-fullscreen"),z.trigger({name:Ee.FULLSCREEN_CHANGED,fullScreen:ke}),D()}function I(){re.addClass("e-player-fullscreen"),re.requestFullscreen()||re.addClass("e-player-fullwindow"),ke=!0,z.trigger({name:Ee.FULLSCREEN_CHANGED,fullscreen:!0}),D()}function N(){re.removeClass("e-player-fullscreen"),re.exitFullscreen()||re.removeClass("e-player-fullwindow"),ke=!1,z.trigger({name:Ee.FULLSCREEN_CHANGED,fullscreen:!1}),D()}function D(){ce.setSize(z.width(),z.height()),z.trigger(Ee.RESIZE)}function M(e){z.listenTo(e,we.LOAD_START,W),z.listenTo(e,we.ERROR,G),z.listenTo(e,we.ENDED,h),z.listenTo(e,we.CANPLAY,U),z.listenTo(e,we.CANPLAY_THROUGH,V),z.listenTo(e,we.PLAY,_),z.listenTo(e,we.PLAYING,F),z.listenTo(e,we.WAITING,q),z.listenTo(e,we.SEEKING,j),z.listenTo(e,we.SEEKED,H),Object.keys(we).forEach(function(t){z.listenTo(e,we[t],function(){z.trigger(we[t])})})}function U(){ve.hide()}function V(){ve.hide()}function _(){ae||(z.pause(),c())}function F(){ve.hide()}function q(){ve.show()}function j(){ve.show()}function H(){ve.hide()}function W(){B(null)}function G(){B(ce.error()),ve.hide()}function K(e){B(e)}function B(e){return e?(de=e instanceof Ae?e:new Ae(e),$.error(k("Media error {0}({1}) - {2}",Ae.Codes[de.code]||Ae.Codes[0],de.code,de.message)),z.trigger({name:Ee.ERROR,error:de}),void ve.hide()):void(de=null)}function Y(){z.trigger(Ee.USER_ACTIVE)}function J(){z.trigger(Ee.USER_INACTIVE)}function X(){Ce.hide(),ge.hide()}function Z(){Ce.show(),ge.show()}function Q(e){return function(){return ce&&ce.isReady?e.apply(z,arguments):void 0}}var z=this;r.call(z);var $=Oe.bindCategory("player"),ee=e.debug,te="1.0.0",ne=e.id,ie=t.getElementById(ne);if(!ie)throw TypeError('The "id" of the existing dom element is required');var re=z.uiObj=new u(ie,{"class":"e-player"}),oe={autoplay:!1,autoplayNext:!1,loops:1,volume:1,muted:!1,width:"100%",height:"100%",preload:"metadata",controls:!0,fullscreen:!0,ga:!1,playerSwfTimeout:3e3};z.setupOptions=P({},e),e=z.options=O(oe,e);var ae,se,le,ue,de,ce,pe,fe,he,ve,ge,Ce,Le=e.autoplay,Re=1,ke=!1;z.contentTracking;var Ie,Pe,Ne=[];z.enterFullscreen=I,z.exitFullscreen=N,z.setPlaylist=function(e){(new m).load(e,i,K)},z.play=Q(function(){return ae?void ce.play():void c()}),z.playNext=Q(function(){if(pe){var e=pe.next();if(e)return se=!0,v(e),e}return null}),z.playPrevious=Q(function(){if(pe){var e=pe.previous();if(e)return se=!0,v(e),e}return null}),z.playItem=Q(function(e){if(pe){var t=pe.item(e);if(t)return se=!0,v(t),t}return null}),z.pause=Q(function(){ce.pause()}),z.duration=Q(function(){return ce.duration()}),z.paused=Q(function(){return ce.paused()}),z.volume=Q(function(e){return ce.volume(e)}),z.muted=Q(function(e){return ce.muted(e)}),z.ended=Q(function(){return ce.ended()}),z.src=Q(function(){return ce.src()}),z.currentTime=Q(function(e){return ce.currentTime(e)}),z.getVersion=function(){return te},z.getId=function(){return ne},z.dispose=function(){r.prototype.dispose.call(z)},z.width=function(){return re.width()},z.height=function(){return re.height()},z.isFullscreen=function(){return ke},z.getError=function(){return de||ce.error()},z.showControls=function(){Z(),Ie.enable()},z.hideControls=function(){X(),Ie.disable()},z.defineSlot=function(e,n,i,r){var o=t.getElementById(e);if(!o)throw"Companion slot is not found";Ne.push({elemId:e,el:o,width:n,height:i,adSlotId:r||e})},z.getAdSlots=function(){return Ne};n()}function l(e,i){function o(){e.options.murl||(S=!1),e.addComponent(g),g.listenTo(e,me.READY,a),g.listenTo(e,we.LOADED_METADATA,s),g.listenTo(e,we.PLAYING,l),g.listenTo(e,we.TIME_UPDATE,Y(u,400)),g.listenTo(e,we.ENDED,d),g.listenTo(e,Ee.CONTENT_UPDATE,c),g.listenTo(e,Ee.TWITTER_SHARE,p),g.listenTo(e,Ee.FACEBOOK_SHARE,f),g.listenTo(e,Ee.ERROR,h),w=n.top!==n?t.referrer:n.location.href}function a(){var t=e.options;t.murl&&(m.pixelUrl=b+t.murl),m.playerId=t.playerId,m.pubTagId=t.pubTagId,m.playlistId=e.playlist&&e.playlist.id,m.videoId=e.currentItem&&e.currentItem.id,m.currentTime=0,m.referrer=w;var n=t.ud||{};m.country=n.country,m.domain=n.domain||"",m.deviceType=n.deviceType||Se.deviceType,m.os=n.os||Se.os,m.browser=n.browser||Se.type,v(k.Ready)}function s(){m.duration=e.duration()}function l(){C.st||(v(k.VideoStart),C.st=1)}function u(){var t=e.currentTime(),n=e.duration();if(t&&n){m.currentTime=t;var i=t/n,r=Math.floor(i/.25);if(!C["q"+r]){switch(r){case 1:v(k.FirstQuartile);break;case 2:v(k.MidPoint);break;case 3:v(k.ThirdQuartile)}C["q"+r]=1}var o=t-T;0>o||o>A||(y+=o,y>=E&&(y=0,v(k.Progress))),T=t}}function d(){v(k.VideoEnd)}function c(){m.playlistId=e.playlist&&e.playlist.id,m.videoId=e.currentItem&&e.currentItem.id,m.src=e.src(),m.currentTime=0,C={},y=0}function p(){v(k.TwitterShare)}function f(){v(k.FacebookShare)}function h(){v(k.Error)}function v(e){if(S){Array.isArray(e)&&(e=e.join(","));var t=m,n=[t.pixelUrl+"?e="+e,t.playerId&&"p="+t.playerId,t.pubTagId&&"pt="+t.pubTagId,t.playlistId&&"pl="+t.playlistId,t.videoId&&"v="+t.videoId,t.domain&&"d="+t.domain,t.referrer&&"d="+t.referrer,"cb="+L()];i&&[].push.apply(n,[t.country&&"uc="+t.country,t.deviceType&&"udt="+t.deviceType,t.os&&"uos="+t.os,t.browser&&"ub="+t.browser,"tt=h"]);var r=n.join("&");(new Image).src=r}}var g=this;r.call(g);var m=(Oe.bindCategory("tracking"),{}),A=2e3,E=30,y=0,T=0,w="",b="https:"==n.location.protocol?"https:":"http:",C={},S=!0,L=R,k={Ready:"ready",Progress:"progress",VideoLoad:"vload",VideoStart:"vstart",FirstQuartile:"v25",MidPoint:"v50",ThirdQuartile:"v75",VideoEnd:"vend",FacebookShare:"cfshare",TwitterShare:"ctshare",Error:"error"};g.getData=function(){return m},o()}function u(e,t){e===i||"string"==typeof e?(this.el=this.createElement(e||"div",t),this.isOwnEl=!0):(this.el=e,t&&this.setAttributes(t),this.isOwnEl=!1),this.eventListeners=[],this.children=[],this.tapEventEnabled=!1}function d(e,t){function n(){var n=new Z(e.tracking);if(h=O({timeout:5e3,postrollTimeout:3e3,customSeeking:!1,debug:t.debug,adTracking:n},h),t.ads)d=new X(a,e,h);else{if(!t.imaAds)throw"Invalid ad options";d=new c(a,e,h)}h.preload&&(a.requestAds(),f=!0)}function i(e,t){switch(e){case Te.AdStarting:if(1===p)return;p=1;break;case Te.AdEnded:if(2===p)return;p=2;break;default:return}u=!1,l=!1;var n,i=t.time;n=0===i?ye.PREROLL:-1===i?ye.POSTROLL:ye.MIDROLL,a.trigger({name:e,position:n,time:t&&t.time,isPlaybackUsed:!(!t||!t.isPlaybackUsed)})}function o(){d.loadTimeout()}var a=this;r.call(a);var s,l,u,d,p,f,h=(Oe.bindCategory("ads-superviser"),t.debug,t.ads||t.imaAds),v={Loading:"loading",Loaded:"loaded",Error:"error"},g=null,m=B(o);a.initialize=function(){s=!0,d.initialize()},a.requestAds=function(){f||g||(g=v.Loading,d.requestAds())},a.startPreroll=function(){if(!u&&(!Se.isMobilePlatform||s))switch(u=!0,p=0,m.set(h.timeout+250),g){case null:l=!0,a.requestAds();break;case v.Loading:l=!0;break;case v.Loaded:d.startPreroll();break;case v.Error:i(Te.AdEnded,{time:0})}},a.startPostroll=function(){u||(u=!0,p=0,m.set(h.postrollTimeout+250),d.startPostroll())},a.setAdsStatus=function(e,t){switch(e){case Te.AdsLoaded:return g=v.Loaded,void(l&&d.startPreroll());case Te.AdsLoadedError:if(g=v.Error,!l)return;e=Te.AdEnded;break;case Te.AdStarting:case Te.AdEnded:m.clear();break;default:return}i(e,t)},a.reset=function(){m.clear(),d.reset(),g=p=null,f=l=u=!1},a.dispose=function(){a.reset(),d&&(d.dispose(),d=null),r.prototype.dispose.call(a)};n()}function c(e,n,i){function o(t){K&&B.debug("onAdsLoaded");var n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.loadAdVideoTimeout=i.loadAdVideoTimeout,n.useStyledNonLinearAds=i.useStyledNonLinearAds,ee=t.getAdsManager(Q,n),ee.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,s),ee.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,l),ee.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,d),ee.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,p),ee.addEventListener(google.ima.AdEvent.Type.LOADED,f),ee.addEventListener(google.ima.AdEvent.Type.STARTED,h),ee.addEventListener(google.ima.AdEvent.Type.CLICK,g),ee.addEventListener(google.ima.AdEvent.Type.COMPLETE,m),ee.addEventListener(google.ima.AdEvent.Type.SKIPPED,m),K&&D(),e.processProviderStatus(Ads.ProviderStatus.ADS_LOADED)}function a(t){K&&B.debug("onAdsLoadedError"),B.error(k("ads loading error: [{0}]",t.getError())),ee&&ee.destroy(),e.processProviderStatus(Ads.ProviderStatus.ADS_LOADING_ERROR)}function s(t){K&&B.debug("onAdError"),B.error(k("ad error: [{0}]",t.getError())),ee&&ee.destroy(),J.hide(),e.processProviderStatus(Ads.ProviderStatus.ADS_ERROR)}function l(t){K&&B.debug("onContentPauseRequested");var n=e.processProviderStatus(Ads.ProviderStatus.ADS_STARTING,{isLinear:!0,isPlaybackUsed:ee.isCustomPlaybackUsed()});if(!n)return void(ee&&ee.stop());_=!0,x=!0,J.show();var i=F?F.getContentType():null;"application/javascript"!==i&&"application/x-javascript"!==i&&"application/x-shockwave-flash"!==i&&(X.show(),X.userActivity.start(),X.setPlaying(!0))}function d(t){if(_){K&&B.debug("onContentResumeRequested");var n={};F&&(n.isLinear=F.isLinear(),n.isPlaybackUsed=!(!ee||!ee.isCustomPlaybackUsed())),e.processProviderStatus(Ads.ProviderStatus.ADS_ENDED,n),_=!1,x=!1,F?F.isLinear()&&J.hide():J.hide(),X.userActivity.stop(),X.hide(),X.setPlaying(!1),X.setCountdownText("")}}function p(){K&&B.debug("onAllAdsCompleted"),_&&d()}function f(t){K&&B.debug("onAdLoaded");var n=t.getAd();n.isLinear()?A():e.processProviderStatus(Ads.ProviderStatus.ADS_ENDED,{isLinear:!1,isPlaybackUsed:!1})}function h(e){K&&B.debug("onAdStarted"),F=e.getAd(),F.isLinear()&&(j=setInterval(v,250)),T(F)}function v(){var e,t,n=ee.getRemainingTime(),i=F.getDuration(),r=Math.max(i-n,0),o=!1;F.getAdPodInfo()&&(o=!0,e=F.getAdPodInfo().getAdPosition(),t=F.getAdPodInfo().getTotalAds());var a=Math.floor(n/60),s=Math.floor(n%60);s.toString().length<2&&(s="0"+s),o&&t>1?X.setCountdownText(k("Advertisement ({0} of {1}): {2}:{3}",e,t,a,s)):X.setCountdownText(k("Advertisement: {0}:{1}",a,s));var l=r/i,u=100*l;X.setProgress(u)}function g(e){K&&B.debug("onAdClick"),_&&(x?(ee.pause(),x=!1):(ee.resume(),x=!0),X.setPlaying(x))}function m(e){K&&B.debug("onAdComplete"),F.isLinear()&&clearInterval(j)}function A(){ee&&(n.isFullscreen()?(ee.resize(n.width(),n.height(),google.ima.ViewMode.FULLSCREEN),X.setFullscreen(!0)):(ee.resize(n.width(),n.height(),google.ima.ViewMode.NORMAL),X.setFullscreen(!1)))}function E(){ee&&A()}function y(){if(ee){var e=n.volume();X.setVolume(e),n.muted()?(G=e,X.setMuted(!0),ee.setVolume(0)):(X.setMuted(!1),ee.setVolume(e))}}function T(e){if(ne){K&&B.debug("displayCompanionAds");for(var t=function(t){var n=e.getCompanionAds(t.width,t.height,{adSlotIds:[t.adSlotId]});if(n.length>0){var i=n[0].getContent();t.domEl.innerHTML=i}},n=0,i=ne.length;i>n;n++)t(ne[n])}}function w(){_&&(ee.resume(),x=!0,X.setPlaying(!0))}function b(){_&&(ee.pause(),x=!1,X.setPlaying(!1))}function C(){n.isFullscreen()||n.enterFullscreen()}function S(){n.isFullscreen()&&n.exitFullscreen()}function L(){G=n.volume(),ee.setVolume(0),n.muted(!0),X.setMuted(!0)}function R(){ee.setVolume(G||1),n.muted(!1),X.setMuted(!1)}function I(e){ee.setVolume(e.volume),n.volume(e.volume),X.setVolume(e.volume)}function P(){}function N(e){var t=null;if(e.getAd&&(t=e.getAd()),e.getError)B.event(e.type,[{label:"name",value:e.type},{label:"error",value:e.getError()}]);else{var n=[{label:"name",value:e.type}];if(t){n.push({label:"is linear?",value:t.isLinear()?"yes":"no"}),n.push({label:"content type",value:t.getContentType()}),n.push({label:"size (WxH)",value:t.getWidth()+"x"+t.getHeight()}),n.push({label:"duration",value:t.getDuration()}),n.push({label:"min duration",value:t.getMinSuggestedDuration()});var i=t.getTitle(),r=t.getDescription();i&&n.push({label:"title",value:i}),r&&n.push({label:"description",value:r})}B.event(e.type,n)}}function D(){for(var e=c.AllEvents.length-1;e>=0;e--)ee.addEventListener(c.AllEvents[e],N)}function M(){$.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,N,!1),$.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,N,!1)}var U=this;r.call(U);var V="0.0.1",x=!1,_=!1,F=null,q=n.playback.uiObj.el,j=null,H="ima-"+Ne(),W=!1,G=null,K=i.debug||!1,B=Oe.bindCategory("ima"),Y={loadAdVideoTimeout:2e3,useStyledNonLinearAds:!0,locale:"",debug:!1,vpaidMode:"enabled"};i=O(Y,i),U.uiObj=new u("div",{id:H+"-container","class":"e-ads-container e-child-component"});var J=U.uiObj;n.uiObj.appendChild(J),J.hide();var X=new te;U.addComponent(X),X.userActivity.stop(),U.listenTo(X,xe.PLAY,w),U.listenTo(X,xe.PAUSE,b),U.listenTo(X,xe.ENTER_FULLSCREEN,C),U.listenTo(X,xe.EXIT_FULLSCREEN,S),U.listenTo(X,xe.MUTE,L),U.listenTo(X,xe.UNMUTE,R),U.listenTo(X,xe.VOLUME_CHANGED,I),U.listenTo(X,xe.SEEK,P);var Z=i.url,Q=i.contentPlayheadTracker||q;"enabled"===i.vpaidMode?google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED):"disabled"===i.vpaidMode?google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED):google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),i.locale&&google.ima.settings.setLocale(i.locale);var z=new google.ima.AdDisplayContainer(J.el,q),$=new google.ima.AdsLoader(z);$.getSettings().setPlayerType("evs-player"),$.getSettings().setPlayerVersion(V),$.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,o,!1),$.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a,!1);var ee=null,ne=null;U.listenTo(n,Ee.FULLSCREEN_CHANGED,A),U.listenTo(n,Ee.RESIZE,E),U.listenTo(n,we.VOLUME_CHANGE,y),U.initialize=function(){K&&B.debug("initialize"),z.initialize()},U.requestAds=function(){K&&B.debug("requestAds");var e=n.width(),t=n.height(),i=new google.ima.AdsRequest;i.adTagUrl=Z,i.linearAdSlotWidth=e,i.linearAdSlotHeight=t,i.nonLinearAdSlotWidth=e,i.nonLinearAdSlotHeight=Math.min(t/3,100),$.requestAds(i)},U.startAds=function(){if(K&&B.debug("startAds"),!ee)return void B.error("Always call this method after onAdsLoaded");try{var e=n.isFullscreen()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL;ee.init(n.width(),n.height(),e),y(),ee.start()}catch(t){s(t)}},U.contentComplete=function(){K&&B.debug("contentComplete"),W||($.contentComplete(),W=!0)},U.reset=function(){K&&B.debug("reset"),ee&&(ee.destroy(),ee=null),$&&!W&&$.contentComplete(),W=!1,clearInterval(j)},U.dispose=function(){K&&B.debug("dispose"),$&&($&&$.destroy(),$=null),z&&(z&&z.destroy(),z=null),r.protorype.dispose.call(U)},U.getAdsManager=function(){return ee},U.setAdsTagUrl=function(e){K&&B.debug("setAdsTagUrl"),U.reset(),e&&(Z=e)},U.setAdSlots=function(e){K&&B.debug("setAdSlots");var n,i;ne=[];for(var r=0,o=Math.min(e.length,6);o>r;r++)n=e[r],n.id&&n.width&&n.height?(i=t.getElementById(n.id),i?ne.push({adSlotId:n.id,domEl:i,width:n.width,height:n.height}):B.error("Invalid slot id")):B.error("Invalid slot format")},K&&M(),c.AllEvents=[google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED,google.ima.AdErrorEvent.Type.AD_ERROR]}function p(e){function t(){n["dispatch_"+f]=function(e,t){h&&0!==e.indexOf(h)||setTimeout(function(){a.trigger(e,t)},0)};var t=De({swf:e.playerSwf,id:f,name:f,width:"100%",height:"100%",flashvars:{dispatchId:f}});a.listenToOne(a,"PlaybackLoaded",U(function(){v&&a.src(v),a.setReady()},e.playerSwfTimeout,function(){a.trigger(we.ERROR)})),a.onParentAdded=function(e){var n=a.uiObj;n.innerHTML(t),l=a.videoEl=n.el.childNodes[0]},e.preload&&a.preload(e.preload)}function o(e){return l[h+e]}var a=this;r.call(a),e||(e={});e.debug,Oe.bindCategory("flash");a.isFlashTech=!0;var s=L("flashmedia_");a.uiObj=this.videoObj=new u("div",{id:s,"class":"e-video e-child-component"});var l,d,c,p,f=s.replace(/-/g,"_")+"_embed",h="",v=e.src;a.on=function(e,t,n){return r.prototype.on.call(this,h+e,t,n),this},a.src=function(e){return e===i?v:(v=e,d=0,void(p&&a.load()))},a.load=function(){o("loadVideo")(v),o("pauseVideo")(),d=1},a.preload=function(e){return e===i?c:(p="auto"===e||"meta"===e?1:0,void(c=e))},a.dispose=function(){if(l){try{l.dispose()}catch(e){}for(l.removeAttribute("data");l.hasChildNodes();)l.removeChild(l.firstChild);l.parentNode&&l.parentNode.removeChild(l)}r.prototype.dispose.call(a)},a.play=function(){d?o("playVideo")():(o("loadVideo")(v),d=1)},a.pause=function(){o("pauseVideo")()},a.paused=function(){return o("isVideoPaused")()},a.currentTime=function(e){return e!==i?o("setVideoCurrentTime")(e):o("getVideoCurrentTime")()},a.duration=function(){return o("getVideoDuration")()},a.buffered=function(){return!1},a.volume=function(e){return e!==i?void o("setVideoVolume")(e):o("getVideoVolume")()},a.muted=function(e){return e!==i&&o("setVideoMuted")(e),o("getVideoMuted")()},a.error=function(){return o("getVideoError")()},a.seeking=function(){return!1},a.ended=function(){return o("hasVideoEnded")()},a.playbackRate=function(){return 1},a.networkState=function(){return 1},a.readyState=function(){return o("getReadyState")()},a.disableEvents=function(e){},a.setTriggerContext=function(e){},a.setAdMode=function(){h="ad_"},a.setContentMode=function(){h=""},a.setAdViewPort=function(){l.setAdViewPort()},a.setContentViewPort=function(){l.setContentViewPort()},a.setSize=function(e,t){},a.loadVPAID=function(e,t){return l.loadVPAID(e)},a.getAdLinear=function(){return l.getAdLinear()},a.getAdWidth=function(){return l.getAdWidth()},a.getAdHeight=function(){return l.getAdHeight()},a.getAdExpanded=function(){return l.getAdExpanded()},a.getAdSkippable=function(){return l.getAdSkippable()},a.getAdRemainingTime=function(){return l.getAdRemainingTime()},a.getAdDuration=function(){return l.getAdDuration()},a.getAdVolume=function(){return l.getAdVolume()},a.setAdVolume=function(e){return l.setAdVolumne(e)},a.adCompanions=function(){return l.getAdCompanions()},a.hasAdIcons=function(){return l.hasAdIcons()},a.handshakeVersion=function(e){return l.handshakeVersion(e)},a.initAd=function(e,t,n,i,r,o){return l.initAd(e,t,n,i,r,o)},a.resizeAd=function(e,t,n){return l.resizeAd(e,t,n)},a.startAd=function(){return l.startAd()},a.stopAd=function(){return l.stopAd()},a.pauseAd=function(){return l.pauseAd()},a.resumeAd=function(){return l.resumeAd()},a.expandAd=function(){return l.expandAd()},a.collapseAd=function(){return l.collapseAd()},a.skipAd=function(){return l.skipAd()},a.subscribe=function(e,t){a.on(t,e)},a.unsubscribe=function(e,t){a.off(t,e)},t()}function f(e){r.call(this),e||(e={}),this.isHtml5Tech=!0;var t={"webkit-playsinline":"","x-webkit-airplay":"allow","class":"e-child-component e-video"};e.preload&&(t.preload=e.preload),e.src&&(t.src=e.src),e.videoSlot?this.videoObj=new u(e.videoSlot):this.uiObj=this.videoObj=new u("video",t),this.videoEl=this.videoObj.el,this.bindEvents(),this.setReady()}function h(e){r.call(this),this.options=e,this.playback=null,this.id=Ne("youtube"),this.on("playback.ready",this.onPlaybackReady),this.iframe=ke.createIframe("100%","100%",this.id),this.uiObj=new u(this.iframe,{"class":"e-video"}),ke.addEventListener(n,"message",I(this,this.onWindowMessage)),this.videoEl=this.uiObj.el,this._src=e.src,this._srcLoaded=!1,this._timer=setInterval(I(this,this.onTimeupdate),1e3)}function v(){}function g(e,t){var n,i=this,r=-1;i.id=e.id||"",i.title=e.title||"",i.description=e.description||"",i.poster=e.poster||e.defaultPoster||"",i.mediaItems=t,i.next=function(){return n?i.item(r+1):i.item(0)},i.previous=function(){return n?i.item(r-1):i.item(0)},i.item=function(e){return e>=0&&e<t.length?(n=t[e],r=e,n):null},i.currentIndex=function(){return r},i.length=function(){return t.length},i.reset=function(){n=null,r=-1}}function m(){var e=this,t=1e4;e.load=function(e,n,i){if(!e)return void i("Playlist is required");if("string"==typeof e){var r=new b(e,{timeout:t});r.onload=function(t){try{if(t.type===b.ContentType.XML)e=v.parse(t.data);else if(t.type===b.ContentType.JSON)e=t.data;else{var r=Ve.parse(t.data);if(!r)throw"The response from the server has a bad format or content-type";e=v.parse(r)}n(g.parse(e))}catch(o){i(o.toString())}},r.onerror=function(e){var t;switch(e.error){case b.ErrorType.BAD_STATUS:t=k("The server has returned an invalid status code {0}.",e.status);break;case b.ErrorType.BAD_CONTENT:t="The response from server is invalid.";break;case b.ErrorType.TIMEOUT:t="The request to server has reached the timeout.";break;case b.ErrorType.ERROR:t="A network error caused the playlist download to fail.";break;default:t="Unexpected error"}i(t)},r.send()}else try{n(g.parse(e))}catch(o){i(o.toString())}}}function A(e,i){function o(){O.appendChild(P),x.appendChild(_),F.appendChild(q),x.appendChild(F),i.share&&(I.appendChild(H),I.appendChild(W)),I.appendChild(U),I.appendChild(N),I.appendChild(D),i.fullscreen&&I.appendChild(V),I.appendChild(x),I.appendChild(j),k.appendChild(O),k.appendChild(I),a(),L.show()}function a(){N.addEventListener(["click","tap"],s),O.addEventListener(["click","tap"],l),V.addEventListener(["click","tap"],d),_.addEventListener(["click","tap"],c),F.addEventListener(["click","tap"],p),H.addEventListener(["click","tap"],f),W.addEventListener(["click","tap"],h),D.addEventListener(["click","tap"],v),U.addEventListener(["click","tap"],g),L.listenTo(e,we.CLICK,s),L.listenTo(e,we.TAP,s),L.listenTo(e,we.PLAYING,m),L.listenTo(e,we.PAUSE,A),L.listenTo(e,we.TIME_UPDATE,E),L.listenTo(e,we.VOLUME_CHANGE,y),L.listenTo(e,we.ENDED,T),L.listenTo(e,Ee.FULLSCREEN_CHANGED,w),L.listenTo(e,Ee.PLAYLIST_ENDED,b),L.listenTo(e,Ee.USER_ACTIVE,C),L.listenTo(e,Ee.USER_INACTIVE,S)}function s(){e.paused()||e.ended()?e.play():e.pause()}function l(t){var n=O.el.getBoundingClientRect(),i=t.clientX-n.left,r=i/O.el.clientWidth*e.duration();e.currentTime(r)}function d(){e.isFullscreen()?e.exitFullscreen():e.enterFullscreen()}function c(){e.muted(!e.muted())}function p(t){var n=F.el.getBoundingClientRect(),i=t.clientX-n.left,r=i/F.el.clientWidth;r=Math.min(Math.max(r,0),1),e.volume(r)}function f(){var i=n.location.href,r=t.title,o="http://twitter.com/share?url="+i+"&amp;text="+r,a="scrollbars=yes, resizable=yes, top=500, left=500, width=400, height=400";n.open(o,"_blank",a),e.trigger(Ee.TWITTER_SHARE)}function h(){var t=n.location.href,i="http://www.facebook.com/sharer.php?u="+t,r="scrollbars=yes, resizable=yes, top=500, left=500, width=400, height=400";n.open(i,"_blank",r),e.trigger(Ee.FACEBOOK_SHARE)}function v(){e.playNext()}function g(){e.playPrevious()}function m(){N.removeClass("e-play"),N.removeClass("e-replay"),N.addClass("e-pause"),y()}function A(){N.removeClass("e-pause"),N.removeClass("e-replay"),N.addClass("e-play")}function E(){var t,n=e.currentTime(),i=e.duration();t=0===i?0:n/i*100,t&&(j.innerHTML(M(n)+"/"+M(i)),P.width(t+"%"))}function y(){var t=e.volume();e.muted()||0===t?(_.removeClass("e-volume-up"),_.addClass("e-volume-off"),q.width("0%")):(_.removeClass("e-volume-off"),_.addClass("e-volume-up"),q.width(100*t+"%"))}function T(){N.removeClass("e-play"),N.removeClass("e-pause"),N.addClass("e-replay")}function w(){e.isFullscreen()?(V.removeClass("e-expand"),V.addClass("e-compress")):(V.removeClass("e-compress"),V.addClass("e-expand"))}function b(){R=!0}function C(){L.show()}function S(){L.hide()}var L=this;r.call(L);var R,k=L.uiObj=new u("div",{"class":"e-controls e-child-component"}),I=new u("div",{"class":"e-child-component e-controls-wrapper"}),O=new u("div",{"class":"e-progress-control e-control e-child-component",title:"Video Progress"}),P=new u("div",{"class":"e-progress e-control e-child-component"}),N=new u("div",{"class":"e-play-btn e-icon e-control e-play e-child-component",title:"Play / Pause / Replay"}),D=new u("div",{"class":"e-forward-btn e-icon e-control e-forward e-child-component",title:"Next"}),U=new u("div",{"class":"e-backward-btn e-icon e-control e-backward e-child-component",title:"Previous"}),V=new u("div",{"class":"e-icon e-expand e-full-screen e-control e-child-component",title:"Fullscreen"}),x=new u("div",{"class":"e-volume e-control e-child-component",title:"Volume"}),_=new u("div",{"class":"e-volume-icon e-icon e-control e-volume-up e-child-component",title:"Mute / Unmute"}),F=new u("div",{"class":"e-volume-level e-control e-child-component"}),q=new u("div",{"class":"e-volume-level-indicator e-control e-child-component"}),j=new u("div",{"class":"e-control playback-time",title:"Time"}),H=new u("div",{"class":"e-share e-icon e-twitter e-control",title:"Share on Twitter"}),W=new u("div",{"class":"e-share e-icon e-facebook e-control",title:"Share on Facebook"});L.show=function(){k.show()},L.hide=function(){k.hide()},L.width=function(){return k.width()},L.height=function(){return k.height()},o()}function E(e){var t=this;r.call(t);var n=t.uiObj=new u("div",{"class":"e-error-message"}),i=new u("div");n.appendChild(i),t.listenTo(e,Ee.ERROR,function(e){i.innerHTML(e.error.message),n.display(!0)}),t.listenTo(e,we.LOAD_START,function(){i.innerHTML(""),n.display(!1)})}function y(){var e=this;r.call(e);var t=this.uiObj=new u("i",{"class":"e-icon e-spinner e-spin"});e.show=function(){t.show()},e.hide=function(){t.hide()},e.show()}function T(e){function t(){e.addEventListener(a,l)}var n=this;r.call(n);var i=!0,o=!0,a=["mouseover","click","tap","mousedown","mousemove","mouseup","keydown","keyup"],s=4e3,l=Y(function(){o&&(u.set(s),i||(i=!0,n.trigger(T.Events.ACTIVE)))},250),u=B(function(){i&&(i=!1,n.trigger(T.Events.INACTIVE))});n.enable=function(){o=!0},n.disable=function(){o=!1},n.active=function(){return i},n.dispose=function(){u.clear(),e.removeEventListener(a,l),r.prototype.dispose.call(this)},t()}function w(e){function t(){o.show()}function n(){o.hide()}var i=this;r.call(i);var o=i.uiObj=new u("div",{"class":"e-video-title e-control e-child-component",title:"Video Title"}),a=new u("div",{"class":"e-video-title-label"});a.innerHTML("Default Title"),o.appendChild(a),i.listenTo(e,Ee.USER_ACTIVE,t),i.listenTo(e,Ee.USER_INACTIVE,n),i.setText=function(e){a.innerHTML(e)},i.show=function(){o.show()},i.hide=function(){o.hide()},i.width=function(){return o.width()},i.height=function(){return o.height()}}function b(e,i){function r(){if(s()){var t={url:e,status:p.status||200,xhr:p};if(t.status>=300)return void a(b.ErrorType.BAD_STATUS);var n=o(p);if(!n)return void a(b.ErrorType.BAD_CONTENT);t.data=n.data,t.type=n.type,t.mimeType=n.mimeType,c.onload&&c.onload(t)}}function o(e){var t;if(e.getResponseHeader?t=e.getResponseHeader("Content-type"):e.contentType&&(t=e.contentType),e.responseXML)return{data:e.responseXML,type:b.ContentType.XML,mimeType:t};if(e.responseText){var n,i;if("application/json"===t||c.jsonExpected)try{n=Ue.parse(e.responseText),i=b.ContentType.JSON}catch(r){}else"application/xml"===t||"text/xml"===t||"application/rss+xml"===t||c.xmlExpected?(n=Ve.parse(e.responseText),n&&(i=b.ContentType.XML)):(n=e.responseText,i=b.ContentType.TEXT);return n&&i?{data:n,type:i,mimeType:t}:void 0}}function a(t){var n={url:e,status:p.status||500,xhr:p,error:t||b.ErrorType.ERROR};c.onerror&&c.onerror(n)}function s(){return v?!1:(f&&clearTimeout(f),v=!0,!0)}function l(){s()&&a(b.ErrorType.ERROR)}function u(){s()&&(p.abort(),a(b.ErrorType.TIMEOUT))}function d(){var e=t.all&&!n.atob;if(e&&n.XDomainRequest)p=new XDomainRequest,h=!0;else{if(!n.XMLHttpRequest)throw new Error("Transport layer not found (XDomainRequest, XMLHttpRequest)");p=new XMLHttpRequest}}if(!e)throw new Error("Url required");var c=this;i||(i={}),c.url=e,c.method=i.method||"GET",c.async=!0,c.timeout=i.timeout,c.user=i.user||"",c.password=i.password||"",c.withCredentials=i.withCredentials===!0,c.headers=i.headers||{},c.sendData=i.sendData||null,c.xmlExpected=i.xmlExpected===!0,c.jsonExpected=i.jsonExpected===!0;var p,f,h=!1,v=!1;c.onload,c.onerror,c.onabort,c.send=function(){d(),p.onload=r,p.onerror=l;try{p.open(c.method,c.url,c.async,c.user,c.password)}catch(e){return void l()}if(p.setRequestHeader&&Object.keys(c.headers).forEach(function(e){p.setRequestHeader(e,c.headers[e])}),p.withCredentials=c.withCredentials,c.timeout&&(f=setTimeout(u,c.timeout)),h)return p.onprogress=function(){},p.ontimeout=function(){},void setTimeout(function(){p.send(c.sendData)},0);try{p.send(c.sendData)}catch(e){l()}},c.abort=function(){
s()&&(p.abort(),c.onabort&&c.onabort())}}function C(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n}function S(){function e(i,l,u,d){l=t(l),u=n(u),d||(d=r);for(var c=0,p=s.length;p>c;c++)try{s[c](i,l,u,d)}catch(f){if(a)throw f;i!==o&&e(o,t(f)+typeof s[c]+":"+c,"log-error",r)}}function t(e){return"string"==typeof e?e:"object"==typeof e?"function"==typeof e.toString?e.toString():e.message||e.name||"object":typeof e}function n(e){return"string"==typeof e?e:e?typeof e:""}function i(n,i,s){for(var u=0,d=l.length;d>u;u++)try{l[u](n,i,s)}catch(c){if(a)throw c;e(o,t(c)+typeof l[u]+":"+u,"log-event-error",r)}}var r="def",o="log-error",a=!1,s=this.listeners=[],l=this.eventListeners=[];this.bindCategory=function(n){return n||(n=r),{debug:function(t,i,r){e("debug",t,i,r||n)},warn:function(t,i,r){e("warn",t,i,r||n)},error:function(t,i,r){e("error",t,i,r||n)},event:function(e,t,r){i(e,t,r||n)},errorToString:t}},this.setDebug=function(e){a=e}}function L(e){return e=e||"",e+""+Math.random().toString(36).substr(2,9)}function R(){return""+Math.floor(99999999*Math.random())}function k(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n,r){return r=t[n],r===i?"undefined":r})}function I(e,t){return function(){return t.apply(e,arguments)}}function O(e){if("object"!=typeof e||null===e)throw new TypeError("Target is not an object");for(var t=1;t<arguments.length;t++){var n=arguments[t];if("object"==typeof n&&null!==n)for(var i,r=Object.keys(n),o=0,a=r.length;a>o;o++)i=r[o],e[i]=n[i]}return e}function P(e){"object"==typeof e&&null!==e||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];if("object"==typeof n&&null!==n)for(var i,r,o,a=Object.keys(n),s=0,l=a.length;l>s;s++)if(i=a[s],r=n[i],"object"==typeof r&&null!==r){if(o=e[i],"object"!=typeof o)try{o=new r.constructor}catch(u){}e[i]=P(o,r)}else e[i]=r}return e}function N(e,t){return t=t||0,Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function D(e){if(!e)return null;var t=e.split(":");switch(t.length){case 3:return 3600*parseInt(t[0])+60*parseInt(t[1])+parseFloat(t[2]);case 2:return 60*parseInt(t[0])+parseInt(t[1]);case 1:return parseInt(t[0])}return null}function M(e){function t(e){var t=Math.round(e),n=t+"";return 1===n.length&&(n="0"+n),n}var n="",i=Math.floor(e/3600);i>0&&(n+=t(i)+":"),e%=3600;var r=Math.floor(e/60);n+=t(r)+":";var o=e%60;return n+=t(o)}function U(e,t,n){var i=setTimeout(function(){e=function(){},n()},t);return function(){clearTimeout(i),e.apply(this,arguments)}}function V(e,t,n,i){var r=Math.min(n/e,i/t);return{width:e*r,height:t*r,r:r}}function x(){return!!(t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement)}function _(e){return e?e.split("://")[0]:null}function F(e){var t=e.split("?")[0].match(/.*\.(.*)$/)||[];return t.length>1&&t[1].length<=4?t[1]:""}function q(e,t,n){var i=String(e),r=t-i.length;return 0>=r?i:Array(r+1).join(n||"0")+i}function j(e,t){t===i&&(t=null);var n=parseInt(e,10);return isNaN(n)?t:n}function H(e,t){t===i&&(t=null);var n=parseFloat(e);return isNaN(n)?t:n}function W(e,t){return"true"===e?!0:"false"===e?!1:t===i?!1:t}function G(e,t,n){for(var i=0,r=e.length;r>i&&!(e[i][n]>t[n]);)i++;e.splice(i,0,t)}function K(e,t,n){for(var i=0,r=e.length;r>i&&!(e[i][n]<t[n]);)i++;e.splice(i,0,t)}function B(e,t){var n;return{isActive:function(){return!!n},set:function(r){n&&n();var o=setTimeout(function(){o&&(n(),e())},r||t||1);return n=function(){clearTimeout(o),o=i,n=i},this},clear:function(){return n&&n(),this}}}function Y(e,t){var n=!0;return function(){n&&(e(),n=!1,setTimeout(function(){n=!0},t))}}function J(e){var t,n=this,i=e.podAds.slice(0),r=e.standaloneAds.slice(0),o=i.length,a=o||(r.length?1:0),s=-1;n.next=function(e){var n;if(o){if(e&&t&&t.fallbackOnNoAd&&(t=null,n=r.shift()))return n;n=i.shift()}else t||(n=r.shift());return n?(s++,t=n,n):(s=-1,null)},n.getCurrentIndex=function(){return s},n.getPodLength=function(){return a},n.stop=function(){i=r=[]}}function X(e,t,o){function a(){_.uiObj=new u("div",{"class":"e-ads-container e-child-component"}),t.uiObj.appendChild(_.uiObj),k(),_.listenTo(t,Ee.RESIZE,P),_.listenTo(t,Ee.FULLSCREEN_CHANGED,N),_.listenTo(t,we.TIME_UPDATE,Y(O,400)),_.listenTo(t,we.LOADED_METADATA,D)}function s(){F=new ie(o),_.listenTo(F,_e.LOADED,l),_.listenTo(F,_e.ADS_READY,d),_.listenTo(F,_e.VMAP_ERROR,c)}function l(t){o.preloadPreroll&&w(0),I(),e.setAdsStatus(Te.AdsLoaded)}function d(e){var t=H;if(H=!1,q=!1,se)return void b();if(0===G){if(!t)return void(ee=e)}else{if(-1!==G)return void(ne=e);if(!t)return void(te=e)}p(e.ads)}function c(e){}function p(e){return W=new J(e),W.getPodLength()?(Se.isMobilePlatform&&t.playback.isHtml5Tech?(ae=!0,oe=M()):(ae=!1,oe=null),j=!0,Q=!1,Z=null,void f()):void b()}function f(){if(Q)return void b();var e,n,i=W.next(),r=W.getPodLength(),a=W.getCurrentIndex(),s=t.playback,l=t.width(),u=t.height();if(i){K=i;var d={useOnlyHtml5:o.useOnlyHtml5,isPod:r>1,time:G};if(n=new z(i,s,l,u,d),e=n.getCreative(),!e)return void f();e.isLinear&&a===r-1&&(Z=n.getNonLinearCreative(i.inline.creatives))}else{if(!Z)return void b();i=K,e=Z,Z=null}var c={stagePlayback:s,useStagePlayback:ae,canAutoplay:ve,player:t,width:l,height:e.isLinear?u:u-t.controls.height(),viewMode:x()?"fullscreen":"normal",slot:_.uiObj,time:G,podLength:r,adIndex:a,playerOptions:t.options,adTracking:de,adSlots:t.getAdSlots(),debug:le};switch(e.playType){case"HTML5_VPAID":h(e,c);break;case"FLASH_VPAID":h(e,c,!0);break;case"HTML5_VIDEO":case"FLASH_VIDEO":v(e,c);break;case"STATIC":g(e,c);break;default:return void f()}B=e,e.isLinear||(Q=!0,T())}function h(e,t,n){var i=new ge(e,t);_.listenTo(i,Te.AdStarting,m),_.listenTo(i,Te.AdEnded,A),_.listenTo(i,He.AdLinearChange,E),i.start(),X=i}function v(e,t){var n=new fe(e,t);_.listenTo(n,Te.AdStarting,m),_.listenTo(n,Te.AdEnded,A),n.start(),X=n}function g(e,t){var n=new ce(e,t);_.listenTo(n,Te.AdEnded,A),n.start(),X=n}function m(){return se?void X.stopLinear():void y()}function A(e){B.isLinear&&F&&F.processAdPlay(e.isComplete),_.stopListening(X),B=X=null,k(),f()}function E(){X&&(X.getAdLinear()?y():(Q=!0,T()))}function y(){1!==$&&($=1,e.setAdsStatus(Te.AdStarting,{time:G,isPlaybackUsed:ae}))}function T(){function t(){e.setAdsStatus(Te.AdEnded,{time:G,isPlaybackUsed:ae})}-1===G&&(Q=!0,R()),2!==$&&($=2,oe?U(oe,function(){t()}):t())}function w(e){if(!q){G=e,se=!1;var t=F.getAdBreaks(e);return t&&(q=!0),t}}function b(){k(),T(),C()}function C(){j=!1,K=B=X=oe=null}function S(){Q=!0,L(),C()}function L(){X&&(_.stopListening(X),X.dispose(),X=null)}function R(){F&&(_.stopListening(F),F.dispose(),F=null),L(),k()}function k(){_.uiObj.collapse()}function I(){re=t.duration(),F&&re&&F.setVideoDuration(re)}function O(){ve=!0;var e=t.duration();if(e){var n=t.currentTime();if(pe=n,F){if(ne&&n>=ne.time)return p(ne.ads),void(ne=null);var i=Math.min(e,n+he);i===e?w(-1):ne||q||j||w(i)}}}function P(){if(X&&X.isVpaid&&X.loaded()){var e=t.isFullscreen()?"fullscreen":"normal",n=t.width(),i=t.height(),r=t.controls.height();X.getAdLinear()||(i-=r),X.resizeAd(n,i,e)}}function N(){if(B){var e={adUrl:B.url};t.isFullscreen()?de.vastEvent(B,qe.FULLSCREEN,e):de.vastEvent(B,qe.EXIT_FULLSCREEN,e)}}function D(){I()}function M(){var e=t.playback;return{src:e.src(),ended:e.ended(),attrs:ke.getAttributes(e.videoEl)}}function U(e,i){function r(){return a.removeEventListener(we.LOADED_METADATA,r),s===l?(ue.error("Restore fails"),void i()):e.ended?void i():o.currentTime(pe)!==!1?void i():(n.setTimeout(r,100),void s++)}var o=t.playback,a=o.videoEl;V(a,e.attrs);var s=1,l=20;o.src(e.src),a.addEventListener(we.LOADED_METADATA,r),o.load()}function V(e,t){var n=ke.getAttributes(e);delete t.src,delete n.src,Object.keys(t).forEach(function(e){return n[e]!==i?(n[e]===t[e]&&delete t[e],void delete n[e]):void 0});var r=Object.keys(t),o=Object.keys(n);o.length&&ke.removeAttributes(e,o),r.length&&ke.setAttributes(e,t)}var _=this;r.call(_);var F,q,j,H,W,G,K,B,X,Z,Q,$,ee,te,ne,re,oe,ae,se,le=o.debug,ue=Oe.bindCategory("ads-manager"),de=o.adTracking,pe=0,he=3,ve=!Se.isMobilePlatform;_.loadTimeout=function(){return 0===G&&o.forcePreroll?void T():void(se=!0)},_.initialize=function(){ve=!0},_.requestAds=function(){F||(s(),F.load())},_.startPreroll=function(){return $=0,pe=0,ee?(p(ee.ads),void(ee=null)):q||w(0)?void(H=!0):void b()},_.startPostroll=function(){return $=0,j&&S(),te?(p(te.ads),void(te=null)):q||w(-1)?void(H=!0):ne?(p(ne.ads),void(ne=null)):void b()},_.reset=function(){R(),q=j=H=Q=se=ae=!1,re=oe=ee=te=ne=$=null,W=G=K=B=Z=null,pe=0},_.dispose=function(){_.reset(),r.prototype.dispose.call(_)};a()}function Z(e){function t(t,n){n=O(n||{},e.getData());var i={CONTENTPLAYHEAD:n.currentTime,CACHEBUSTING:l(),ASSETURI:n.adUrl};n.errorCode&&(i.ERRORCODE=n.errorCode),r(i,n.meta);for(var a=0,s=t.length;s>a;a++){var u=o(t[a],i);(new Image).src=u}}function r(e,t){if(t)for(var n=t.length-1;n>=0;n--)e[t[n].key]=e[t[n].value]}function o(e,t){return e.replace(/\[(\w+)\]/g,function(e,n){return n=t[n],n!==i?n:e})}var a=this,s=(Oe.bindCategory("ad-tracking"),{}),l=R;a.setContextData=function(e){s=e},a.addContextData=function(e){O(s,e)},a.callVastUrls=t,a.replaceMacros=o,a.impression=function(e,n){if(!e._impr){for(var i=[],r=0,o=e.inline;o;)[].push.apply(i,o.impressions),o=e.wrappers[r++];t(i,n),e._impr=1}},a.error=function(e,n,i,r){for(var o=[],a=0,s=e.inline;s;)[].push.apply(o,s.errors),s=e.wrappers[a++];r.errorCode=n,t(o,r)},a.vastError=function(e,n,i){for(var r=[],o=0,a=e.length;a>o;o++)[].push.apply(r,e[o].errors);i||(i={}),i.errorCode=n,t(r,i)},a.vastEvent=function(e,n,i){t(a.getEventUrls(a.getAllEvents(e),n),i)},a.getAllEvents=function(e){var t=e.trackingEvents;if(!t){var n=e.ad.wrappers,i=e.isLinear?"linear":"nonLinearAds";t=e.vastCreative[i].trackingEvents.slice(0);for(var r=0,o=n.length;o>r;r++)for(var a=n[r].creatives,s=0,l=a.length;l>s;s++){var u=a[s][i];u&&[].push.apply(t,u.trackingEvents)}e.trackingEvents=t}return t},a.getEventUrls=function(e,t){for(var n=[],i=0,r=e.length;r>i;i++)e[i].event===t&&n.push(e[i].url);return n},a.clickEvent=function(e,i,r){var o,a,s,l,u=e.ad.wrappers;e.isLinear?(o=e.linear,a="linear"):(o=e.nonLinear,a="nonLinearAds"),s=o.clickTracking?o.clickTracking.slice(0):[],l=o.clickThrough,l&&!r&&n.open(l);for(var d=0,c=u.length;c>d;d++)for(var p=u[d].creatives,f=0,h=p.length;h>f;f++){var v=p[f][a];v&&v.clickTracking&&[].push.apply(s,v.clickTracking)}t(s,i)},a.vmapEvent=function(e,t){}}function Q(e,t){var n,i=this,r=e*t;i.getWinner=function(){return n?n.media:null},i.process=function(i,o){var a=i.width,s=i.height;if(!(a>e||s>t)){o||(o=0);var l=Math.abs(a*s-r);if(n){if(o===n.score&&l>=n.diff)return;if(o<n.score)return}return n={score:o,diff:l,media:i},!0}}}function z(e,t,n,i,r){function o(t,r){for(var o,a,s,l=t.linear.mediaFiles,u=new $(n,i),d=0,c=l.length;c>d;d++)o=l[d],o.type===ae.MediaType.VIDEO&&(a=o.mimeType,r.isHtml5Tech&&o.codec&&(a+=';codecs="'+o.codec+'"'),r.canPlayType(a)&&u.process(o));return s=u.getWinner(),s?{playback:r,playType:r.isHtml5Tech?"HTML5_VIDEO":"FLASH_VIDEO",isLinear:!0,ad:e,vastCreative:t,linear:t.linear,mediaFile:s}:void 0}function a(t,n){var i;if(n.isHtml5Tech)i=ae.MediaType.HTML5_VPAID;else{if(!n.isFlashTech)return;i=ae.MediaType.FLASH_VPAID}for(var r,o=t.linear.mediaFiles,a=0,s=o.length;s>a;a++)if(r=o[a],r.type===i)return{playback:n,playType:n.isHtml5Tech?"HTML5_VPAID":"FLASH_VPAID",isLinear:!0,ad:e,vastCreative:t,linear:t.linear,mediaFile:r}}var s=this;r||(r={});var l=r.time,u=e.requestData.allowTypes,d=[f,p];s.getCreative=function(){var t,n,i,o,a=ae.CreativeType.LINEAR,l=ae.CreativeType.NONLINEAR,d=u,c=e.inline.creatives;if(r.isPod&&(d=[a]),d&&d.length)for(i=0,o=d.length;o>i;i++){switch(d[i]){case a:n=s.getLinearCreative(c);break;case l:n=s.getNonLinearCreative(c)}if(n)return n}else for(i=0,o=c.length;o>i;i++)if(t=c[i],t.linear?n=s.getLinearCreative([t]):t.nonLinearAds&&(n=s.getNonLinearCreative([t])),n)return n},s.getLinearCreative=function(e){for(var t,n,i,s=0,l=e.length;l>s;s++)if(t=e[s],t.linear)for(var u=0,c=d.length;c>u;u++)if(i=d[u],i.isSupported()&&(!i.isFlashTech||!r.useOnlyHtml5)&&(n=o(t,i)||a(t,i)))return n},s.getNonLinearCreative=function(o){if(-1!==l)for(var a=0,s=o.length;s>a;a++){var u=o[a];if(u.nonLinearAds){for(var d,c,p,f=u.nonLinearAds.nonLinears,h=n,v=.33*i,g=new Q(h,v),m=0,A=f.length;A>m;m++)if(d=f[m],"VPAID"===d.apiFramework){if(d.staticResource){if(c=d.staticResource.type,c===ae.StaticType.FLASH){if(r.useOnlyHtml5)continue;if(!t.isFlashTech)continue;d.playType="FLASH_VPAID",p=10}else{if(c!==ae.StaticType.JAVASCRIPT)continue;d.playType="HTML5_VPAID",p=20}g.process(d,p)}}else d.playType="STATIC",g.process(d,0);if(d=g.getWinner())return{playType:d.playType,isLinear:!1,ad:e,vastCreative:u,nonLinear:d}}}},s.getCreativeType=function(){for(var t,n=e.inline.creatives,i=0,r=n.length;r>i;i++){if(t=n[i],t.linear)return ae.CreativeType.LINEAR;if(t.nonLinearAds)return ae.CreativeType.NONLINEAR}}}function $(e,t){var n,i=this,r=e/t,o=e*t;i.getWinner=function(){return n?n.media:null},i.process=function(i,a){var s=i.width,l=i.height;if(!(e>s&&t>l&&i.scalable===!1)){a||(a=0);var u=s/l;u===r&&a++,s>=e&&a++,l>=t&&a++;var d=Math.abs(s*l-o);if(n){if(a<n.score)return;if(a===n.score&&d>=n.diff)return}return n={score:a,diff:d,media:i},!0}}}function ee(e){function t(){var t=e.currentTime(),i=1e3*(t-o);Math.abs(i)<s+l?(n.currentTime=e.currentTime(),n.seeking=!1):n.seeking=!0,o=t}var n=this;r.call(n);var o,a,s=1e3,l=100;n.currentTime,n.seeking,n.start=function(){n.reset(),n.listenToOne(e,"play",function(){a=setInterval(t,s)})},n.reset=function(){clearInterval(a),clearInterval(a),a=a=i},n.start()}function te(){function e(){g.appendChild(m),b.appendChild(C),S.appendChild(L),b.appendChild(S),v.appendChild(g),A.appendChild(E),A.appendChild(y),A.appendChild(w),A.appendChild(b),v.appendChild(A),E.addEventListener(["click","tap"],t),g.addEventListener(["click","tap"],n),w.addEventListener(["click","tap"],i),C.addEventListener(["click","tap"],o),S.addEventListener(["click","tap"],a)}function t(){return d?l.trigger(xe.PAUSE):void l.trigger(xe.PLAY)}function n(e){var t=g.el.getBoundingClientRect(),n=e.clientX-t.left,i=n/g.el.clientWidth*100;i=Math.min(Math.max(i,0),100),l.trigger({name:xe.SEEK,position:i})}function i(){return c?l.trigger(xe.EXIT_FULLSCREEN):void l.trigger(xe.ENTER_FULLSCREEN)}function o(){return p?l.trigger(xe.UNMUTE):void l.trigger(xe.MUTE)}function a(e){var t=S.el.getBoundingClientRect(),n=e.clientX-t.left,i=n/S.el.clientWidth;i=Math.min(Math.max(i,0),1),l.trigger({name:xe.VOLUME_CHANGED,volume:i})}function s(){0===h||p?(C.removeClass("e-volume-up"),C.addClass("e-volume-off"),L.el.style.width="0%"):(C.removeClass("e-volume-off"),C.addClass("e-volume-up"),L.el.style.width=100*h+"%")}var l=this;r.call(l);var d,c,p,f,h=0,v=l.uiObj=new u("div",{"class":"e-controls e-child-component"}),g=new u("div",{"class":"e-progress-control e-control e-child-component"}),m=new u("div",{"class":"e-progress e-control e-child-component"}),A=new u("div",{"class":"e-child-component e-controls-wrapper"}),E=new u("div",{"class":"e-play-btn e-icon e-control e-play e-child-component"}),y=new u("div",{"class":"e-adinfo e-control"}),w=new u("div",{"class":"e-icon e-expand e-full-screen e-control e-child-component"}),b=new u("div",{"class":"e-volume e-control e-child-component"}),C=new u("div",{"class":"e-volume-icon e-icon e-control e-volume-off e-child-component"}),S=new u("div",{"class":"e-volume-level e-control e-child-component"}),L=new u("div",{"class":"e-volume-level-indicator e-control e-child-component"});l.onParentAdded=function(e){f=new T(e.uiObj),l.listenTo(f,T.Events.ACTIVE,l.show),l.listenTo(f,T.Events.INACTIVE,l.hide)},l.show=function(){v.show()},l.hide=function(){v.hide()},l.setPlaying=function(e){d?(E.removeClass("e-pause"),E.addClass("e-play")):(E.removeClass("e-play"),E.addClass("e-pause")),d=e},l.setProgress=function(e){m.width(e+"%")},l.setCountdownText=function(e){y.innerHTML(e)},l.setMuted=function(e){p=e,s()},l.setVolume=function(e){h=e,s()},l.setFullscreen=function(e){c!==e&&(c?(w.removeClass("e-expand"),w.addClass("e-compress")):(w.removeClass("e-compress"),w.addClass("e-expand")),c=e)},l.dispose=function(){f.dispose(),r.prototype.dispose.call(l)},e()}function ne(){function e(){i.innerHTML("Skip"),i.addEventListener(["click","tap"],t)}function t(){n.trigger("click")}var n=this;r.call(n);var i=n.uiObj=new u("div",{"class":"e-control e-skipad-button"});n.setText=function(e){i.innerHTML(e)},n.show=function(){i.show()},n.hide=function(){i.hide()},e()}function ie(e){function t(e,t){var i={loadEnd:!1,time:t};i.timeoutId=setTimeout(function(){u(i)},E),I=[];var r,o,a=e.length;for(a>1&&(r=1);a--;)o=e[a],r&&(o.sequence=r++),n(o,i)}function n(t,n){var i=t.allowTypes,r={adBreakId:t.id,allowTypes:i,sourceId:t.sourceId},o={timeout:E,followAdditionalWrappers:t.followRedirects!==!1,allowMultipleAds:t.allowMultipleAds!==!1,debug:S,adTracking:e.adTracking,requestData:r};(t.sequence||i&&-1===i.indexOf(ae.CreativeType.LINEAR))&&(o.skipPod=!0),y&&(o.maxPodLength=y),T&&(o.redirectMaxLevel=T);var a;if(t.tag)o.requestData.tagId=t.tag.Id,a=new ae({url:t.tag.url},o);else if(t.data)a=new ae({data:t.data},o);else{if(!t.placement)return;a=new re(t.placement,o,M)}A.listenTo(a,me.READY,function(){l(t,n)}),I.push({adBreak:t,vast:a}),a.load()}function o(){if(w&&R.length){for(var e=0,t=R.length;t>e;e++){var n=R[e];n.time=w*(n.percent/100),_(L,n,"time"),n.repeatAfter&&k.push(n)}R=[]}}function a(){if(w&&k.length){for(var e,t,n,i,r=w-5,o=0,a=k.length;a>o;o++)for(i=k[o],e=i.repeatAfter,t=i.time+e;w>=t;)t>r&&(t=1/0),n=O({},i),n.time=t,_(L,n,"time"),t+=e;k=[]}}function s(){N=!0,P=!1,o(),a(),A.trigger({name:_e.LOADED,isPercent:!!R.length})}function l(e,t){for(var n=I.length;n--;)if(!I[n].vast.isReady)return;u(t)}function u(e){e.loadEnd||(e.loadEnd=!0,clearTimeout(e.timeoutId),D=!1,A.stopListening(),A.trigger({name:_e.ADS_READY,ads:d(),time:e.time===1/0?-1:e.time}))}function d(){var e,t=[],n=[],i=I.length;if(1===i)e=I[0].vast.getAds(),t=e.podAds,n=e.standaloneAds;else if(i>1)for(var r=0;i>r;r++)e=I[r].vast.getAds(),[].push.apply(t,e.standaloneAds);return y&&(t.length>y&&(t=t.slice(0,y)),n.length>y&&(n=n.slice(0,y))),{podAds:t,standaloneAds:n}}function c(e){var t=new b(e,{timeout:E,xmlExpected:!0});t.onload=function(t){t.type===b.ContentType.XML?p(t.data,e):f(Fe.UNDEFINED,{url:e}),s()},t.onerror=function(t){f(Fe.UNDEFINED,{url:e}),s()},t.send()}function p(e,t){var n=V.parseDocument(e);if(n.errorCode)return void f(n.errorCode,{url:t});var i,r,o,a,s=n.adBreaks,l=n.trackingBreaks;if(l.length)for(i=l.length;i--;)for(o=l[i],r=s.length;r--;)a=s[r],a.time===o.time&&a.percent===o.percent&&[].push.apply(a.trackingEvents,o.trackingEvents);v(s)}function f(e,t){A.trigger({name:_e.VMAP_ERROR,code:e,context:t})}function h(e){E=x(e.timeout,5e3),e.maxPodLength&&(y=x(e.maxPodLength,3)),e.redirectMaxLevel&&(T=x(e.redirectMaxLevel,10)),v(e.adBreaks)}function v(e){if(e&&e.length)for(var t=0,n=e.length;n>t;t++){var i=g(e[t]);if(i)for(var r,o,a=i.timeOffsets.length;a--;)r=i.timeOffsets[a],o=O({},i),null!==r.time?(o.time=r.time,_(L,o,"time"),o.repeatAfter&&k.push(o)):null!==r.percent&&(o.percent=r.percent,R.push(o))}}function g(e){var t=O({},e),n=m(""+t.time);if(n.length){t.timeOffsets=n,delete t.time;var i=t.tag;if((!i||i.url)&&(i||t.placement||t.data)){var r=t.repeatAfter;return r&&(r=x(r,0),r>10&&1===n.length?t.repeatAfter=r:delete t.repeatAfter),t.allowTypes&&!t.allowTypes.length&&delete t.allowTypes,t.trackingEvents||(t.trackingEvents=[]),t}}}function m(e){if(!e||"string"!=typeof e)return[];e=e.split(",");for(var t=e.length,n=[];t--;){var i=e[t].trim(),r=null,o=null;if(i){if(-1!==i.indexOf("%")){var a=x(i.slice(0,-1));if(null===a)continue;0>=a?r=0:a>=100?r=1/0:o=a}else{if(r=x(i),null===r||-1>r)continue;-1===r&&(r=1/0)}n.push({time:r,percent:o})}}return n}var A=this;r.call(A);var E,y,T,w,C,S=e.debug,L=(Oe.bindCategory("ads-loader"),[]),R=[],k=[],I=[],P=!1,N=!1,D=!1,M={},U=!1,V=new le({debug:S}),x=j,_=G;A.load=function(){if(!P&&!N){if(P=!0,h(e),C=new oe(A,e),C.load(),L.length||R.length);else if(e.vmap&&!U)return void c(e.vmap);s()}},A.setVideoDuration=function(e){e&&!w&&(w=e,o(),a())},A.getAdBreaks=function(e){if(N&&(C.processTimeProgress(e,w),-1===e&&(e=1/0),L.length&&!(L[0].time>e)&&!U&&!D)){D=!0;for(var n,r,o=L,a=o.length,s=[],l=a;l--;)n=o[l],n.time<=e&&(r===i&&(r=n.time),r===n.time&&s.push(n),o.splice(l,1));return s.length?(t(s,r),C.processAdBreakLoad(),s.length):void(D=!1)}},A.runAdBreaks=function(e,n){if(!D){D=!0;for(var i=[],r=e.length;r--;){var o=g(e[r]);o&&i.push(o)}return t(i,n||-2),i.length}},A.scheduleAdBreaks=function(e){v(e),o(),a()},A.getCuePoints=function(){if(U)return[];for(var e,t=[],n=0,i=L.length;i>n;n++)e=L[n].time,e===1/0&&(e=-1),t.push(e);return t},A.clearAdBreaks=function(){L=[],R=[],k=[]},A.disableSchedule=function(e){U=e},A.processAdPlay=function(e){C.processAdPlay(e)}}function re(e,t,n){function i(e){var t,n,i=0,r=Math.random(),o=e.length;for(n=0;o>n;n++)if(t=e[n],!(t.disableOnFail&&-1!==b.indexOf(t.id)||t.share&&(i+=t.share/100,r>i)))return t;return e[o-1]}function o(e,n){t.requestData=O({layerId:v.id,tagId:e.id},w);var i=new ae({url:e.url},t);f.listenTo(i,me.READY,function(){n(e,i),y++,y===m&&(f.isReady||(g||b.push(v.id),a()))}),i.load()}function a(){f.isReady||(clearTimeout(A),f.setReady())}function s(){function e(t){function u(){p||l||f.isReady||(p=!0,clearTimeout(A),e(++t))}var d=i[t];if(d){o(d,function(e,t){if(!l){if(!t.hasAds())return void u();g={tag:e,vast:t},l=!0,a()}});var c;c=r?n+(t+1)*s-Date.now():s,A=setTimeout(u,c);var p=!1}}var n,i=v.tags,r=v.staticTimeline,s=Math.floor(t.timeout/i.length),l=!1;r&&(n=Date.now()),e(0)}function l(){function e(){if(g){for(var e=0,t=d.length;t>e;e++){var n=d[e];if(!n.isLoaded){if(n.weight>g.tag.weight&&l)return;break}}s=!0,a()}}var t,n,i,r=v.tags,s=!1,l=!0,d=[];for(t=0,n=r.length;n>t;t++){var c=O({},r[t]);d.push(c),o(c,function(t,n){if(t.isLoaded=!0,!s){if(!n.hasAds())return void e();if(t.useVastPrice&&(i=u(n),i&&(t.weight=i)),g&&t.weight<=g.tag.weight)return void e();g={tag:t,vast:n},e()}})}A=setTimeout(function(){s||f.isReady||(l=!1,e())},v.waitTimeout)}function u(e){var t,n,i,r=e.getAds();r=r.podAds.concat(r.standaloneAds);for(var o=0,a=r.length;a>o;o++){t=r[o],n=[t.inline].concat(t.wrappers);for(var s=n.length;s--;){i=n[s];var l=i.pricing||i.extensions.pricing;if(l&&"CPM"===l.model&&"USD"===l.currency)return l.value}}}function d(e){var t=e.layers;if(t&&t.length&&(h=c(t),h.length))return!0}function c(e){for(var t,n=[],i=0,r=e.length;r>i;i++)if(t=e[i],t.position&&t.id){t.share&&(t.share=C(t.share,100)),t.waterfall||t.broadcast||(t.waterfall=!0),t.broadcast&&(t.waitTimeout=C(t.waitTimeout,3e3));var o=p(t.tags);o.length&&(t.tags=o,L(n,t,"position"))}return n}function p(e){for(var t,n=[],i=0,r=e.length;r>i;i++)t=e[i],t.url&&(t.weight=S(t.weight,0),R(n,t,"weight"));return n}var f=this;r.call(f);var h,v,g,m,A,E=(t.debug,Oe.bindCategory("placement")),y=0,T=!1,w=t.requestData||{},b=n.failedLayers||(n.failedLayers=[]),C=j,S=H,L=G,R=K;w.placementId=e.id,f.load=function(){if(!T){if(T=!0,!d(e))return E.error("Invalid placement options"),void a();v=i(h),m=v.tags.length,v.waterfall?s():v.broadcast&&l()}},f.getAds=function(){return g?g.vast.getAds():{podAds:[],standaloneAds:[]}},f.hasAds=function(){return g?g.vast.hasAds():!1},f.getRequestData=function(){return g?g.vast.getRequestData():w}}function oe(e,t){function n(t){if(m.length){for(var n=[],i=0,r=m.length;r>i;i++){var o=m[i];t.videoPlays<o.startOnVideo||(t.videoPlays-o.startOnVideo)%o.playOnVideos===0&&n.push(o)}n.length&&e.scheduleAdBreaks(n),m=[]}}function r(e){if(A.length){var t=A[0];if(!(e.videoPlays<t.startOnVideo)){var n=Date.now(),i=e.lastAdRun||e.created;t.runOn=o(i,t.playOnMinutes,n),E=i+c.timeGap,p=t}}}function o(e,t,n){n||(n=Date.now());var i=6e4*t;return n-(n-e)%i+i}function a(t){return t.adPlays>=c.dayMaxPlays||t.adViews>=c.dayMaxViews?(e.disableSchedule(!0),p=i,!1):!0}function s(){var e,t=Date.now();return e=h?Ie.getItem(y,!0):Re.get(y,!0),"object"!=typeof e||null===e?e={created:t,videoPlays:0,lastAdPlay:0,lastAdRun:0,dayEnd:t+864e5,adPlays:0,adViews:0}:e.dayEnd<t&&(e.dayEnd=t+864e5,e.adPlays=0,e.adViews=0),e}function l(e){h?Ie.setItem(y,e):Re.set(y,e,30,"/")}function u(e){var t={};if(e=e.stream||{},h=Ie.persistent||!Re.enabled,v=Ie.persistent||Re.enabled,t.dayMaxPlays=T(e.dayMaxPlays,1/0),t.dayMaxViews=T(e.dayMaxViews,1/0),t.timeGap=6e4*Math.max(T(e.timeGap,1),1),d(e.adBreaks),(m.length||A.length)&&!v){var n=m.shift()||A.shift();n.startOnVideo=1,n.playOnVideos=1,n.time||(n.time=0),m=[n],A=[]}return t}function d(e){if(e&&e.length)for(var t=0,n=e.length;n>t;t++){var i=e[t];if(i.id){i=O({},i),i.startOnVideo=Math.max(T(i.startOnVideo,1),1);var r=i.playOnMinutes;if(r){if(r=T(r,0),1>r)continue;delete i.repeatAfter,i.playOnMinutes=r,A.push(i)}else i.playOnVideos=Math.max(T(i.playOnVideos,1),1),m.push(i)}}}var c,p,f,h,v,g=this,m=(t.debug,Oe.bindCategory("ads-stream"),[]),A=[],E=0,y="evsp-stream",T=j;g.load=function(){c=u(t),f=s(),f.videoPlays++,a(f)&&(n(f),r(f)),l(f)},g.processTimeProgress=function(t,n){if(p){var i=Date.now(),r=p;E>i||r.runOn<i&&(r.runOn=i+6e4*r.playOnMinutes,r.time=t,e.scheduleAdBreaks([r]))}},g.processAdBreakLoad=function(){var e=Date.now();E=e+c.timeGap,f=s(),f.lastAdRun=e,l(f)},g.processAdPlay=function(e){var t=Date.now();f=s(),f.adPlays++,e&&f.adViews++,f.lastAdPlay=t,a(f),l(f)},g.dispose=function(){m=[],A=[],p=f=i,E=0}}function ae(e,t){function n(){if(!e||!e.url&&!e.data)throw new Error("Invalid resource")}function i(e,n){var i=new b(e,{timeout:t.timeout,xmlExpected:!0});i.onload=function(e){u(i),e.type===b.ContentType.XML?o(e.data,n):c(je.XML_PARSING,n),d()},i.onerror=function(e){var t;t=n.wrappers.length?e.error===b.ErrorType.TIMEOUT?je.WRAPPER_TIMEOUT:je.WRAPPER_GENERAL:je.UNDEFINED,u(i),c(t,n),d()},i.send(),A.push({request:i,context:n,url:e})}function o(e,n){if(!p.isReady){var r=y.parseDocument(e);if(r.errorCode)return void c(r.errorCode,n,r);var o,l,u,d=!1,f=m,A=0,E=a(r.ads);for(o=0,l=E.length;l>o;o++){if(u=E[o],!n.allowMultipleAds){if(u.sequence)continue;if(d)continue}if(u.sequence){if(f||t.skipPod)continue;if(A>=t.maxPodLength)continue;m=!0,A++}else if(n.sequence){if(v.length>=t.maxPodLength)continue}else if(g.length>=t.maxPodLength)continue;var T,b=n.position+(10>=l?o:q(o,2))+"-",S=u.sequence||n.sequence;if(u.wrapper){var L=u.wrapper;if(n.level>=t.redirectMaxLevel)continue;if(!n.followAdditionalWrappers)continue;var R={level:n.level+1,followAdditionalWrappers:L.followAdditionalWrappers,allowMultipleAds:n.allowMultipleAds&&L.allowMultipleAds,sequence:S,position:b,wrappers:[u.wrapper].concat(n.wrappers),url:L.vastAdTagUrl};u.sequence?(T={sequence:u.sequence,position:b,fallbackOnNoAd:L.fallbackOnNoAd,hasAds:!1},h.push(T),R.podTrack=T):n.podTrack&&(R.podTrack=n.podTrack),i(L.vastAdTagUrl,R)}else{var k={uid:Ne("ad"),inline:u.inline,wrappers:n.wrappers,sequence:S,position:b,context:n,requestData:w};if(S){if(!s(k.inline))continue;u.sequence?k.fallbackOnNoAd=!0:(T=n.podTrack,T&&(k.fallbackOnNoAd=T.fallbackOnNoAd,T.hasAds=!0)),C(v,k,"position")}else C(g,k,"position")}d=!0}}}function a(e){var t,n,i,r=[],o=[];for(n=0,i=e.length;i>n;n++)t=e[n],t.sequence?C(r,t,"sequence"):o.push(t);return r.concat(o)}function s(e){for(var t=e.creatives,n=t.length;n--;)if(t[n].linear)return!0;return!1}function l(){var e,n,i,r;for(n=0,i=h.length;i>n;n++)if(e=h[n],!e.hasAds){if(v.length>=t.maxPodLength)return;e.fallbackOnNoAd&&(r=g.shift(),r&&(r.position=e.position,r.sequence=e.sequence,C(v,r,"position")))}}function u(e){for(var t=A.length-1;t>=0;t--)if(A[t].request===e)return void A.splice(t,1)}function d(){A.length||p.isReady||(l(),p.setReady())}function c(e,t,n){e===je.WRAPPER_NO_ADS&&n.rootError&&T.callVastUrls([n.rootError],{errorCode:e});var i={};T.vastError(t.wrappers,e,i)}var p=this;r.call(p);var f=t.debug;Oe.bindCategory("vast");t=O({timeout:2e4,followAdditionalWrappers:!0,allowMultipleAds:!0,skipPod:!1,maxPodLength:3,redirectMaxLevel:10,debug:!1},t);var h=[],v=[],g=[],m=!1,A=[],E=!1,y=new se({debug:f}),T=t.adTracking,w=t.requestData||{},C=G;p.load=function(){if(!E){E=!0;var n={level:0,followAdditionalWrappers:t.followAdditionalWrappers,allowMultipleAds:t.allowMultipleAds,sequence:null,position:"",wrappers:[],url:""};e.url?(n.url=e.url,i(e.url,n)):e.data&&o(e.data,n),d()}},p.getAds=function(){return{podAds:v,standaloneAds:g}},p.hasAds=function(){return v.length||g.length},p.getRequestData=function(){return w},p.stop=function(){p.isReady||p.setReady()};n()}function se(e){function t(e){var t={};return t.id=L(e,"id"),t.sequence=k(L(e,"sequence")),S(e,function(e){switch(e.nodeName){case"InLine":var i=n(e);return void(i&&(i.adId=t.id,t.inline=i));case"Wrapper":var r=y(e);return void(r&&(r.adId=t.id,t.wrapper=r))}}),t.inline||t.wrapper?t:void 0}function n(e){var t={};return t.impressions=[],t.errors=[],S(e,function(e){switch(e.nodeName){case"AdSystem":var n=R(e);return void(n&&(t.adSystem={version:L(e,"version"),name:n}));case"AdTitle":return void(t.adTitle=R(e));case"Creatives":return void(t.creatives=i(e));case"Impression":var r=l(e);return void(r&&t.impressions.push(r));case"Description":return void(t.description=R(e));case"Advertiser":return void(t.advertiser=R(e));case"Survey":return t.surveys||(t.surveys=[]),void t.surveys.push({type:L(e,"type"),url:R(e)});case"Error":var r=l(e);return void(r&&t.errors.push(r));case"Pricing":var o=u(e);return void(o&&(t.pricing=o));case"Extensions":return void(t.extensions=E(e))}}),t.creatives&&t.creatives.length?t:void 0}function i(e){var t=[];return S(e,function(e){if("Creative"===e.nodeName){var n=r(e);n&&N(t,n,"sequence")}}),t}function r(e){var t={};return t.id=L(e,"id"),t.sequence=k(L(e,"sequence"),0),t.adId=L(e,"adID"),t.apiFramework=L(e,"apiFramework"),S(e,function(e){switch(e.nodeName){case"Linear":return void(t.linear=o(e));case"CompanionAds":return void(t.companionAds=v(e));case"NonLinearAds":return void(t.nonLinearAds=m(e));case"CreativeExtensions":return void(t.creativeExtensions=E(e,"CreativeExtension"))}}),t.linear||t.nonLinearAds||t.companionAds?t:void 0}function o(e){var t={},n=L(e,"skipoffset");return n&&(n=-1!==n.indexOf("%")?{percent:k(n.slice(0,-1),5)}:{time:P(n)},t.skipOffset=n),t.trackingEvents=[],S(e,function(e){switch(e.nodeName){case"Duration":var n=R(e);return void(n&&(t.duration=P(n)));case"MediaFiles":return void(t.mediaFiles=a(e));case"VideoClicks":return void s(e,t);case"AdParameters":return void(t.adParameters={xmlEncoded:O(L(e,"xmlEncoded")),value:R(e)});case"TrackingEvents":return void[].push.apply(t.trackingEvents,d(e));case"Icons":return t.icons||(t.icons=[]),void[].push.apply(t.icons,c(e))}}),t.duration&&t.mediaFiles&&t.mediaFiles.length?t:void 0}function a(e){var t=[];return S(e,function(e){if("MediaFile"===e.nodeName){var n={};if(n.url=R(e),n.delivery=L(e,"delivery"),n.mimeType=L(e,"type"),n.width=k(L(e,"width"),0),n.height=k(L(e,"height"),0),n.codec=L(e,"codec"),n.id=L(e,"id"),n.bitrate=k(L(e,"bitrate")),n.minBitrate=k(L(e,"minBitrate")),n.maxBitrate=k(L(e,"maxBitrate")),n.scalable=O(L(e,"scalable"),!0),n.maintainAspectRatio=O(L(e,"maintainAspectRatio"),!0),n.apiFramework=L(e,"apiFramework"),"VPAID"===n.apiFramework){if("application/x-javascript"===n.mimeType||"application/javascript"===n.mimeType?(n.mimeType="application/x-javascript",n.type=ae.MediaType.HTML5_VPAID):"application/x-shockwave-flash"===n.mimeType&&(n.type=ae.MediaType.FLASH_VPAID),n.url&&n.type)return void t.push(n)}else if(n.type=ae.MediaType.VIDEO,n.url&&n.mimeType&&n.width&&n.height)return void t.push(n)}}),t}function s(e,t){var n,i,r=[];return S(e,function(e){var t=l(e);if(t)switch(e.nodeName){case"ClickTracking":return void r.push(t);case"ClickThrough":return void(n=t);case"CustomClick":return void(i=t)}}),r.length||n||i?(t.clickTracking=r,t.clickThrough=n,void(t.customClick=i)):void 0}function l(e){var t=R(e);return t?t:void 0;
}function u(e){var t={model:L(e,"model")||"CPM",currency:L(e,"currency")||"USD",value:I(R(e))};return t.value?t:void 0}function d(e){var t=[];return S(e,function(e){if("Tracking"===e.nodeName){var n={event:L(e,"event"),url:R(e)},i=L(e,"offset");i&&(i=-1!==i.indexOf("%")?{percent:k(i.slice(0,-1),5)}:{time:P(i)},n.offset=i);var r=n.event&&n.url;if("progress"===n.event&&(r=r&&n.offset),r)return void t.push(n)}}),t}function c(e){var t=[];return S(e,function(e){if("Icon"===e.nodeName){var n=p(e);n&&t.push(n)}}),t}function p(e){var t={};t.program=L(e,"program"),t.height=k(L(e,"height")),t.width=k(L(e,"width")),t.xPosition=L(e,"xPosition"),t.yPosition=L(e,"yPosition"),t.apiFramework=L(e,"apiFramework");var n=L(e,"offset");n&&(t.offset=P(n));var i=L(e,"duration");return i&&(t.duration=P(i)),t.viewTracking=[],S(e,function(e){switch(e.nodeName){case"StaticResource":return void(t.staticResource=h(e));case"IFrameResource":return void(t.iframeResource=l(e));case"HTMLResource":return void(t.htmlResource=l(e));case"IconClicks":return void f(e,t);case"IconViewTracking":var n=l(e);return void(n&&t.viewTracking.push(n))}}),t.program&&t.width&&t.height&&t.xPosition&&t.yPosition&&(t.staticResource||t.iframeResource||t.htmlResource)?t:void 0}function f(e,t){var n,i=[];return S(e,function(e){var t=l(e);if(t)switch(e.nodeName){case"IconClickTracking":return void i.push(t);case"IconClickThrough":return void(n=t)}}),i.length||n?(t.clickTracking=i,void(t.clickThrough=n)):void 0}function h(e){var t,n=L(e,"creativeType");"image/gif"===n||"image/jpeg"===n||"image/png"===n?t=ae.StaticType.IMAGE:"application/x-javascript"===n||"application/javascript"===n?t=ae.StaticType.JAVASCRIPT:"application/x-shockwave-flash"===n&&(t=ae.StaticType.FLASH);var i=R(e);return t&&i?{type:t,url:i,mimeType:n}:void 0}function v(e){var t={};return t.required=L(e,"required")||"none",t.companions=[],S(e,function(e){if("Companion"===e.nodeName){var n=g(e);n&&t.companions.push(n)}}),t.companions.length?t:void 0}function g(e){var t={};return t.width=k(L(e,"width")),t.height=k(L(e,"height")),t.id=L(e,"id"),t.assetWidth=k(L(e,"assetWidth")),t.assetHeight=k(L(e,"assetHeight")),t.expandedWidth=k(L(e,"expandedWidth")),t.expandedHeight=k(L(e,"expandedHeight")),t.apiFramework=L(e,"apiFramework"),t.adSlotId=L(e,"adSlotID"),t.clickTracking=[],t.trackingEvents=[],S(e,function(e){switch(e.nodeName){case"StaticResource":return void(t.staticResource=h(e));case"IFrameResource":return void(t.iframeResource=l(e));case"HTMLResource":return void(t.htmlResource=l(e));case"AltText":return void(t.altText=R(e));case"CompanionClickTracking":case"CompanionClickThrough":var n=l(e);return void(n&&("CompanionClickTracking"===e.nodeName?t.clickTracking.push(n):t.clickThrough=n));case"TrackingEvents":return void[].push.apply(t.trackingEvents,d(e));case"AdParameters":return void(t.adParameters={xmlEncoded:O(L(e,"xmlEncoded")),value:R(e)})}}),(t.staticResource||t.iframeResource||t.htmlResource)&&(t.hasResource=!0),t.width&&t.height&&(t.hasResource||t.trackingEvents.length||t.clickTracking.length)?t:void 0}function m(e){var t={};return t.nonLinears=[],t.trackingEvents=[],S(e,function(e){switch(e.nodeName){case"NonLinear":var n=A(e);return void(n&&t.nonLinears.push(n));case"TrackingEvents":return void[].push.apply(t.trackingEvents,d(e))}}),t.nonLinears.length?t:void 0}function A(e){var t={};t.width=k(L(e,"width"),0),t.height=k(L(e,"height"),0),t.id=L(e,"id"),t.expandedWidth=k(L(e,"expandedWidth")),t.expandedHeight=k(L(e,"expandedHeight")),t.scalable=O(L(e,"scalable"),!0),t.maintainAspectRatio=O(L(e,"maintainAspectRatio"),!0);var n=L(e,"minSuggestedDuration");return n&&(t.minSuggestedDuration=P(n)),t.apiFramework=L(e,"apiFramework"),t.clickTracking=[],S(e,function(e){switch(e.nodeName){case"StaticResource":return void(t.staticResource=h(e));case"IFrameResource":return void(t.iframeResource=l(e));case"HTMLResource":return void(t.htmlResource=l(e));case"NonLinearClickTracking":case"NonLinearClickThrough":var n=l(e);return void(n&&("NonLinearClickTracking"===e.nodeName?t.clickTracking.push(n):t.clickThrough=n));case"AdParameters":return void(t.adParameters={xmlEncoded:O(L(e,"xmlEncoded")),value:R(e)})}}),t.width&&t.height&&(t.staticResource||t.iframeResource||t.htmlResource)?t:void 0}function E(e,t){t||(t="Extension");var n={},i=n.nodes=[];return S(e,function(e){if(t===e.nodeName){var r={name:e.nodeName,type:L(e,"type"),node:e};S(e,function(e){switch(e.nodeName){case"Price":var t=u(e);return void(t&&(t.source=L(e,"source"),n.pricing=t))}}),i.push(r)}}),n}function y(e){var t,n={};return n.followAdditionalWrappers=O(L(e,"followAdditonalWrappers")||L(e,"followAdditionalWrappers"),!0),n.allowMultipleAds=O(L(e,"allowMultipleAds"),!0),n.fallbackOnNoAd=O(L(e,"fallbackOnNoAd"),!0),n.impressions=[],n.errors=[],n.creatives=[],S(e,function(e){switch(e.nodeName){case"AdSystem":var i=R(e);return void(i&&(n.adSystem={version:L(e,"version"),name:i}));case"VASTAdTagURI":return void(n.vastAdTagUrl=R(e));case"Impression":return t=l(e),void(t&&n.impressions.push(t));case"Creatives":return void S(e,function(e){if("Creative"===e.nodeName){var t=T(e);t&&n.creatives.push(t)}});case"Error":return t=l(e),void(t&&n.errors.push(t));case"Pricing":var r=u(e);return void(r&&(n.pricing=r));case"Extensions":return void(n.extensions=E(e))}}),n.vastAdTagUrl?n:void 0}function T(e){var t={};t.id=L(e,"id"),t.sequence=k(L(e,"sequence")),t.adId=L(e,"adID");var n,i;return S(e,function(e){switch(e.nodeName){case"Linear":return n={},n.trackingEvents=[],S(e,function(e){switch(e.nodeName){case"VideoClicks":return void s(e,n);case"TrackingEvents":return void[].push.apply(n.trackingEvents,d(e));case"Icons":return n.icons||(n.icons=[]),void[].push.apply(n.icons,c(e))}}),void(t.linear=n);case"CompanionAds":return void(t.companionAds=v(e));case"NonLinearAds":return i={},i.nonLinears=[],i.trackingEvents=[],i.clickTracking=[],S(e,function(e){switch(e.nodeName){case"NonLinear":var t=w(e);return void(t&&[].push.apply(i.clickTracking,t.clickTracking));case"TrackingEvents":return void[].push.apply(i.trackingEvents,d(e))}}),void(t.nonLinearAds=i)}}),t.linear||t.nonLinearAds||t.companionAds?t:void 0}function w(e){var t={};return t.id=L(e,"id"),t.width=k(L(e,"width"),0),t.height=k(L(e,"height"),0),t.apiFramework=L(e,"apiFramework"),t.clickTracking=[],S(e,function(e){switch(e.nodeName){case"NonLinearClickTracking":var n=l(e);return void(n&&t.clickTracking.push(n))}}),t.clickTracking.length?t:void 0}var b=this,C="2.0",S=(Oe.bindCategory("vast-parser"),e.debug,Ve.eachChildElement),L=Ve.attribute,R=Ve.text,k=j,I=H,O=W,P=D,N=G,M=function(){this.version,this.ads=[],this.rootError,this.error=function(e){return this.errorCode=e,this}};b.parseDocument=function(e){var n=new M,i=e&&(e.documentElement||e);if(!i||"VAST"!==i.nodeName)return n.error(je.XML_PARSING);var r=L(i,"version");return r?(n.version=r,C>r?n.error(je.VERSION_NOT_SUPPORTED):(S(i,function(e){switch(e.nodeName){case"Ad":var i=t(e);return void(i&&n.ads.push(i));case"Error":var r=l(e);return void(r&&(n.rootError=r))}}),0===n.ads.length?n.error(je.WRAPPER_NO_ADS):n)):n.error(je.XML_PARSING)},se.parseCompanions=v}function le(e){function t(e){var t={};t.id=s(e,"breakId"),t.trackingEvents=[],a(e,function(e){switch(e.nodeName){case"vmap:AdSource":return void n(t,e);case"vmap:TrackingEvents":return void[].push.apply(t.trackingEvents,r(e));case"vmap:Extensions":return}});var i=s(e,"timeOffset"),o=null;if(i){if(-1!==i.indexOf("#"))return;o="start"===i?0:"end"===i?-1:-1!==i.indexOf("%")?i:u(i)}if(null!==o){t.time=o;var l=s(e,"breakType"),d=[];if(l&&l.split(",").forEach(function(e){switch(e){case"linear":return void d.push(ae.CreativeType.LINEAR);case"nonlinear":return void d.push(ae.CreativeType.NONLINEAR);case"display":return void d.push(ae.CreativeType.COMPANION)}}),d.length){t.allowTypes=d;var c=s(e,"repeatAfter");return c&&(t.repeatAfter=u(c)),t.data||t.tag||t.trackingEvents.length?t:void 0}}}function n(e,t){e.sourceId=s(t,"id"),e.allowMultipleAds="false"!==s(t,"allowMultipleAds"),e.followRedirects="false"!==s(t,"followRedirects"),a(t,function(t){var n;switch(t.nodeName){case"vmap:VASTData":case"vmap:VASTAdData":return void(e.data=i(t));case"vmap:CustomAdData":return n=s(t,"templateType"),void(n>="vast2"&&(e.data=i(t)));case"vmap:AdTagURI":return n=s(t,"templateType"),void(n>="vast2"&&(e.tag={url:l(t)}))}})}function i(e){var t;return a(e,function(e){"VAST"===e.nodeName&&(t=e)}),t}function r(e){var t=[];return a(e,function(e){if("vmap:Tracking"===e.nodeName){var n={event:s(e,"event"),url:l(e)};if(n.event&&n.url)return void t.push(n)}}),t}var o=this,a=(Oe.bindCategory("vmap"),e.debug,Ve.eachChildElement),s=Ve.attribute,l=Ve.text,u=D,d=function(){this.version,this.adBreaks=[],this.trackingBreaks=[],this.error=function(e){return this.errorCode=e,this}};o.parseDocument=function(e){var n=new d,i=e&&e.documentElement;if(!i||"vmap:VMAP"!==i.nodeName)return n.error(Fe.XML_PARSING);var r=s(i,"version");return r?(n.version=r,a(i,function(e){switch(e.nodeName){case"vmap:AdBreak":var i=t(e);return void(i&&(i.data||i.tag?n.adBreaks.push(i):n.trackingBreaks.push(i)));case"vmap:Extensions":return}}),n):n.error(Fe.XML_PARSING)}}function ue(e){function t(){for(var e=d.length;e--;)d[e].el.innerHTML=""}function i(e,t,n){var i=t.companion,o={adUrl:pe.getResourceUrl(i)};pe.render(i,n,t.bounds),r(e,t,qe.CREATIVE_VIEW,o),n.addEventListener("click",function(){r(e,t,qe.CLICK,o)})}function r(e,t,i,r){var a=[],s=t.companion,l=o(e,t);i===qe.CLICK&&s.clickThrough&&n.open(s.clickThrough);for(var u=0,d=l.length;d>u;u++){var p=l[u];i!==qe.CLICK?[].push.apply(a,c.getEventUrls(p.trackingEvents,i)):[].push.apply(a,p.clickTracking)}c.callVastUrls(a,r)}function o(e,t){if(t.trackingCompanions)return t.trackingCompanions;for(var n=t.companion,i=e.wrappers,r=[n],o=t.nextIndex,a=i.length;a>o;o++)for(var s=i[o].creatives,l=0,u=s.length;u>l;l++){var d=s[l].companionAds;if(d)for(var c=d.companions,p=c.length;p--;){var f=c[p];f.hasResource||(f.width===n.width&&f.height===n.height||f.id&&f.id===n.id)&&r.push(f)}}return t.trackingCompanions=r,r}function a(e,t){for(var n=t.slice(0),i=[],r=0,o=e.inline;o;){for(var a=o.creatives,l=0,u=a.length;u>l;l++){if(!n.length)return i;var d,c,p=a[l].companionAds;if(p){d=p.companions,c=s(d,n);var f=p.required,h=!0;("all"===f&&c.length!==d.length||"any"===f&&0===c.length)&&(h=!1);for(var v,g=c.length;g--;)v=c[g],h?(v.nextIndex=r,i.push(v)):n.push(v.adSlot)}}o=e.wrappers[r++]}return i}function s(e,t){e=e.slice(0);for(var n,i=t.length,r=[];i--;){n=t[i];for(var o,a=e.length;a--;)if(o=e[a],o.hasResource&&(o.width===n.width&&o.height===n.height||o.adSlotId===n.adSlotId)){r.push({adSlot:n,companion:o,bounds:{width:n.width,height:n.height}}),t.splice(i,1),e.splice(a,1);break}}return r}var l=this,d=e.adSlots,c=e.adTracking;l.start=function(e){if(d.length){t();var n=e.requestData.allowTypes;if(!n||-1!==n.indexOf(ae.CreativeType.COMPANION)){for(var r,o=a(e,d),s=0,l=o.length;l>s;s++)r=o[s],i(e,r,new u(r.adSlot.el));return o.length}}}}function de(e){function t(e,t){function i(){var t=s(e);l.uiObj=new u("div",{"class":"e-ad-icon "+t}),l.uiObj.addEventListener("click",function(){e.clickThrough&&n.open(e.clickThrough),e.clickTracking&&a.callVastUrls(e.clickTracking),e.duration||l.dispose()})}function o(){e.viewTracking&&a.callVastUrls(e.viewTracking),pe.render(e,l.uiObj)}function s(e){return"top"!==e.xPosition&&"bottom"!==e.xPosition&&(e.xPosition="top"),"left"!==e.yPosition&&"right"!==e.yPosition&&(e.yPosition="left"),"e-ad-icon-"+e.yPosition+"-"+e.xPosition}var l=this;r.call(l),l.start=function(){t.slot.appendChild(l.uiObj),e.offset?setTimeout(function(){o()},1e3*e.offset):o(),e.duration&&setTimeout(function(){l.dispose()},1e3*e.duration)},i()}var i,o=this,a=e.adTracking;o.renderIcons=function(e,n){i&&removeIcons();var r;r=e.linear.icons?e.linear.icons.slice(0):[];var o,a,s,l,u=e.ad.wrappers;for(s=0,l=u.length;l>s;s++){o=u[s].creatives;for(var d=0,c=o.length;c>d;d++)a=o[d].linear,a&&a.icons&&[].push.apply(r,a.icons)}if(r.length){var p={};for(s=0,l=r.length;l>s;s++){var f=r[s];if(!p[f.program]){var h=new t(f,{slot:n});h.start(),p[f.program]=h}}return i=p,r.length}},o.removeIcons=function(){if(i)for(var e,t=Object.keys(i),n=t.length;n--;)i[e].dispose();i=null},C(t,r)}function ce(e,t){function n(){o||(o=!0,i.dispose(),i.trigger({name:Te.AdEnded}))}var i=this;r.call(i);var o,a=e.nonLinear,s=e.ad,l=t.adTracking,d={},c=new ue(t),p=B(n),f=t.slot;i.uiObj=new u("div",{"class":"e-nonlinear-placement"}),i.start=function(){var t=new u("i",{"class":"e-icon e-close e-nonlinear-close e-button","data-close":!0});t.addEventListener("click",function(){o.hide(),t.hide(),r.show(),l.vastEvent(e,qe.CLOSE,d)});var r=new u("i",{"class":"e-icon e-more e-button e-nonlinear-more","data-more":!0});r.addEventListener("click",function(){o.show(),t.show(),r.hide()});var o=new u("div"),h=new u("div",{style:"width:"+a.width+"px;height:"+a.height+"px;","class":"e-nonlinear-adunit"});h.appendChild(t),h.appendChild(r),h.appendChild(o),h.addEventListener("click",function(t){t.target.getAttribute("data-close")||t.target.getAttribute("data-more")||l.clickEvent(e,d)});var v=new u("div",{"class":"e-nonlinear-adunit-wrapper"});return v.appendChild(h),i.uiObj.appendChild(v),f.appendChild(i.uiObj),i.url=d.adurl=pe.getResourceUrl(a),pe.render(a,o)?(f.expand(),l.impression(s,d),l.vastEvent(e,qe.CREATIVE_VIEW,d),p.set(1e3*(a.minSuggestedDuration||30)),void c.start(s)):void n()},i.dispose=function(){o=!0,p.clear(),f.collapse(),f.removeChild(i.uiObj),setTimeout(function(){r.prototype.dispose.call(i)},1)}}function pe(){}function fe(e,t){function n(){O.uiObj=new u("div",{"class":"e-child-component"}),N=new te,O.addComponent(N),T(N),N.setCountdownText("Loading ad"),M=new ne,O.addComponent(M),D=e.linear.skipOffset,O.listenTo(X,Ee.FULLSCREEN_CHANGED,y),y()}function i(){if(D&&M.show(),O.trigger({name:Te.AdStarting}),F)return void A(je.LINEAR_TIMEOUT,"video-timeout");J.start(W),Y.renderIcons(e,O.uiObj);for(var t=K.getAllEvents(e),n=0,i=t.length;i>n;n++)t[n].event===qe.PROGRESS&&G.push(t[n]);O.listenTo(P,we.LOADED_METADATA,o),O.listenTo(P,we.TIME_UPDATE,a),O.listenTo(P,we.ENDED,s),O.listenTo(P,we.PAUSE,l),O.listenTo(P,we.VOLUME_CHANGE,d),O.listenTo(P,we.CLICK,c),O.listenTo(P,we.PLAYING,h),O.listenTo(P,we.ERROR,v),P.src(e.mediaFile.url),P.load();var r=X.volume(),u=X.muted();P.volume(r),P.muted(u),U=r,V=u,N.show(),N.setMuted(P.muted()||0===r),N.setVolume(r),O.url=B.adUrl=e.mediaFile.url}function o(){P.play()}function a(){var e=P.currentTime(),n=P.duration();if(e&&n){var i=e/n;j.firstFrame||(K.impression(W,B),m(qe.START),m(qe.CREATIVE_VIEW),j.firstFrame=1);var r=Math.floor(i/.25);if(!j["q"+r]){switch(r){case 1:m(qe.FIRST_QUARTILE);break;case 2:m(qe.MIDPOINT);break;case 3:m(qe.THIRD_QUARTILE)}j["q"+r]=1}if(N.setProgress(100*i),(_||0)>e&&m(qe.REWIMD),_=e,D)if(D.percent&&(D.time=D.percent/100*n,delete D.percent),D.time>e){var o=Math.round(D.time-e);M.setText("Skip in "+o)}else M.setText("Skip Ad"),D=null,O.listenToOne(M,"click",g);var a=Math.round(n-e);if(a>0){var s=t.adIndex,l=t.podLength,u="";l>1&&(u="Ad "+(s+1)+" of "+l+". "),u=u+"Ad will end in "+a+" seconds",N.setCountdownText(u)}if(G&&G.length){for(var d=G.length,c=[];d--;){var p=G[d],f=p.offset;f.percent&&(f.time=f.percent/100*n,delete f.percent),f.time>e&&(c.push(p.url),G.splice(d,1))}c.length&&K.callVastUrls(c,B),G.length||(G=null)}}}function s(){H=!0,m(qe.COMPLETE),E()}function l(){P.ended()||(N.setPlaying(!1),m(qe.PAUSE),j.paused=1)}function d(){var e=P.volume(),t=P.muted();t&&!V||0===e&&U>0?m(qe.MUTE):(!t&&V||e>0&&0===U)&&m(qe.UNMUTE),N.setVolume(e),N.setMuted(t),U=e,V=t}function c(){K.clickEvent(e,B)}function h(){N.setPlaying(!0),j.paused&&(m(qe.RESUME),j.paused=0)}function v(){var e;switch(P.error()){case 1:e=je.LINEAR_GENERAL;break;case 2:e=je.LINEAR_NOT_FOUND;break;case 3:e=je.LINEAR_NO_DISPLAY;break;case 4:e=je.LINEAR_NO_SELECT;break;default:e=je.LINEAR_GENERAL}A(e,"video-timeout")}function g(){m(qe.SKIP),E()}function m(t){K.vastEvent(e,t,B)}function A(e,t){K.error(W,e,t,B),E()}function E(){q||(q=!0,O.dispose(),O.trigger({name:Te.AdEnded,isComplete:H}))}function y(){x()?N.setFullscreen(!0):N.setFullscreen(!1)}function T(e){O.listenTo(e,xe.PLAY,w),O.listenTo(e,xe.PAUSE,b),O.listenTo(e,xe.ENTER_FULLSCREEN,C),O.listenTo(e,xe.EXIT_FULLSCREEN,S),O.listenTo(e,xe.MUTE,L),O.listenTo(e,xe.UNMUTE,R),O.listenTo(e,xe.VOLUME_CHANGED,k),O.listenTo(e,xe.SEEK,I)}function w(){P.play()}function b(){P.pause()}function C(){X.enterFullscreen(),N.setFullscreen(!0)}function S(){X.exitFullscreen(),N.setFullscreen(!1)}function L(){P.muted(!0),X.muted(!0)}function R(){P.muted(!1),X.muted(!1)}function k(e){var t=e.volume;P.volume(t),X.volume(t),N.setVolume(t)}function I(e){var t=P.duration(),n=t/100*e.position;n<=P.currentTime()&&P.currentTime(n)}var O=this;r.call(O);var P,N,D,M,U,V,_,F,q,j={},H=!1,W=e.ad,G=[],K=t.adTracking,B={},Y=new de(t),J=new ue(t),X=t.player,Z=t.slot;O.start=function(){Z.appendChild(O.uiObj),Z.expand();var n=t.stagePlayback;if(e.playback===f)return P=new f(t.useStagePlayback?{videoSlot:n.videoEl}:{preload:"none"}),O.addComponent(P),void i();if(e.playback===p){n.isFlashTech?(P=n,P.setAdMode(),P.setAdViewPort(),i()):(P=new p({preload:"none",playerSwf:t.playerOptions.playerSwf,playerSwfTimeout:t.playerOptions.playerSwfTimeout,debug:t.debug}),O.addComponent(P),O.listenTo(P,me.READY,function(){P.setAdMode(),P.setAdViewPort(),i()}),O.listenTo(P,we.ERROR,function(){Pe.error("Flash Load Error"),A(je.UNDEFINED,"flash-load-error")}));var r=X.controls.height();return Z.el.style.height=r+"px",void(Z.el.style.marginTop=t.height-r+"px")}A(je.LINEAR_GENERAL,"playback-support")},this.stopLinear=function(){F=!0},O.dispose=function(){q=!0,P&&(P.pause(),P.isFlashTech&&(P.setContentMode(),P.setContentViewPort())),Y.removeIcons(),Z.collapse(),Z.el.style.margin="0",Z.removeChild(O.uiObj),setTimeout(function(){r.prototype.dispose.call(O)},1)},n()}function he(e,t,n){function i(e){u.setAdViewPort(),l.listenTo(u,"PlaybackVPAIDLoadComplete",o),u.loadVPAID(e),f.set()}function o(){f.clear(),d&&v.expand();var i=u.handshakeVersion(n.version);n.onLoaded(u,i);var r=t.width,o=t.height,a=t.viewMode,s=e.linear||e.nonLinear,l=s.adParameters&&s.adParameters.value;u.initAd(r,o,a,0,l)}function a(){s("load-timeout")}function s(e){n.onError(e)}var l=this;r.call(l);var u,d,c=Oe.bindCategory("vpaid-flash"),f=B(a,3e3),h=n.slot,v=t.slot;l.start=function(){if(t.stagePlayback.isFlashTech)u=t.stagePlayback,i(n.url);else{var e=new p({preload:"none",playerSwf:t.playerOptions.playerSwf,playerSwfTimeout:t.playerOptions.playerSwfTimeout,debug:t.debug});h.appendChild(e.uiObj),l.addComponent(e),l.listenTo(e,me.READY,function(){u=e,i(n.url)}),l.listenTo(e,we.ERROR,function(){c.error("Playback Load Error"),s("flash-load")}),d=!0}f.set()},l.linearChange=function(e){},l.stop=function(){f.clear(),u&&u.setContentViewPort()},l.dispose=function(){r.prototype.dispose.call(l)}}function ve(e,i,o){function a(e){var n=t.createElement("iframe"),r=i.width,o=i.height;(n.frameElement||n).style.cssText="width: "+r+"px; height: "+o+"px; border: 0; position: absolute; top: 0; left: 0;",n.src="about:blank",n.frameborder="0",n.marginwidth=0,n.marginheight=0,n.scrolling="no",w.appendChild(new u(n)),s(n,e)}function s(e,t){v=e.contentWindow||e.contentDocument,t=Me(t);var i='<!DOCTYPE html>\n<html lang="en">\n<head><meta http-equiv="X-UA-Compatible" content="IE=edge" />\n<meta charset="UTF-8">\n<style> body{margin: 0px;}</style></head>';i+='\n<body onload="onIframeLoad()">\n';var r='<div id="vpaid-slot"></div>',o='<script type="text/javascript" src="'+t+'"></script>\n';o+='<script type="text/javascript"> ',o+="function onIframeLoad () {",o+="try { var origin = window.top.location.origin; }catch(err) {}\n",o+="if (origin === undefined) {\n	 origin = window.location.protocol + ",o+="\"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\n }\n",o+='parent.postMessage(\'{"id": "'+y+"\"}', origin);\n",o+="}\n</script>";var a="</body></html>";ke.addEventListener(n,"message",l),ke.writeIframeContent(e,i+r+o+a)}function l(e){try{var t=Ue.parse(e.data);t.id===y&&d()}catch(n){}}function d(){if(T.clear(),"function"!=typeof v.getVPAIDAd)return void p("get-vpaid");if(g=v.getVPAIDAd(),!ge.checkVpaidInterface(g))return void p("interface");b.expand();var t=g.handshakeVersion(o.version);o.onLoaded(g,t);var n=i.width,r=i.height,a=i.viewMode,s=e.linear||e.nonLinear,l={AdParameters:s.adParameters&&s.adParameters.value},u={slot:v.document.getElementById("vpaid-slot"),videoSlot:m.videoEl,videoSlotCanAutoPlay:i.canAutoplay};g.initAd(n,r,a,0,l,u)}function c(){p("load-timeout")}function p(e){o.onError(e)}var h=this;r.call(h);var v,g,m,A,E,y=(Oe.bindCategory("vpaid-html5"),Ne("vpaid_iframe")),T=B(c,3e3),w=o.slot,b=i.slot;h.start=function(){i.useStagePlayback?m=i.stagePlayback:(m=new f,w.appendChild(m.uiObj),h.addComponent(m),E=!0),a(o.url),T.set()},h.linearChange=function(e){e?m.videoObj.show():m.videoObj.hide()},h.stop=function(){T.clear(),ke.removeEventListener(n,"message",A),m&&m.pause()},h.dispose=function(){r.prototype.dispose.call(h)}}function ge(e,t){function i(e,t){return I=e,Object.keys(He).forEach(function(t){e.subscribe(function(e,n,i){R.trigger({name:t,vpaidArgs:[e,n,i]})},t)}),U&&(R.trigger({name:Te.AdStarting}),O)?void b("stop-linear"):(N.linearChange(U),void j.set())}function o(){Object.keys(He).forEach(function(e){R.listenTo(R,e,a)}),R.listenTo(R,He.AdLoaded,s),R.listenTo(R,He.AdStarted,l),R.listenTo(R,He.AdLinearChange,d),R.listenTo(R,He.AdImpression,c),R.listenTo(R,He.AdSkippableStateChange,p),R.listenTo(R,He.AdDurationChange,f),R.listenTo(R,He.AdVideoComplete,h),R.listenTo(R,He.AdError,v),R.listenTo(R,He.AdStopped,g),R.listenTo(R,He.AdSkipped,m)}function a(e){var t=e.name;A(e),t===He.AdLoaded?j.set():t!==He.AdStarted&&t!==He.AdVideoStart||j.clear()}function s(){if(!_){if(V=!0,U=I.getAdLinear(),U&&O)return void b("stop-linear2");U!==e.isLinear&&d(),I.startAd()}}function l(){x=!0,P=I.getAdVolume(),E(),y(),T()}function d(){var e=I.getAdLinear();if(e!==U){if(U=e,!e&&-1===t.time)return void C();if(!e&&q&&t.stagePlayback.isHtml5Tech)return void C();N.linearChange(e),T()}}function c(){var t=Y.start(e.ad);if(!t){var n=R.getAdCompanions();if(n){var i=Ve.parse(n);if(i){var r=ae.parseCompanions(i);if(r.companions.length){var o={inline:{creatives:[{companionAds:r}]},wrappers:[]};Y.start(o)}}}}}function p(){R.getAdSkippableState()}function f(){y()}function h(){H=!0}function v(e){_=!0,C()}function g(){_=!0,C()}function m(){_=!0,C()}function A(t){switch(t.name){case He.AdImpression:return void W.impression(e.ad,G);case He.AdClickThru:var i,r,o=t.vpaidArgs,a=o[0];return"object"==typeof a?a.data?(i=a.data.url,r=a.data.playerHandles):(i=a.url,r=a.playerHandles):(i=a,r=o[2]),r&&(i||(i=e.linear?e.linear.clickThrough:e.nonLinear.clickThrough),i&&n.open(i)),void W.clickEvent(e,G,!1);case He.AdVolumeChange:var s=I.getAdVolume();return 0===s&&P>0?W.vastEvent(e,qe.MUTE,G):s>0&&0===P&&W.vastEvent(e,qe.UNMUTE,G),void(P=s);case He.AdError:return void W.error(e.ad,je.VPAID_GENERAL,t.error,G);default:var l=ge.VastMap[t.name];return void(l&&W.vastEvent(e,l,G))}}function E(){x&&e.linear&&(R.getAdIcons()||K.renderIcons(e,R.uiObj))}function y(){R.getAdDuration(),R.getAdRemainingTime()}function T(){if(U)return void(D&&D.clear());if(!D){var t=e.nonLinear,n=t&&t.minSuggestedDuration,i=I.getAdRemainingTime();n||(n=i>0?i:30),D=B(function(){C()},1e3*n)}D.set()}function w(){b("freeze-timeout")}function b(e){S(),R.trigger({name:He.AdError,error:e})}function C(){F||(F=!0,R.dispose(),setTimeout(function(){R.trigger({name:Te.AdEnded,isComplete:H})},100))}function S(){!_&&V&&(I.stopAd(),_=!0)}function L(e,t){try{var n=I[e];if("function"==typeof n)return n()}catch(i){}return t}var R=this;r.call(R);var k=(t.debug,Oe.bindCategory("vpaid"));R.isVpaid=!0;var I,O,P,N,D,M="2.0",U=e.isLinear,V=!1,x=!1,_=!1,F=!1,q=!1,j=B(w,3e3),H=!1,W=t.adTracking,G={},K=new de(t),Y=new ue(t),J=t.slot;R.uiObj=new u("div",{"class":"e-vpaid-slot e-child-component"}),R.start=function(){o();var n;if(n=e.mediaFile?e.mediaFile.url:e.nonLinear.staticResource.url,!n)return void b("no-url");R.url=G.adUrl=n,J.collapse(),J.appendChild(R.uiObj);var r={url:n,slot:R.uiObj,Log:k,version:M,onLoaded:i,onError:b};"HTML5_VPAID"===e.playType?N=new ve(e,t,r):(N=new he(e,t,r),q=!0),R.addComponent(N),N.start()},R.stopLinear=function(){O=!0},R.dispose=function(){F=!0,j.clear(),N&&N.stop(),S(),K.removeIcons(),J.collapse(),R.uiObj.collapse(),setTimeout(function(){J.removeChild(R.uiObj),r.prototype.dispose.call(R)},2e3)},R.loaded=function(){return V},R.stopAd=function(){S()},R.resizeAd=function(e,t,n){I.resizeAd(e,t,n)},R.pauseAd=function(){I.pauseAd()},R.resumeAd=function(){I.resumeAd()},R.expandAd=function(){I.expandAd()},R.collapseAd=function(){I.collapseAd()},R.skipAd=function(){return L("skipAd",null)},R.getAdLinear=function(){return I.getAdLinear()},R.getAdExpanded=function(){return I.getAdExpanded()},R.getAdRemainingTime=function(){return I.getAdRemainingTime()},R.getAdVolume=function(){return I.getAdVolume()},R.setAdVolume=function(e){I.setAdVolume(e)},R.getAdWidth=function(){return L("getAdWidth",-1)},R.getAdHeight=function(){return L("getAdHeight",-1)},R.getAdDuration=function(){return L("getAdDuration",-1)},R.getAdCompanions=function(){return L("getAdCompanions","")},R.getAdIcons=function(){return L("getAdIcons",!1)},R.getAdSkippableState=function(){return L("getAdSkippableState",!1)}}C(r,a),r.prototype.onParentAdded=function(e){},r.prototype.onParentRemoving=function(e){},r.prototype.addComponent=function(e){if("undefined"==typeof e.addComponent)throw TypeError("Add only objects of type Component");return this.components.push(e),this.uiObj&&e.uiObj&&this.uiObj.appendChild(e.uiObj),e.onParentAdded(this),this},r.prototype.removeComponent=function(e){if("undefined"==typeof e.removeComponent)throw TypeError("Remove only objects of type Component");e.onParentRemoving(this);for(var t=this.components,n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1);return this.uiObj&&e.uiObj&&this.uiObj.removeChild(e.uiObj),this},r.prototype.removeAllComponents=function(){for(var e=this.components,t=e.length-1;t>=0;t--)this.removeComponent(e[t]);return this},r.prototype.on=function(e,t,n){if(e===me.READY&&this.isReady){var i=this;setTimeout(function(){t.call(n,{name:e,target:i})},1)}return a.prototype.on.call(this,e,t,n)},r.prototype.setReady=function(){var e=this;return setTimeout(function(){e.isReady=!0,e.trigger(me.READY)},1),this},r.prototype.dispose=function(){a.prototype.dispose.call(this),this.components.forEach(function(e){e.dispose()}),this.removeAllComponents(),this.uiObj&&(this.uiObj.dispose(),this.uiObj=null)};var me={READY:"ready"};C(o,r),a.prototype.on=function(e,t,n){if(!e||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n||this}),this},a.prototype.one=function(e,t,n){if(!e||!t)return this;var i=this,r=function(){i.off(e,r),t.apply(this,arguments)};return r.initCallback=t,this.on(e,r,n)},a.prototype.off=function(e,t){var n,r,o;if(!this._events)return this;if(!e)return this._events=i,this;if(n=this._events[e],!n||!n.length||!t)return delete this._events[e],this;r=this._events[e]=[];for(var a=0,s=n.length;s>a;a++)o=n[a],o.callback!==t&&o.callback.initCallback!==t&&r.push(o);return r.length||delete this._events[e],this},a.prototype.offContext=function(e){var t,n,i,r,o,a=this._events;if(!a||!e)return this;t=Object.keys(a);for(var s=0,l=t.length;l>s;s++)if(n=t[s],i=a[n]){r=this._events[n]=[];for(var u=0,d=i.length;d>u;u++)o=i[u],e!==o.context&&r.push(o);r.length||delete this._events[n]}return this},a.prototype.trigger=function(e){var t,n;try{if(!this._events||!e)return this;if("string"==typeof e)e={name:e,target:this};else if(!e.name)return this;if(t=this._events[e.name],!t)return this;e.target||(e.target=this);var i,r=-1,o=t.length,a=arguments[1],s=arguments[2];switch(arguments.length){case 1:for(;++r<o;)(i=t[r]).callback.call(i.context,e);return;case 2:for(;++r<o;)(i=t[r]).callback.call(i.context,e,a);return;case 3:for(;++r<o;)(i=t[r]).callback.call(i.context,e,a,s);return;default:for(n=Array.prototype.slice.call(arguments),n[0]=e;++r<o;)(i=t[r]).callback.apply(i.context,n);return}}catch(l){Pe.error(l)}return this},a.prototype._bindListenTo=function(e){return function(t,n,i){if(!t||!n||!i)return this;var r=t._listenId||(t._listenId=Ne("lid")),o=this._listeningTo||(this._listeningTo={});return o[r]||(o[r]={target:t,refcount:0},t.on(a.DISPOSE,function(){this.stopListening(t)},this)),t[e](n,i,this),o[r].refcount++,this}},a.prototype.listenTo=a.prototype._bindListenTo("on"),a.prototype.listenToOne=a.prototype._bindListenTo("one"),a.prototype.stopListening=function(e,t,n){var i=this._listeningTo;if(!i)return this;if(e){var r=i[e._listenId];if(!r)return this;t&&n?(e.off(t,n),--r.refcount<=0&&(e.offContext(this),delete i[e._listenId])):(e.offContext(this),delete i[e._listenId])}else for(var o,a=Object.keys(i),s=0,l=a.length;l>s;s++)o=a[s],i[o].target.offContext(this),delete i[o];return this},a.prototype.dispose=function(){this.trigger(a.DISPOSE),this.stopListening(),this.off()},a.DISPOSE="dispose";var Ae=function(e){var t=this;t.code=0,t.message="",t.innerError=null,"number"==typeof e?t.code=e:"string"==typeof e?t.message=e:"object"==typeof e&&(e.code&&(t.code=e.code),e.message&&(t.message=e.message),e.innerError&&(t.innerError=e.innerError)),t.message||(t.message=Ae.Messages[t.code]||"")};Ae.Codes={0:"MEDIA_ERR_CUSTOM",1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED",5:"MEDIA_ERR_ENCRYPTED"},Ae.Messages={0:"Other error",1:"User aborted the media playback.",2:"A network error caused the media download to fail.",3:"The media playback was canceled. The media file might be corrupted or it uses codec features not supported by your browser.",4:"The media could not be loaded. Possible reasons: the network failed or the media format is not supported by your browser.",5:"The media is encrypted and we do not have the keys to decrypt it."},C(s,r);var Ee={FULLSCREEN_CHANGED:"fullscreenChanged",RESIZE:"resize",USER_ACTIVE:"userActive",USER_INACTIVE:"userInactive",FACEBOOK_SHARE:"facebookShare",TWITTER_SHARE:"twitterShare",ERROR:"playerError",READY:"ready",FIRST_PLAY:"firstPlay",ADS_STARTING:"adsStarting",ADS_ENDED:"adsEnded",PLAYLIST_ENDED:"playlistEnded",CONTENT_UPDATE:"contentUpdate",CONTENT_ERROR:"contentError"};e.setup=function(t,n){if(!t)throw TypeError('The "id" of the existing dom element is required');if(e.players||(e.players={}),!e.players[t]){n.id=t;e.players[t]=new s(n)}return e.players[t]};new a;C(l,r),u.prototype.createElement=function(e,t){return ke.createElement(e,t)},u.prototype.setAttributes=function(e){ke.setAttributes(this.el,e)},u.prototype.innerHTML=function(e){this.el.innerHTML=e},u.prototype.appendChild=function(e,t){if(!e.createElement)throw TypeError("Append only objects of type UiObject");this.children.push(e),t?ke.insertFirst(e.el,this.el):this.el.appendChild(e.el)},u.prototype.removeChild=function(e){if(!e.createElement)throw TypeError("Remove only objects of type UiObject");for(var t=this.children,n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1);this.el.removeChild(e.el)},u.prototype.addEventListener=function(e,t){if(!Array.isArray(e))return this.eventListeners.push({type:e,callback:t}),"tap"===e?void(this.tapEventEnabled||this.enableTapEvents()):void ke.addEventListener(this.el,e,t);for(var n=e.length;n--;)this.addEventListener(e[n],t)},u.prototype.removeEventListener=function(e,t){if(Array.isArray(e))for(var n=e.length;n--;)this.removeEventListener(e[n],t);else for(var i=e&&t,r=this.eventListeners,o=r.length-1;o>=0;o--){var a=r[o];(!i||a.type===e&&a.callback===t)&&(r.splice(o,1),"tap"!==a.type&&ke.removeEventListener(this.el,a.type,a.callback))}},u.prototype.triggerCustomEvent=function(e){for(var t=this.eventListeners,n=t.length-1;n>=0;n--){
var i=t[n];i.type===e&&i.callback({type:e,target:this.el,currentTarget:this.el})}},u.prototype.dimensions=function(e,t){this.width(e),this.height(t)},u.prototype.width=function(e){return e===i?this.el.clientWidth:void(this.el.style.width=e)},u.prototype.height=function(e){return e===i?this.el.clientHeight:void(this.el.style.height=e)},u.prototype.addClass=function(e){ke.addClass(this.el,e)},u.prototype.removeClass=function(e){ke.removeClass(this.el,e)},u.prototype.hasClass=function(e){return ke.hasClass(this.el,e)},u.prototype.show=function(){this.el.style.visibility="visible"},u.prototype.hide=function(){this.el.style.visibility="hidden"},u.prototype.display=function(e){e?this.el.style.display="block":this.el.style.display="none"},u.prototype.collapse=function(){this.dimensions("1px","1px"),this.el.style.opacity="0",this.el.style.filter="alpha(opacity=0)"},u.prototype.expand=function(e,t){this.dimensions(e||"100%",t||"100%"),this.el.style.opacity="1",this.el.style.filter="alpha(opacity=100)"},u.prototype.requestFullscreen=function(){var e=this.el;return e.requestFullscreen?(e.requestFullscreen(),!0):e.msRequestFullscreen?(e.msRequestFullscreen(),!0):e.mozRequestFullScreen?(e.mozRequestFullScreen(),!0):e.webkitRequestFullscreen?(e.webkitRequestFullscreen(),!0):!1},u.prototype.exitFullscreen=function(){return t.exitFullscreen?(t.exitFullscreen(),!0):t.msExitFullscreen?(t.msExitFullscreen(),!0):t.mozCancelFullScreen?(t.mozCancelFullScreen(),!0):t.webkitExitFullscreen?(t.webkitExitFullscreen(),!0):!1},u.prototype.enableTapEvents=function(){if(!this.tapEventEnabled){this.tapEventEnabled=!0;var e,t=0,n=null,i=10,r=200,o=this;this.addEventListener("touchstart",function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=(new Date).getTime(),e=!0)}),this.addEventListener("touchmove",function(t){if(t.touches.length>1)e=!1;else if(n){if(!e)return;var r=t.touches[0].pageX-n.pageX,o=t.touches[0].pageY-n.pageY,a=Math.sqrt(r*r+o*o);a>i&&(e=!1)}}),this.addEventListener("touchend",function(i){if(n=null,e){var a=(new Date).getTime()-t;r>a&&(i.preventDefault(),o.triggerCustomEvent("tap"))}});var a=function(){e=!1};this.addEventListener("touchleave",a),this.addEventListener("touchcancel",a)}},u.prototype.dispose=function(){this.removeEventListener(),this.children.forEach(function(e){e.dispose()}),this.children=[],this.isOwnEl&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=null},C(d,r);var ye={PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll"},Te={AdsLoaded:"adsLoaded",AdsLoadedError:"adsLoaded",AdStarting:"adsStarting",AdEnded:"adsEnded"};C(c,r),C(p,r),p.isFlashTech=!0,p.isSupported=function(){return!!Se.hasMinFlashVersion(10,2,0)},p.canPlayType=function(e){if(!p.isSupported())return"";for(var t=["video/mp4","video/x-flv","video/rtmp","vnd.apple.mpegURL","application/x-mpegURL","application/vnd.apple.mpegurl"],n=0,i=t.length;i>n;n++)if(t[n]===e)return"probably";return""},C(f,r),f.prototype.bindEvents=function(){var e=this;Object.keys(we).forEach(function(t){e.videoObj.addEventListener(we[t],function(t){e.eventsDisabled||(t.preventDefault&&t.preventDefault(),e.trigger({name:t.type,html5Event:t}))})})},f.prototype.disableEvents=function(e){this.eventsDisabled=e},f.prototype.setTriggerContext=function(e){e?this.trigger=function(t){"string"==typeof t?t=e+t:t.name=e+t.name,a.prototype.trigger.call(this,t)}:delete this.trigger},f.prototype.dispose=function(){var e=this.uiObj?this.uiObj.el:null;if(e){for(this.uiObj.removeEventListener(),e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);if(e.removeAttribute("src"),"function"==typeof e.load)try{e.load()}catch(t){}}this.videoObj&&(this.videoObj.dispose(),this.videoObj=null),this.uiObj=null,r.prototype.dispose.call(this)},f.prototype.play=function(){this.videoEl.play()},f.prototype.pause=function(){this.videoEl.pause()},f.prototype.load=function(){this.videoEl.load()},f.prototype.autoplay=function(e){return e!==i?void(this.videoEl.autoplay=e):this.videoEl.autoplay},f.prototype.buffered=function(){return this.videoEl.buffered},f.prototype.controls=function(e){return e!==i?void(this.videoEl.controls=e):this.videoEl.controls},f.prototype.crossOrigin=function(){return this.videoEl.crossOrigin},f.prototype.currentSrc=function(){return this.videoEl.currentSrc},f.prototype.currentTime=function(e){if(e===i){var t=this.videoEl.currentTime;return t&&isFinite(t)||(t=0),t}return this.videoEl.seekable&&this.videoEl.seekable.length&&this.videoEl.seekable.end(0)>e?(this.videoEl.currentTime=e,e):!1},f.prototype.defaultMuted=function(){return this.videoEl.defaultMuted},f.prototype.defaultPlaybackRate=function(){return this.videoEl.defaultPlaybackRate},f.prototype.duration=function(){var e=this.videoEl.duration;return(!e||!isFinite(e)||0>e)&&(e=0),e},f.prototype.ended=function(){return this.videoEl.ended},f.prototype.error=function(){return this.videoEl.error},f.prototype.height=function(){return this.videoEl.offsetHeight},f.prototype.loop=function(e){return e!==i?void(this.videoEl.loop=e):this.videoEl.loop},f.prototype.mediaGroup=function(){return this.videoEl.mediaGroup},f.prototype.muted=function(e){return e!==i?void(this.videoEl.muted=e):this.videoEl.muted},f.prototype.networkState=function(){return this.videoEl.networkState},f.prototype.paused=function(){return this.videoEl.paused},f.prototype.playbackRate=function(e){return e?void(this.videoEl.playbackRate=e):this.videoEl.playbackRate},f.prototype.played=function(){return this.videoEl.played},f.prototype.poster=function(e){return e?void(this.videoEl.poster=e):this.videoEl.poster},f.prototype.preload=function(e){return e?void(this.videoEl.preload=e):this.videoEl.preload},f.prototype.readyState=function(){return this.videoEl.readyState},f.prototype.seekable=function(){return this.videoEl.seekable},f.prototype.seeking=function(){return this.videoEl.seeking},f.prototype.src=function(e){if(e!==i){if(this.videoEl.src){this.videoEl.removeAttribute("src");try{this.videoEl.load()}catch(t){}}return void(this.videoEl.src=Me(e))}return this.videoEl.src},f.prototype.textTracks=function(){return this.videoEl.textTracks},f.prototype.videoHeight=function(){return this.videoEl.videoHeight},f.prototype.videoWidth=function(){return this.videoEl.videoWidth},f.prototype.volume=function(e){return e!==i?void(this.videoEl.volume=e):this.videoEl.volume},f.prototype.width=function(){return this.videoEl.offsetWidth},f.prototype.setSize=function(e,t){},f.isHtml5Tech=!0,f.testVideo=t.createElement("video"),f.isSupported=function(){try{f.testVideo.volume=.5}catch(e){return!1}return"function"==typeof f.testVideo.canPlayType&&"function"==typeof f.testVideo.play},f.canPlayType=function(e){try{return Se.isAndroid,f.testVideo.canPlayType(e)}catch(t){return""}},f.isVolumeSupported=function(){try{var e=f.testVideo.volume;return f.testVideo.volume=e/2+.1,f.testVideo.volume!==e}catch(t){}return!1},f.isPlaybackRateSupported=function(){try{var e=f.testVideo.playbackRate;return f.testVideo.playbackRate=e/2+.1,e!==f.testVideo.playbackRate}catch(t){}return!1},f.canAutoPlay=function(e){var t="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",n="data:audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=";try{var i=new Audio,r=i.canPlayType("audio/ogg")?n:t;i.autoplay=!0,i.volume=0;var o=U(function(){e(!0)},500,function(){e(!1)});i.addEventListener("play",o),i.src=r}catch(a){e(!1)}};var we={ABORT:"abort",CANPLAY:"canplay",CANPLAY_THROUGH:"canplaythrough",DURATION_CHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",ERROR:"error",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOAD_START:"loadstart",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATE_CHANGE:"ratechange",RESIZE:"resize",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",WAITING:"waiting",CLICK:"click",TAP:"tap"},be={playbacks:[f,p,h]};be.selectSource=function(e,t){for(var n=0,i=t.length;i>n;n++){var r=t[n];if(e.constructor.canPlayType(r.type))return r}},be.getInstance=function(e,t){for(var n=be.playbacks,i=0,r=n.length;r>i;i++)for(var o=n[i],a=0,s=e.length;s>a;a++){var l=e[a];if(o.canPlayType(l.type))return t.src=l.file,new o(t)}},be.getDefaultInstance=function(e,t){return t.src=e[0].file,new be.playbacks[0](t)},C(h,r),h.prototype.onParentAdded=function(){this.onIframeLoaded()},h.prototype.onTimeupdate=function(){this.trigger(we.TIME_UPDATE)},h.prototype.onPlaybackReady=function(){return this.playback=this.iframe.contentWindow.player,this.playback?(this.playback.addEventListener("onStateChange",I(this,this.onStateChange)),this.playback.addEventListener("onError",I(this,this.onError)),void this.setReady()):this.trigger(we.ERROR)},h.prototype.onError=function(){return this.trigger(we.ERROR)};var Ce={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3};h.prototype.onStateChange=function(e){switch(e.data){case Ce.ENDED:return this.trigger(we.ENDED);case Ce.PLAYING:return this.trigger(we.PLAYING);case Ce.PAUSED:return this.trigger(we.PAUSE);case Ce.BUFFERING:return this.trigger(we.SEEKING)}},h.prototype.onIframeLoaded=function(){var e=0;Se.isIE&&p.isSupported()&&(e=1);var t="https://www.youtube.com/iframe_api",n='<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<style> body{margin: 0px;} html{height: 100%;}body {min-height: 100%;}</style></head>\n<body>\n',i='<div id="yp'+this.id+'"></div>',r='<script type="text/javascript" src="'+t+'"></script>\n';r+="<script> var origin = window.top.location.origin; if (!origin) { origin = window.location.protocol + ",r+="\"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: ''); }",r+="function onYouTubeIframeAPIReady() {",r+="var width = document.body.clientWidth; var height = document.body.clientHeight;",r+='window.player = new YT.Player("yp'+this.id+'", {height:height, width:width, videoUrl: "'+this._src+'", playerVars: {controls:'+e+", showinfo:0}, events:{onReady: onPlayerReady}});",r+="}",r+="function onPlayerReady(){",r+='parent.postMessage(\'{"event": "playback.ready", "id": "'+this.id+"\"}', origin);\n",r+="}",r+="</script>";var o="</body></html>",a=n+i+r+o;ke.writeIframeContent(this.iframe,a)},h.prototype.onWindowMessage=function(e){var t=null;try{t=Ue.parse(e.data)}catch(n){return}t.id===this.id&&this.trigger(t.event)},h.prototype.play=function(){this._srcLoaded||(this.load(),this._srcLoaded=!0),this.playback.playVideo()},h.prototype.pause=function(){this.playback.pauseVideo()},h.prototype.paused=function(){return 2===this.playback.getPlayerState()},h.prototype.stop=function(){this.playback.stopVideo()},h.prototype.currentTime=function(e){return e!==i?this.playback.seekTo(e,!0):this.playback.getCurrentTime()},h.prototype.duration=function(){return this.playback?this.playback.getDuration():void 0},h.prototype.buffered=function(){return 1===this.playback.getVideoLoadedFraction()},h.prototype.volume=function(e){return e!==i&&(this.playback.setVolume(100*e),this.trigger(we.VOLUME_CHANGE)),this.playback.getVolume()?this.playback.getVolume()/100:0},h.prototype.muted=function(e){return e!==i&&(e?(this.playback.mute(),this.trigger(we.VOLUME_CHANGE)):(this.playback.unMute(),this.trigger(we.VOLUME_CHANGE))),this.playback.isMuted()},h.prototype.src=function(e){return e!==i&&(this._srcLoaded=!1,this._src=e),this._src},h.prototype.load=function(){this.playback.loadVideoByUrl({mediaContentUrl:this._src})},h.prototype.preload=function(e){},h.prototype.error=function(){},h.prototype.seeking=function(){return this.playback.getVideoLoadedFraction()<1},h.prototype.ended=function(){return 0===this.playback.getPlayerState()},h.prototype.playbackRate=function(){return this.playback.getPlaybackRate()},h.prototype.networkState=function(){return 1},h.prototype.readyState=function(){return 4},h.isSupported=function(){return"function"==typeof n.postMessage},h.canPlayType=function(e){return"video/x-youtube"===e},h.prototype.dispose=function(){this.playback.destroy(),r.prototype.dispose.call(this)},h.prototype.disableEvents=function(e){},h.prototype.setTriggerContext=function(e){},h.prototype.setSize=function(e,t){this.playback.setSize(e,t)},v.parse=function(e){function t(e){var t=e&&e.documentElement;if(!t||"rss"!==t.nodeName)throw"Invalid mrss document: missing rss node";var i;if(a(t,function(e){"channel"===e.nodeName&&(i=e)}),!i)throw"Channel is not found";var r={items:[]};if(a(i,function(e){switch(e.nodeName){case"guid":return void(r.id=l(e));case"title":return void(r.title=l(e));case"description":return void(r.description=l(e));case"media:thumbnail":var t=o(e);return void(t&&(r.poster=t.file));case"item":var i=n(e);return void(i&&r.items.push(i))}}),!r.items.length)throw"Empty playlist - no valid items were found";return r}function n(e){var t={sources:[],posters:[]};return a(e,function(e){switch(e.nodeName){case"guid":return void(t.id=l(e));case"title":return void(t.title=l(e));case"description":return void(t.description=l(e));case"media:thumbnail":var n=o(e);return void(n&&t.posters.push(l(e)));case"media:content":case"enclosure":var a=r(e);return void(a&&t.sources.push(a));case"media:group":return void i(e,t)}}),t.posters.length&&(t.poster=t.posters.pop()),t.sources.length?t:void 0}function i(e,t){a(e,function(e){switch(e.nodeName){case"media:content":var n=r(e);return void(n&&t.sources.push(n));case"media:thumbnail":var i=o(e);return void(i&&t.posters.push(l(e)))}})}function r(e){var t={};return t.file=s(e,"url"),t.type=s(e,"type"),t.width=u(s(e,"width"),0),t.height=u(s(e,"height"),0),t.isDefault=d(s(e,"isDefault")),t.file?t:void 0}function o(e){var t={};return t.file=s(e,"url"),t.width=u(s(e,"width"),0),t.height=u(s(e,"height"),0),t.file?t:void 0}var a=(Oe.bindCategory("mrss"),Ve.eachChildElement),s=Ve.attribute,l=Ve.text,u=j,d=W;return t(e)},g.parse=function(e){function t(t){if(t.forEach(function(t){var o,a={id:t.id||"",title:t.title||"",description:t.description||"",poster:t.poster||e.defaultPoster||"",sources:[]};o=t.file?[{file:t.file}]:t.sources||[],o.forEach(function(e){if(e.file){var t={width:e.width||0,height:e.height||0,type:e.type,file:e.file};if(!t.type){var r=F(t.file);if(n[r])t.type=n[r];else{var o=_(t.file);if(!i[o])return;t.type=i[o]}}a.sources.push(t)}}),0!==a.sources.length&&r.push(a)}),!r.length)throw"The playlist has no valid items"}var n={mp4:"video/mp4",webm:"video/webm",ogv:"video/ogg",flv:"video/x-flv",m3u8:"	application/x-mpegURL"},i={rtmp:"video/rtmp"},r=[];if(Array.isArray(e))t(e);else{if(!(e&&e.items&&e.items.length))throw"The playlist is empty (items are not given)";t(e.items)}return new g(e,r)},C(A,r),C(E,r),C(y,r),C(T,r),T.Events={ACTIVE:"active",INACTIVE:"inactive"},C(w,r),b.ContentType={XML:"xml",JSON:"json",TEXT:"text"},b.ErrorType={ERROR:"error",TIMEOUT:"timeout",BAD_STATUS:"badStatus",BAD_CONTENT:"badContent"};var Se=function(){function e(){return f.isChrome=/Chrome/i.test(g)}function r(){return f.isIE8=/MSIE\s8\.0/.test(g),f.isIE=f.isIE8||function(){var e=g.toLowerCase(),t=!!g.match(/Trident.*rv\:11\./);return!(-1===e.indexOf("msie")&&!t)}(),f.isIE}function o(){return f.isFirefox=/Firefox/i.test(g)}function a(){return f.isSafari=/^((?!Chrome|Android).)*safari/i.test(g)}function s(){return f.isAndroid=/Android/i.test(g),f.isAndroid&&(f.androidVersion=function(){var e,t,n=g.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return n?(e=n[1]&&parseFloat(n[1]),t=n[2]&&parseFloat(n[2]),e&&t?parseFloat(n[1]+"."+n[2]):e?e:null):null}(),f.isOldAndroid=/webkit/i.test(g)&&f.androidVersion<2.3),f.isAndroid}function l(){return f.isIphone=/iPhone/i.test(g),f.isIpad=/iPad/i.test(g),f.isIpod=/iPod/i.test(g),f.isIOS=f.isIphone||f.isIpad||f.isIpod,f.isIOS&&(f.iosVersion=function(){var e=g.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}()),f.isIOS}function u(){return m?d():c()}function d(){var e;try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),n=t.GetVariable("$version");e=/ ([0-9]+),([0-9]+),([0-9]+),/.exec(n)}catch(i){return null}return{majorVersion:parseInt(e[1]),majorRevision:parseInt(e[2]),minorRevision:parseInt(e[3])}}function c(){var e,t,n,i;try{if(!("undefined"!=typeof h.plugins&&h.plugins.length>0))return null;if(!h.plugins["Shockwave Flash 2.0"]&&!h.plugins["Shockwave Flash"])throw new Error;var r=h.plugins["Shockwave Flash 2.0"]?" 2.0":"",o=h.plugins["Shockwave Flash"+r].description,a=h.plugins["Shockwave Flash"+r].filename;if(a.match&&a.toLowerCase().match(/lite/))throw new Error;e=o.split(" "),t=e[2].split(".")[0],n=e[2].split(".")[1],i=e[3],""==i&&(i=e[4]),"d"==i[0]?i=i.substring(1):"r"==i[0]&&(i=i.substring(1),i.indexOf("d")>0&&(i=i.substring(0,i.indexOf("d"))))}catch(s){return null}return{majorVersion:parseInt(t),majorRevision:parseInt(n),minorRevision:parseInt(i)}}var p,f={},h=n.navigator,v=n.screen,g=h.userAgent,m=f.hasActiveX=!!n.ActiveXObject;return f.hasMinFlashVersion=function(e,t,n){if(p===i&&(p=u()),null===p)return!1;var r=10,o=0,a=0;return e!==i&&(r=e),t!==i&&(o=t),n!==i&&(a=n),p.majorVersion>r||p.majorVersion==r&&p.majorRevision>o||p.majorVersion==r&&p.majorRevision==o&&p.minorRevision>=a},f.navigator=h,f.useAgent=g,e()||r()||o()||a(),f.isMobilePlatform=s()||l(),f.hasNativePlayer=f.isIphone&&f.isIpod||v.width<360,f.isTouchEnabled=!!("ontouchstart"in n||n.DocumentTouch&&t instanceof n.DocumentTouch),f.isBackgroundSizeSupported=function(){return"backgroundSize"in t.createElement("video").style},f.deviceType=null,f.os=null,f.type=null,f}(),Le=function(){var e,n,i,r;for(e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=e[0],r=0;r<e.length;r++)if(e[r][1]in t){i=e[r];break}if(i)for(Se.fullscreenAPI={},r=0;r<i.length;r++)Se.fullscreenAPI[n[r]]=i[r]};Le();var Re=function(){function e(e,t,n,r,o,l){if(s){if("object"==typeof t)try{t=Ue.stringify(t)}catch(u){}if("number"==typeof n)if(n===1/0)n=new Date("Fri, 31 Dec 9999 23:59:59 UTC");else{var d=new Date;d.setTime(d.getTime()+864e5*n),n=d}return r===i&&(r="/"),a.cookie=[encodeURIComponent(e),"=",encodeURIComponent(t),n&&"; expires="+n.toUTCString(),r&&"; path="+r,o&&"; domain="+o,l?"; secure":""].join("")}}function t(e,t){if(s&&e){e=encodeURIComponent(e)+"=";for(var n=a.cookie?a.cookie.split("; "):[],i=0,r=n.length;r>i;i++){var o=n[i];if(0===o.indexOf(e)){try{var l=decodeURIComponent(o.slice(e.length));if(t)try{l=Ue.parse(l)}catch(u){}return l}catch(u){}return}}}}function r(t,n,i,r){return e(t,"",-1,n,i,r)}function o(){try{a.cookie="cookietest=1";var e=-1!=a.cookie.indexOf("cookietest=");return a.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(t){return!1}}var a=n.document,s=o();return{enabled:s,set:e,get:t,remove:r}}(),ke={id:function(e){return t.getElementById(e)},createElement:function(e,n,i){var r,o,a,s=t.createElement(e);if(n)for(r=Object.keys(n),o=0,a=r.length;a>o;o++)s.setAttribute(r[o],n[r[o]]);if(i)for(r=Object.keys(i),o=0,a=r.length;a>o;o++)s[r[o]]=i[r[o]];return s},getAttributes:function(e){var t={},n=e.attributes;if(n&&n.length)for(var i=",autoplay,controls,loop,muted,default,",r=0,o=n.length;o>r;r++){var a=n[r].name,s=n[r].value;"boolean"!=typeof e[a]&&-1===i.indexOf(","+a+",")||(s=null!==s),t[a]=s}return t},setAttributes:function(e,t){for(var n=Object.keys(t||{}),i=0,r=n.length;r>i;i++)e.setAttribute(n[i],t[n[i]])},removeAttributes:function(e,t){t.forEach(function(t){e.removeAttribute(t)})},createIframe:function(e,n,i){var r=t.createElement("iframe");return r.src="about:blank",r.id=i,r.name=i+"name",r.marginWidth="0",r.marginHeight="0",r.frameBorder="0",r.scrolling="no",r.style&&(r.style.margin="0px",r.style.padding="0px",r.style.border="0px none",r.style.width=e,r.style.height=n,r.style.overflow="hidden",r.style.position="absolute",r.style.left="0",r.style.top="0"),r},writeIframeContent:function(e,t){try{var n=e.contentWindow||e.contentDocument;n.document&&(n=n.document),n.open("text/html","replace"),n.write(t),n.close()}catch(i){try{e.contentWindow.IFRM_content=t,e.src='javascript:window["IFRM_content"]'}catch(i){return!1}}return!0},insertFirst:function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},hasClass:function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},addClass:function(e,t){return ke.hasClass(e,t)||(e.className=""===e.className?t:e.className+" "+t),e},removeClass:function(e,t){if(ke.hasClass(e,t)){for(var n=e.className.split(" "),i=n.length-1;i>=0;i--)n[i]===t&&n.splice(i,1);return e.className=n.join(" "),e}},addEventListener:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},removeEventListener:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},blockTextSelection:function(){t.body.focus(),t.onselectstart=function(){return!1}},unblockTextSelection:function(){t.onselectstart=function(){return!0}},offset:function(e){var i,r,o,a,s,l,u,d,c;return e.getBoundingClientRect&&e.parentNode&&(i=e.getBoundingClientRect()),i?(r=t.documentElement,o=t.body,a=r.clientLeft||o.clientLeft||0,s=n.pageXOffset||o.scrollLeft,l=i.left+s-a,u=r.clientTop||o.clientTop||0,d=n.pageYOffset||o.scrollTop,c=i.top+d-u,{left:N(l),top:N(c)}):{left:0,top:0}},getPointerPosition:function(e,t){var n={},i=ke.offset(e),r=e.offsetWidth,o=e.offsetHeight,a=i.top,s=i.left,l=t.pageY,u=t.pageX;return t.changedTouches&&(u=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+o)/o)),n.x=Math.max(0,Math.min(1,(u-s)/r)),n}},Ie=function(){function e(e){try{var t=n[e],i="__test9z1";return t.setItem(i,i),t.removeItem(i),!0}catch(r){return!1}}function t(){var e={};return{getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n},removeItem:function(t){delete e[t]},clear:function(){e={}}}}var i,r;return e("localStorage")?(i=n.localStorage,r=!0):(i=t(),r=!1),{persistent:r,getItem:function(e,t){var n=i.getItem(e);if(t&&n)try{return Ue.parse(n)}catch(r){}return n},setItem:function(e,t){if("object"==typeof t)try{t=Ue.stringify(t)}catch(n){}return i.setItem(e,t)},removeItem:function(e){i.removeItem(e)},clear:function(){i.clear()}}}(),Oe=new S,Pe=Oe.bindCategory("default");e.LogListeners&&e.LogListeners.length>0&&Oe.listeners.push.apply(Oe.listeners,e.LogListeners),e.LogEventListeners&&e.LogEventListeners.length>0&&Oe.eventListeners.push.apply(Oe.eventListeners,e.LogEventListeners),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in r)e.call(r,o)&&s.push(o);if(t)for(a=0;i>a;a++)e.call(r,n[a])&&s.push(n[a]);return s}}()),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){var t,n=[],i=Object.prototype.hasOwnProperty;for(t in e)i.call(e,t)&&n.push(t);return n}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,i;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),o=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),i=0;o>i;){var a;i in r&&(a=r[i],e.call(n,a,i,r)),i++}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),r=i.length>>>0;if(0===r)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),o>=r)return-1;for(n=Math.max(o>=0?o:r-Math.abs(o),0);r>n;){if(n in i&&i[n]===e)return n;n++}return-1}),function(){var e=Array.prototype.slice;try{e.call(t.documentElement)}catch(n){Array.prototype.slice=function(t,n){if(n="undefined"!=typeof n?n:this.length,"[object Array]"===Object.prototype.toString.call(this))return e.call(this,t,n);var i,r,o=[],a=this.length,s=t||0;s=s>=0?s:Math.max(0,a+s);var l="number"==typeof n?Math.min(n,a):a;if(0>n&&(l=a+n),r=l-s,r>0)if(o=new Array(r),this.charAt)for(i=0;r>i;i++)o[i]=this.charAt(s+i);else for(i=0;r>i;i++)o[i]=this[s+i];return o}}}(),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Date.now||(Date.now=function(){return(new Date).getTime()}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),n.JSON||(n.JSON={parse:function(e){return new Function("return "+e+";")()},stringify:function(){var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)},n={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},i=function(e){return n[e]||"\\u"+(e.charCodeAt(0)+65536).toString(16).substr(1)},r=/[\\"\u0000-\u001F\u2028\u2029]/g;return function o(n){if(null==n)return"null";if("number"==typeof n)return isFinite(n)?n.toString():"null";if("boolean"==typeof n)return n.toString();if("object"==typeof n){if("function"==typeof n.toJSON)return o(n.toJSON());if(t(n)){for(var a="[",s=0;s<n.length;s++)a+=(s?", ":"")+o(n[s]);return a+"]"}if("[object Object]"===e.call(n)){var l=[];for(var u in n)n.hasOwnProperty(u)&&l.push(o(u)+": "+o(n[u]));return"{"+l.join(", ")+"}"}}return'"'+n.toString().replace(r,i)+'"'}}()});var Ne=function(){var e={};return function(t){return t||(t="evsp"),e[t]||(e[t]=1),t+e[t]++}}(),De=function(e){function t(){return Se.hasActiveX?{classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",type:"application/x-shockwave-flash",data:e.swf,id:e.id,name:e.id,width:e.width,height:e.height,scale:"exactfit"}:{type:"application/x-shockwave-flash",data:e.swf,id:e.id,name:e.id,width:e.width,height:e.height,scale:"exactfit"}}function n(){var t={allowScriptAccess:"always",allowFullScreen:"true",seamlessTabbing:!1,quality:"high",wmode:"opaque",bgcolor:"#000000",FlashVars:r(e.flashvars)};return Se.hasActiveX&&(t.movie=e.swf),t}function i(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.join(" ")}function r(e){if("string"==typeof e)return e;var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join("&amp;")}function o(e){var t="";for(var n in e)t+='<param name="'+n+'" value="'+e[n]+'" />';return t}function a(e,t){return"<object "+i(e)+">"+o(t)+"</object>"}return a(t(),n())},Me=function(){var e="https:"==n.location.protocol?"https:":"http:";return function(t){return t.replace(/^(https|http):/,e)}}(),Ue=n.JSON||{parse:function(e){return new Function("return "+e+";")()}},Ve={parse:function(e){if(n.DOMParser){var t=new DOMParser;try{var i=t.parseFromString(e,"application/xml"),r=i.getElementsByTagName("parsererror");if(r.length>0)return;return i}catch(o){return}}else if(n.ActiveXObject){var a=new ActiveXObject("Microsoft.XMLDOM");a.async=!1;try{if(!a.loadXML(e))return;return a}catch(o){return}}},eachChildElement:function(e,t){for(var n=e.firstChild,i=0;n;)1===n.nodeType&&t(n,i++),n=n.nextSibling},attribute:function(e,t){return e.getAttribute(t)},attributes:function(e){var t,n,i=e.attributes,r=[],o=i.length;for(n=0;o>n;n++)t=i.item(n),r.push({name:t.nodeName,value:t.nodeValue});return r},text:function(e){var t=e.textContent||e.text;return t?t.trim():null}};C(X,r),C(ee,r),C(te,r);var xe={PLAY:"play",PAUSE:"pause",ENTER_FULLSCREEN:"enterFullscreen",EXIT_FULLSCREEN:"exitFullscreen",MUTE:"mute",UNMUTE:"unmute",VOLUME_CHANGED:"volumeChanged",SEEK:"seek"};C(ne,r),C(ie,r);var _e={LOADED:"loaded",ADS_READY:"adsReady",VMAP_ERROR:"vmapError"},Fe={UNDEFINED:900,SCHEMA_VALIDATION:1e3,VERSION_NOT_SUPPORTED:1001,XML_PARSING:1002,BREAK_TYPE_NOT_SUPPORTED:1003,RESPONSE_GENERAL:1004,RESPONSE_TEMPLATE_NOT_SUPPORTED:1005,RESPONSE_XML_PARSING:1006,RESPONSE_TIMEOUT:1007,RESPONSE_NOT_FOUND:1008};C(re,r),C(ae,r),ae.AdType={INLINE:"inline",WRAPPER:"wrapper"},ae.CreativeType={LINEAR:"linear",NONLINEAR:"nonlinear",COMPANION:"companion"},ae.ResourceType={STATIC:"static",IFRAME:"iframe",HTML:"html"},ae.StaticType={IMAGE:"image",JAVASCRIPT:"javascript",FLASH:"flash"},ae.MediaType={VIDEO:"video",
HTML5_VPAID:"html5_vpaid",FLASH_VPAID:"flash_vpaid"};var qe={CREATIVE_VIEW:"creativeView",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",MUTE:"mute",UNMUTE:"unmute",PAUSE:"pause",REWIMD:"rewind",RESUME:"resume",FULLSCREEN:"fullscreen",EXIT_FULLSCREEN:"exitFullscreen",EXPAND:"expand",COLLAPSE:"collapse",ACCEPT_INVITATION_LINEAR:"acceptInvitationLinear",ACCEPT_INVITATION:"acceptInvitation",CLOSE_LINEAR:"closeLinear",CLOSE:"close",SKIP:"skip",PROGRESS:"progress",IMPRESSION:"impression",ERROR:"error",CLICK:"click"},je={XML_PARSING:100,SCHEMA_VALIDATION:101,VERSION_NOT_SUPPORTED:102,TRAFFICKING:200,EXPECTING_DIFFERENT_LINEARITY:201,EXPECTING_DIFFERENT_DURATION:202,EXPECTING_DIFFERENT_SIZE:203,WRAPPER_GENERAL:300,WRAPPER_TIMEOUT:301,WRAPPER_REDIRECT_LIMIT:302,WRAPPER_NO_ADS:303,LINEAR_GENERAL:400,LINEAR_NOT_FOUND:401,LINEAR_TIMEOUT:402,LINEAR_NO_SELECT:403,LINEAR_NO_DISPLAY:405,NONLINEAR_GENERAL:500,NONLINEAR_NO_SIZE:501,NONLINEAR_NOT_FOUND:502,NONLINEAR_NO_SELECT:503,COMPANION_GENERAL:600,COMPANION_WRONG_SIZE:601,COMPANION_NO_DISPLAY:602,COMPANION_NOT_FOUND:603,COMPANION_NO_SELECT:604,UNDEFINED:900,VPAID_GENERAL:901};C(ce,r),pe.render=function(e,t,n){var i=pe.getDimensions(e,n);if(e.staticResource)return pe.renderStaticResource(e,t,i);if(e.iframeResource||e.htmlResource){var r=new u("iframe",{src:e.iframeResource||e.htmlResource,width:i.width,height:i.height,frameborder:0,marginwidth:0,marginheight:0,scrolling:"no"});return t.appendChild(r),!0}},pe.renderStaticResource=function(e,t,n){switch(e.staticResource.type){case ae.StaticType.IMAGE:var i,r=new u("img",{src:e.staticResource.url,style:"border:0;",alt:"Ad",width:n.width,height:n.height});e.clickThrough&&(i=new u("a",{href:e.clickThrough,target:"_blank"}),i.appendChild(r)),t.appendChild(i||r);break;case ae.StaticType.JAVASCRIPT:t.innerHTML='<script src="'+e.staticResource.url+'"></script>';break;case ae.StaticType.FLASH:t.innerHTML=De({id:Ne("nonlinearad"),swf:e.staticResource.url,width:n.width,height:n.height,flashvars:e.adParameters&&e.adParameters.value});break;default:return!1}return!0},pe.getResourceUrl=function(e){return e.staticResource&&e.staticResource.url||e.iframeResource||e.htmlResource},pe.getDimensions=function(e,t){var n=e.width,i=e.height;return t&&(n>t.width||i>t.height)?V(n,i,t.width,t.height):{width:n,height:i,r:1}},C(fe,r),C(he,r),C(ve,r),C(ge,r),ge.checkVpaidInterface=function(e){for(var t=["handshakeVersion","initAd","startAd","stopAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","getAdLinear","getAdExpanded","getAdRemainingTime","getAdVolume","setAdVolume"],n=t.length;n--;)if("function"!=typeof e[t[n]])return!1;return!0},ge.VastMap={AdSkipped:qe.SKIP,AdStarted:qe.CREATIVE_VIEW,AdVideoStart:qe.START,AdVideoFirstQuartile:qe.FIRST_QUARTILE,AdVideoMidpoint:qe.MIDPOINT,AdVideoThirdQuartile:qe.THIRD_QUARTILE,AdVideoComplete:qe.COMPLETE,AdUserAcceptInvitation:qe.ACCEPT_INVITATION,AdUserMinimize:qe.COLLAPSE,AdUserClose:qe.CLOSE,AdPaused:qe.PAUSE,AdPlaying:qe.RESUME};var He={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdSizeChange:"AdSizeChange",AdLinearChange:"AdLinearChange",AdDurationChange:"AdDurationChange",AdExpandedChange:"AdExpandedChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:" AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError"}}(window.evsPlayer,document,window);
//# sourceMappingURL=evsplayer.min.js.map
