"use strict";window.varrandoPlayer=window.varrandoPlayer||{},function(e,t,n,i){function r(){this.components=[],this.isReady=!1}function o(e,t){function n(e,t){i.trigger({name:Te.AdEnded,position:e,time:t,isPlaybackUsed:!1})}var i=this;r.call(i),i.initialize=function(){},i.requestAds=function(){},i.startPreroll=function(){n(ye.PREROLL,0)},i.startPostroll=function(){n(ye.POSTROLL,-1)},i.reset=function(){},i.dispose=function(){},i.isReset=function(){return!0}}function a(){}function s(e){function n(){z.tracking=new l(z,!0),we.isMobilePlatform&&(Ce=!1,e.preload="none"),re.dimensions(e.width,e.height),T(),z.listenTo(z,me.READY,s),Ie=new j(z),z.addComponent(Ie),ve=new H,z.addComponent(ve),ge=new G(z),z.addComponent(ge),e.controls&&(z.controls=be=new q(z,e),z.addComponent(be)),ke=new W(re),z.addComponent(ke),z.listenTo(ke,W.Events.ACTIVE,Y),z.listenTo(ke,W.Events.INACTIVE,J),(new h).load(e.playlist,i,K)}function i(e){pe=e,g(pe.item(0)),Se=1}function a(t){ce&&(z.removeComponent(ce),ce.dispose()),ce=z.playback=t.target,O(ce),z.trigger(Ee.CONTENT_UPDATE),z.setReady(),z.volume(e.volume),z.muted(e.muted)}function s(){ve.hide(),A(),m()}function c(){function e(){fe.startPreroll()}return z.isReady?(se=!1,void(ae||(ae=!0,z.trigger(Ee.FIRST_PLAY),Ce=!1,E(),we.isMobilePlatform?(fe.initialize(),fe.requestAds(),z.listenToOne(ce,Me.LOADED_METADATA,e),ce.load()):e()))):void(se=!0)}function p(e){ce.disableEvents(!0),z.trigger(Ee.ADS_STARTING),z.pause(),ve.hide(),X(),ke.disable(),le=!0}function f(t){if(le=!1,ce.disableEvents(!1),z.trigger(Ee.ADS_ENDED),ke.enable(),ve.hide(),Z(),t.position===ye.PREROLL)z.play();else if(t.position===ye.POSTROLL){if(z.trigger(Me.ENDED),ae=!1,pe.currentIndex()===pe.length()-1){if(z.trigger(Ee.PLAYLIST_ENDED),pe.reset(),Se===e.loops)return void(Se=1);Se++}if(e.autoplayNext)return void z.playNext()}else z.play()}function v(){le||fe.startPostroll()}function g(t){if(t){ae=!1;var n=!0;if(ce){var i=Ue.selectSource(ce,t.sources);i&&(i.file===ce.src()&&3!==ce.networkState()||ce.src(i.file),n=!1)}if(n){var r={preload:e.preload,playerSwf:e.playerSwf,playerSwfTimeout:e.playerSwfTimeout,debug:ee},o=Ue.getInstance(t.sources,r);o||ce||(o=Ue.getDefaultInstance(t.sources,r)),o?(z.isReady=!1,ve.show(),z.addComponent(o),z.listenTo(o,me.READY,a)):(ce.src(t.sources[0].file),n=!1)}n||(z.trigger(Ee.CONTENT_UPDATE),m()),de=t,ge.setText(t.title)}}function m(){(se||Ce)&&(se=!1,z.play())}function A(){if(!fe){var t=e.ads||e.imaAds;fe=t&&"undefined"!=typeof u?new u(z,e):new o(z,e),z.addComponent(fe),z.listenTo(fe,Te.AdStarting,p),z.listenTo(fe,Te.AdEnded,f),he=!1}}function E(){he&&fe.reset(),he=!0}function T(){t.addEventListener&&(t.addEventListener("webkitfullscreenchange",C),t.addEventListener("mozfullscreenchange",C),t.addEventListener("fullscreenchange",C),t.addEventListener("MSFullscreenChange",C),t.addEventListener("fullscreenerror",S),t.addEventListener("MSFullscreenError",S),t.addEventListener("mozfullscreenerror",S),t.addEventListener("webkitfullscreenerror",S))}function C(){Le=I(),Le?re.addClass("e-player-fullscreen"):re.removeClass("e-player-fullscreen"),z.trigger({name:Ee.FULLSCREEN_CHANGED,fullScreen:Le}),k()}function S(){Le=!1,re.removeClass("e-player-fullscreen"),z.trigger({name:Ee.FULLSCREEN_CHANGED,fullScreen:Le}),k()}function L(){re.addClass("e-player-fullscreen"),re.requestFullscreen()||re.addClass("e-player-fullwindow"),Le=!0,z.trigger({name:Ee.FULLSCREEN_CHANGED,fullscreen:!0}),k()}function R(){re.removeClass("e-player-fullscreen"),re.exitFullscreen()||re.removeClass("e-player-fullwindow"),Le=!1,z.trigger({name:Ee.FULLSCREEN_CHANGED,fullscreen:!1}),k()}function k(){ce.setSize(z.width(),z.height()),z.trigger(Ee.RESIZE)}function O(e){z.listenTo(e,Me.LOAD_START,_),z.listenTo(e,Me.ERROR,F),z.listenTo(e,Me.ENDED,v),z.listenTo(e,Me.CANPLAY,P),z.listenTo(e,Me.CANPLAY_THROUGH,N),z.listenTo(e,Me.PLAY,D),z.listenTo(e,Me.PLAYING,M),z.listenTo(e,Me.WAITING,U),z.listenTo(e,Me.SEEKING,V),z.listenTo(e,Me.SEEKED,x),Object.keys(Me).forEach(function(t){z.listenTo(e,Me[t],function(){z.trigger(Me[t])})})}function P(){ve.hide()}function N(){ve.hide()}function D(){ae||(z.pause(),c())}function M(){ve.hide()}function U(){ve.show()}function V(){ve.show()}function x(){ve.hide()}function _(){B(null)}function F(){B(ce.error()),ve.hide()}function K(e){B(e)}function B(e){return e?(ue=e instanceof Ae?e:new Ae(e),$.error(y("Media error {0}({1}) - {2}",Ae.Codes[ue.code]||Ae.Codes[0],ue.code,ue.message)),z.trigger({name:Ee.ERROR,error:ue}),void ve.hide()):void(ue=null)}function Y(){z.trigger(Ee.USER_ACTIVE)}function J(){z.trigger(Ee.USER_INACTIVE)}function X(){be.hide(),ge.hide()}function Z(){be.show(),ge.show()}function Q(e){return function(){return ce&&ce.isReady?e.apply(z,arguments):void 0}}var z=this;r.call(z);var $=Re.bindCategory("player"),ee=e.debug,te="1.0.0",ne=e.id,ie=t.getElementById(ne);if(!ie)throw TypeError('The "id" of the existing dom element is required');var re=z.uiObj=new d(ie,{"class":"e-player"}),oe={autoplay:!1,autoplayNext:!1,loops:1,volume:1,muted:!1,width:"100%",height:"100%",preload:"metadata",controls:!0,fullscreen:!0,ga:!1,playerSwfTimeout:3e3};z.setupOptions=b({},e),e=z.options=w(oe,e);var ae,se,le,de,ue,ce,pe,fe,he,ve,ge,be,Ce=e.autoplay,Se=1,Le=!1;z.contentTracking;var ke,Ie,Oe=[];z.enterFullscreen=L,z.exitFullscreen=R,z.setPlaylist=function(e){(new h).load(e,i,K)},z.play=Q(function(){return ae?void ce.play():void c()}),z.playNext=Q(function(){if(pe){var e=pe.next();if(e)return se=!0,g(e),e}return null}),z.playPrevious=Q(function(){if(pe){var e=pe.previous();if(e)return se=!0,g(e),e}return null}),z.playItem=Q(function(e){if(pe){var t=pe.item(e);if(t)return se=!0,g(t),t}return null}),z.pause=Q(function(){ce.pause()}),z.duration=Q(function(){return ce.duration()}),z.paused=Q(function(){return ce.paused()}),z.volume=Q(function(e){return ce.volume(e)}),z.muted=Q(function(e){return ce.muted(e)}),z.ended=Q(function(){return ce.ended()}),z.src=Q(function(){return ce.src()}),z.currentTime=Q(function(e){return ce.currentTime(e)}),z.getVersion=function(){return te},z.getId=function(){return ne},z.dispose=function(){r.prototype.dispose.call(z)},z.width=function(){return re.width()},z.height=function(){return re.height()},z.isFullscreen=function(){return Le},z.getError=function(){return ue||ce.error()},z.showControls=function(){Z(),ke.enable()},z.hideControls=function(){X(),ke.disable()},z.defineSlot=function(e,n,i,r){var o=t.getElementById(e);if(!o)throw"Companion slot is not found";Oe.push({elemId:e,el:o,width:n,height:i,adSlotId:r||e})},z.getAdSlots=function(){return Oe};n()}function l(e,i){function o(){e.options.murl||(L=!1),e.addComponent(g),g.listenTo(e,me.READY,a),g.listenTo(e,Me.LOADED_METADATA,s),g.listenTo(e,Me.PLAYING,l),g.listenTo(e,Me.TIME_UPDATE,F(d,400)),g.listenTo(e,Me.ENDED,u),g.listenTo(e,Ee.CONTENT_UPDATE,c),g.listenTo(e,Ee.TWITTER_SHARE,p),g.listenTo(e,Ee.FACEBOOK_SHARE,f),g.listenTo(e,Ee.ERROR,h),b=n.top!==n?t.referrer:n.location.href}function a(){var t=e.options;t.murl&&(m.pixelUrl=C+t.murl),m.playerId=t.playerId,m.pubTagId=t.pubTagId,m.playlistId=e.playlist&&e.playlist.id,m.videoId=e.currentItem&&e.currentItem.id,m.currentTime=0,m.referrer=b;var n=t.ud||{};m.country=n.country,m.domain=n.domain||"",m.deviceType=n.deviceType||we.deviceType,m.os=n.os||we.os,m.browser=n.browser||we.type,v(k.Ready)}function s(){m.duration=e.duration()}function l(){S.st||(v(k.VideoStart),S.st=1)}function d(){var t=e.currentTime(),n=e.duration();if(t&&n){m.currentTime=t;var i=t/n,r=Math.floor(i/.25);if(!S["q"+r]){switch(r){case 1:v(k.FirstQuartile);break;case 2:v(k.MidPoint);break;case 3:v(k.ThirdQuartile)}S["q"+r]=1}var o=t-w;0>o||o>A||(T+=o,T>=y&&(T=0,v(k.Progress))),w=t}}function u(){v(k.VideoEnd)}function c(){m.playlistId=e.playlist&&e.playlist.id,m.videoId=e.currentItem&&e.currentItem.id,m.src=e.src(),m.currentTime=0,S={},T=0}function p(){v(k.TwitterShare)}function f(){v(k.FacebookShare)}function h(){v(k.Error)}function v(e){if(L){Array.isArray(e)&&(e=e.join(","));var t=m,n=[t.pixelUrl+"?e="+e,t.playerId&&"p="+t.playerId,t.pubTagId&&"pt="+t.pubTagId,t.playlistId&&"pl="+t.playlistId,t.videoId&&"v="+t.videoId,t.domain&&"d="+t.domain,t.referrer&&"d="+t.referrer,"cb="+R()];i&&[].push.apply(n,[t.country&&"uc="+t.country,t.deviceType&&"udt="+t.deviceType,t.os&&"uos="+t.os,t.browser&&"ub="+t.browser,"tt=h"]);var r=n.join("&");(new Image).src=r}}var g=this;r.call(g);var m=(Re.bindCategory("tracking"),{}),A=2e3,y=30,T=0,w=0,b="",C="https:"==n.location.protocol?"https:":"http:",S={},L=!0,R=E,k={Ready:"ready",Progress:"progress",VideoLoad:"vload",VideoStart:"vstart",FirstQuartile:"v25",MidPoint:"v50",ThirdQuartile:"v75",VideoEnd:"vend",FacebookShare:"cfshare",TwitterShare:"ctshare",Error:"error"};g.getData=function(){return m},o()}function d(e,t){e===i||"string"==typeof e?(this.el=this.createElement(e||"div",t),this.isOwnEl=!0):(this.el=e,t&&this.setAttributes(t),this.isOwnEl=!1),this.eventListeners=[],this.children=[],this.tapEventEnabled=!1}function u(e,t){function n(){var n=new re(e.tracking);if(h=w({timeout:5e3,postrollTimeout:3e3,customSeeking:!1,debug:t.debug,adTracking:n},h),t.ads)u=new ie(a,e,h);else{if(!t.imaAds)throw"Invalid ad options";u=new c(a,e,h)}h.preload&&(a.requestAds(),f=!0)}function i(e,t){switch(e){case Te.AdStarting:if(1===p)return;p=1;break;case Te.AdEnded:if(2===p)return;p=2;break;default:return}d=!1,l=!1;var n,i=t.time;n=0===i?ye.PREROLL:-1===i?ye.POSTROLL:ye.MIDROLL,a.trigger({name:e,position:n,time:t&&t.time,isPlaybackUsed:!(!t||!t.isPlaybackUsed)})}function o(){u.loadTimeout()}var a=this;r.call(a);var s,l,d,u,p,f,h=(Re.bindCategory("ads-superviser"),t.debug,t.ads||t.imaAds),v={Loading:"loading",Loaded:"loaded",Error:"error"},g=null,m=_(o);a.initialize=function(){s=!0,u.initialize()},a.requestAds=function(){f||g||(g=v.Loading,u.requestAds())},a.startPreroll=function(){if(!d&&(!we.isMobilePlatform||s))switch(d=!0,p=0,m.set(h.timeout+250),g){case null:l=!0,a.requestAds();break;case v.Loading:l=!0;break;case v.Loaded:u.startPreroll();break;case v.Error:i(Te.AdEnded,{time:0})}},a.startPostroll=function(){d||(d=!0,p=0,m.set(h.postrollTimeout+250),u.startPostroll())},a.setAdsStatus=function(e,t){switch(e){case Te.AdsLoaded:return g=v.Loaded,void(l&&u.startPreroll());case Te.AdsLoadedError:if(g=v.Error,!l)return;e=Te.AdEnded;break;case Te.AdStarting:case Te.AdEnded:m.clear();break;default:return}i(e,t)},a.reset=function(){m.clear(),u.reset(),g=p=null,f=l=d=!1},a.dispose=function(){a.reset(),u&&(u.dispose(),u=null),r.prototype.dispose.call(a)};n()}function c(e,n,i){function o(t){K&&B.debug("onAdsLoaded");var n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0,n.loadAdVideoTimeout=i.loadAdVideoTimeout,n.useStyledNonLinearAds=i.useStyledNonLinearAds,te=t.getAdsManager(Q,n),te.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,s),te.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,l),te.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,u),te.addEventListener(google.ima.AdEvent.Type.ALL_ADS_COMPLETED,p),te.addEventListener(google.ima.AdEvent.Type.LOADED,f),te.addEventListener(google.ima.AdEvent.Type.STARTED,h),te.addEventListener(google.ima.AdEvent.Type.CLICK,g),te.addEventListener(google.ima.AdEvent.Type.COMPLETE,m),te.addEventListener(google.ima.AdEvent.Type.SKIPPED,m),K&&D(),e.processProviderStatus(Ads.ProviderStatus.ADS_LOADED)}function a(t){K&&B.debug("onAdsLoadedError"),B.error(y("ads loading error: [{0}]",t.getError())),te&&te.destroy(),e.processProviderStatus(Ads.ProviderStatus.ADS_LOADING_ERROR)}function s(t){K&&B.debug("onAdError"),B.error(y("ad error: [{0}]",t.getError())),te&&te.destroy(),J.hide(),e.processProviderStatus(Ads.ProviderStatus.ADS_ERROR)}function l(t){K&&B.debug("onContentPauseRequested");var n=e.processProviderStatus(Ads.ProviderStatus.ADS_STARTING,{isLinear:!0,isPlaybackUsed:te.isCustomPlaybackUsed()});if(!n)return void(te&&te.stop());_=!0,x=!0,J.show();var i=F?F.getContentType():null;"application/javascript"!==i&&"application/x-javascript"!==i&&"application/x-shockwave-flash"!==i&&(X.show(),X.userActivity.start(),X.setPlaying(!0))}function u(t){if(_){K&&B.debug("onContentResumeRequested");var n={};F&&(n.isLinear=F.isLinear(),n.isPlaybackUsed=!(!te||!te.isCustomPlaybackUsed())),e.processProviderStatus(Ads.ProviderStatus.ADS_ENDED,n),_=!1,x=!1,F?F.isLinear()&&J.hide():J.hide(),X.userActivity.stop(),X.hide(),X.setPlaying(!1),X.setCountdownText("")}}function p(){K&&B.debug("onAllAdsCompleted"),_&&u()}function f(t){K&&B.debug("onAdLoaded");var n=t.getAd();n.isLinear()?A():e.processProviderStatus(Ads.ProviderStatus.ADS_ENDED,{isLinear:!1,isPlaybackUsed:!1})}function h(e){K&&B.debug("onAdStarted"),F=e.getAd(),F.isLinear()&&(j=setInterval(v,250)),b(F)}function v(){var e,t,n=te.getRemainingTime(),i=F.getDuration(),r=Math.max(i-n,0),o=!1;F.getAdPodInfo()&&(o=!0,e=F.getAdPodInfo().getAdPosition(),t=F.getAdPodInfo().getTotalAds());var a=Math.floor(n/60),s=Math.floor(n%60);s.toString().length<2&&(s="0"+s),o&&t>1?X.setCountdownText(y("Advertisement ({0} of {1}): {2}:{3}",e,t,a,s)):X.setCountdownText(y("Advertisement: {0}:{1}",a,s));var l=r/i,d=100*l;X.setProgress(d)}function g(e){K&&B.debug("onAdClick"),_&&(x?(te.pause(),x=!1):(te.resume(),x=!0),X.setPlaying(x))}function m(e){K&&B.debug("onAdComplete"),F.isLinear()&&clearInterval(j)}function A(){te&&(n.isFullscreen()?(te.resize(n.width(),n.height(),google.ima.ViewMode.FULLSCREEN),X.setFullscreen(!0)):(te.resize(n.width(),n.height(),google.ima.ViewMode.NORMAL),X.setFullscreen(!1)))}function E(){te&&A()}function T(){if(te){var e=n.volume();X.setVolume(e),n.muted()?(G=e,X.setMuted(!0),te.setVolume(0)):(X.setMuted(!1),te.setVolume(e))}}function b(e){if(ne){K&&B.debug("displayCompanionAds");for(var t=function(t){var n=e.getCompanionAds(t.width,t.height,{adSlotIds:[t.adSlotId]});if(n.length>0){var i=n[0].getContent();t.domEl.innerHTML=i}},n=0,i=ne.length;i>n;n++)t(ne[n])}}function C(){_&&(te.resume(),x=!0,X.setPlaying(!0))}function S(){_&&(te.pause(),x=!1,X.setPlaying(!1))}function L(){n.isFullscreen()||n.enterFullscreen()}function R(){n.isFullscreen()&&n.exitFullscreen()}function k(){G=n.volume(),te.setVolume(0),n.muted(!0),X.setMuted(!0)}function I(){te.setVolume(G||1),n.muted(!1),X.setMuted(!1)}function O(e){te.setVolume(e.volume),n.volume(e.volume),X.setVolume(e.volume)}function P(){}function N(e){var t=null;if(e.getAd&&(t=e.getAd()),e.getError)B.event(e.type,[{label:"name",value:e.type},{label:"error",value:e.getError()}]);else{var n=[{label:"name",value:e.type}];if(t){n.push({label:"is linear?",value:t.isLinear()?"yes":"no"}),n.push({label:"content type",value:t.getContentType()}),n.push({label:"size (WxH)",value:t.getWidth()+"x"+t.getHeight()}),n.push({label:"duration",value:t.getDuration()}),n.push({label:"min duration",value:t.getMinSuggestedDuration()});var i=t.getTitle(),r=t.getDescription();i&&n.push({label:"title",value:i}),r&&n.push({label:"description",value:r})}B.event(e.type,n)}}function D(){for(var e=c.AllEvents.length-1;e>=0;e--)te.addEventListener(c.AllEvents[e],N)}function M(){$.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,N,!1),$.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,N,!1)}var U=this;r.call(U);var V="0.0.1",x=!1,_=!1,F=null,q=n.playback.uiObj.el,j=null,H="ima-"+Ie(),W=!1,G=null,K=i.debug||!1,B=Re.bindCategory("ima"),Y={loadAdVideoTimeout:2e3,useStyledNonLinearAds:!0,locale:"",debug:!1,vpaidMode:"enabled"};i=w(Y,i),U.uiObj=new d("div",{id:H+"-container","class":"e-ads-container e-child-component"});var J=U.uiObj;n.uiObj.appendChild(J),J.hide();var X=new ee;U.addComponent(X),X.userActivity.stop(),U.listenTo(X,je.PLAY,C),U.listenTo(X,je.PAUSE,S),U.listenTo(X,je.ENTER_FULLSCREEN,L),U.listenTo(X,je.EXIT_FULLSCREEN,R),U.listenTo(X,je.MUTE,k),U.listenTo(X,je.UNMUTE,I),U.listenTo(X,je.VOLUME_CHANGED,O),U.listenTo(X,je.SEEK,P);var Z=i.url,Q=i.contentPlayheadTracker||q;"enabled"===i.vpaidMode?google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED):"disabled"===i.vpaidMode?google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.DISABLED):google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),i.locale&&google.ima.settings.setLocale(i.locale);var z=new google.ima.AdDisplayContainer(J.el,q),$=new google.ima.AdsLoader(z);$.getSettings().setPlayerType("evs-player"),$.getSettings().setPlayerVersion(V),$.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,o,!1),$.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,a,!1);var te=null,ne=null;U.listenTo(n,Ee.FULLSCREEN_CHANGED,A),U.listenTo(n,Ee.RESIZE,E),U.listenTo(n,Me.VOLUME_CHANGE,T),U.initialize=function(){K&&B.debug("initialize"),z.initialize()},U.requestAds=function(){K&&B.debug("requestAds");var e=n.width(),t=n.height(),i=new google.ima.AdsRequest;i.adTagUrl=Z,i.linearAdSlotWidth=e,i.linearAdSlotHeight=t,i.nonLinearAdSlotWidth=e,i.nonLinearAdSlotHeight=Math.min(t/3,100),$.requestAds(i)},U.startAds=function(){if(K&&B.debug("startAds"),!te)return void B.error("Always call this method after onAdsLoaded");try{var e=n.isFullscreen()?google.ima.ViewMode.FULLSCREEN:google.ima.ViewMode.NORMAL;te.init(n.width(),n.height(),e),T(),te.start()}catch(t){s(t)}},U.contentComplete=function(){K&&B.debug("contentComplete"),W||($.contentComplete(),W=!0)},U.reset=function(){K&&B.debug("reset"),te&&(te.destroy(),te=null),$&&!W&&$.contentComplete(),W=!1,clearInterval(j)},U.dispose=function(){K&&B.debug("dispose"),$&&($&&$.destroy(),$=null),z&&(z&&z.destroy(),z=null),r.protorype.dispose.call(U)},U.getAdsManager=function(){return te},U.setAdsTagUrl=function(e){K&&B.debug("setAdsTagUrl"),U.reset(),e&&(Z=e)},U.setAdSlots=function(e){K&&B.debug("setAdSlots");var n,i;ne=[];for(var r=0,o=Math.min(e.length,6);o>r;r++)n=e[r],n.id&&n.width&&n.height?(i=t.getElementById(n.id),i?ne.push({adSlotId:n.id,domEl:i,width:n.width,height:n.height}):B.error("Invalid slot id")):B.error("Invalid slot format")},K&&M(),c.AllEvents=[google.ima.AdEvent.Type.AD_BREAK_READY,google.ima.AdEvent.Type.AD_METADATA,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,google.ima.AdEvent.Type.DURATION_CHANGE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.IMPRESSION,google.ima.AdEvent.Type.LINEAR_CHANGED,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.LOG,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.RESUMED,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,google.ima.AdEvent.Type.SKIPPED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE,google.ima.AdEvent.Type.USER_CLOSE,google.ima.AdEvent.Type.VOLUME_CHANGED,google.ima.AdEvent.Type.VOLUME_MUTED,google.ima.AdErrorEvent.Type.AD_ERROR]}function p(){}function f(e,t){var n,i=this,r=-1;i.id=e.id||"",i.title=e.title||"",i.description=e.description||"",i.poster=e.poster||e.defaultPoster||"",i.mediaItems=t,i.next=function(){return n?i.item(r+1):i.item(0)},i.previous=function(){return n?i.item(r-1):i.item(0)},i.item=function(e){return e>=0&&e<t.length?(n=t[e],r=e,n):null},i.currentIndex=function(){return r},i.length=function(){return t.length},i.reset=function(){n=null,r=-1}}function h(){var e=this,t=1e4;e.load=function(e,n,i){if(!e)return void i("Playlist is required");if("string"==typeof e){var r=new v(e,{timeout:t});r.onload=function(t){try{if(t.type===v.ContentType.XML)e=p.parse(t.data);else if(t.type===v.ContentType.JSON)e=t.data;else{var r=De.parse(t.data);if(!r)throw"The response from the server has a bad format or content-type";e=p.parse(r)}n(f.parse(e))}catch(o){i(o.toString())}},r.onerror=function(e){var t;switch(e.error){case v.ErrorType.BAD_STATUS:t=y("The server has returned an invalid status code {0}.",e.status);break;case v.ErrorType.BAD_CONTENT:t="The response from server is invalid.";break;case v.ErrorType.TIMEOUT:t="The request to server has reached the timeout.";break;case v.ErrorType.ERROR:t="A network error caused the playlist download to fail.";break;default:t="Unexpected error"}i(t)},r.send()}else try{n(f.parse(e))}catch(o){i(o.toString())}}}function v(e,i){function r(){if(s()){var t={url:e,status:p.status||200,xhr:p};if(t.status>=300)return void a(v.ErrorType.BAD_STATUS);var n=o(p);if(!n)return void a(v.ErrorType.BAD_CONTENT);t.data=n.data,t.type=n.type,t.mimeType=n.mimeType,c.onload&&c.onload(t)}}function o(e){var t;if(e.getResponseHeader?t=e.getResponseHeader("Content-type"):e.contentType&&(t=e.contentType),e.responseXML)return{data:e.responseXML,type:v.ContentType.XML,mimeType:t};if(e.responseText){var n,i;if("application/json"===t||c.jsonExpected)try{n=Ne.parse(e.responseText),i=v.ContentType.JSON}catch(r){}else"application/xml"===t||"text/xml"===t||"application/rss+xml"===t||c.xmlExpected?(n=De.parse(e.responseText),n&&(i=v.ContentType.XML)):(n=e.responseText,i=v.ContentType.TEXT);return n&&i?{data:n,type:i,mimeType:t}:void 0}}function a(t){var n={url:e,status:p.status||500,xhr:p,error:t||v.ErrorType.ERROR};c.onerror&&c.onerror(n)}function s(){return g?!1:(f&&clearTimeout(f),g=!0,!0)}function l(){s()&&a(v.ErrorType.ERROR)}function d(){s()&&(p.abort(),a(v.ErrorType.TIMEOUT))}function u(){var e=t.all&&!n.atob;if(e&&n.XDomainRequest)p=new XDomainRequest,h=!0;else{if(!n.XMLHttpRequest)throw new Error("Transport layer not found (XDomainRequest, XMLHttpRequest)");p=new XMLHttpRequest}}if(!e)throw new Error("Url required");var c=this;i||(i={}),c.url=e,c.method=i.method||"GET",c.async=!0,c.timeout=i.timeout,c.user=i.user||"",c.password=i.password||"",c.withCredentials=i.withCredentials===!0,c.headers=i.headers||{},c.sendData=i.sendData||null,c.xmlExpected=i.xmlExpected===!0,c.jsonExpected=i.jsonExpected===!0;var p,f,h=!1,g=!1;c.onload,c.onerror,c.onabort,c.send=function(){u(),p.onload=r,p.onerror=l;try{p.open(c.method,c.url,c.async,c.user,c.password)}catch(e){return void l()}if(p.setRequestHeader&&Object.keys(c.headers).forEach(function(e){p.setRequestHeader(e,c.headers[e])}),p.withCredentials=c.withCredentials,c.timeout&&(f=setTimeout(d,c.timeout)),h)return p.onprogress=function(){},p.ontimeout=function(){},void setTimeout(function(){p.send(c.sendData)},0);try{p.send(c.sendData)}catch(e){l()}},c.abort=function(){s()&&(p.abort(),c.onabort&&c.onabort())}}function g(e,t){function n(){this.constructor=e}for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);n.prototype=t.prototype,e.prototype=new n}function m(){function e(i,l,d,u){l=t(l),d=n(d),u||(u=r);for(var c=0,p=s.length;p>c;c++)try{s[c](i,l,d,u)}catch(f){if(a)throw f;i!==o&&e(o,t(f)+typeof s[c]+":"+c,"log-error",r)}}function t(e){return"string"==typeof e?e:"object"==typeof e?"function"==typeof e.toString?e.toString():e.message||e.name||"object":typeof e}function n(e){return"string"==typeof e?e:e?typeof e:""}function i(n,i,s){for(var d=0,u=l.length;u>d;d++)try{l[d](n,i,s)}catch(c){if(a)throw c;e(o,t(c)+typeof l[d]+":"+d,"log-event-error",r)}}var r="def",o="log-error",a=!1,s=this.listeners=[],l=this.eventListeners=[];this.bindCategory=function(n){return n||(n=r),{debug:function(t,i,r){e("debug",t,i,r||n)},warn:function(t,i,r){e("warn",t,i,r||n)},error:function(t,i,r){e("error",t,i,r||n)},event:function(e,t,r){i(e,t,r||n)},errorToString:t}},this.setDebug=function(e){a=e}}function A(e){return e=e||"",e+""+Math.random().toString(36).substr(2,9)}function E(){return""+Math.floor(99999999*Math.random())}function y(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n,r){return r=t[n],r===i?"undefined":r})}function T(e,t){return function(){return t.apply(e,arguments)}}function w(e){if("object"!=typeof e||null===e)throw new TypeError("Target is not an object");for(var t=1;t<arguments.length;t++){var n=arguments[t];if("object"==typeof n&&null!==n)for(var i,r=Object.keys(n),o=0,a=r.length;a>o;o++)i=r[o],e[i]=n[i]}return e}function b(e){"object"==typeof e&&null!==e||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];if("object"==typeof n&&null!==n)for(var i,r,o,a=Object.keys(n),s=0,l=a.length;l>s;s++)if(i=a[s],r=n[i],"object"==typeof r&&null!==r){if(o=e[i],"object"!=typeof o)try{o=new r.constructor}catch(d){}e[i]=b(o,r)}else e[i]=r}return e}function C(e,t){return t=t||0,Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function S(e){if(!e)return null;var t=e.split(":");switch(t.length){case 3:return 3600*parseInt(t[0])+60*parseInt(t[1])+parseFloat(t[2]);case 2:return 60*parseInt(t[0])+parseInt(t[1]);case 1:return parseInt(t[0])}return null}function L(e){function t(e){var t=Math.round(e),n=t+"";return 1===n.length&&(n="0"+n),n}var n="",i=Math.floor(e/3600);i>0&&(n+=t(i)+":"),e%=3600;var r=Math.floor(e/60);n+=t(r)+":";var o=e%60;return n+=t(o)}function R(e,t,n){var i=setTimeout(function(){e=function(){},n()},t);return function(){clearTimeout(i),e.apply(this,arguments)}}function k(e,t,n,i){var r=Math.min(n/e,i/t);return{width:e*r,height:t*r,r:r}}function I(){return!!(t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement)}function O(e){return e?e.split("://")[0]:null}function P(e){var t=e.split("?")[0].match(/.*\.(.*)$/)||[];return t.length>1&&t[1].length<=4?t[1]:""}function N(e,t,n){var i=String(e),r=t-i.length;return 0>=r?i:Array(r+1).join(n||"0")+i}function D(e,t){t===i&&(t=null);var n=parseInt(e,10);return isNaN(n)?t:n}function M(e,t){t===i&&(t=null);var n=parseFloat(e);return isNaN(n)?t:n}function U(e,t){return"true"===e?!0:"false"===e?!1:t===i?!1:t}function V(e,t,n){for(var i=0,r=e.length;r>i&&!(e[i][n]>t[n]);)i++;e.splice(i,0,t)}function x(e,t,n){for(var i=0,r=e.length;r>i&&!(e[i][n]<t[n]);)i++;e.splice(i,0,t)}function _(e,t){var n;return{isActive:function(){return!!n},set:function(r){n&&n();var o=setTimeout(function(){o&&(n(),e())},r||t||1);return n=function(){clearTimeout(o),o=i,n=i},this},clear:function(){return n&&n(),this}}}function F(e,t){var n=!0;return function(){n&&(e(),n=!1,setTimeout(function(){n=!0},t))}}function q(e,i){function o(){P.appendChild(N),x.appendChild(_),F.appendChild(q),x.appendChild(F),i.share&&(O.appendChild(H),O.appendChild(W)),O.appendChild(U),O.appendChild(D),O.appendChild(M),i.fullscreen&&O.appendChild(V),O.appendChild(x),O.appendChild(j),I.appendChild(P),I.appendChild(O),a(),R.show()}function a(){D.addEventListener(["click","tap"],s),P.addEventListener(["click","tap"],l),V.addEventListener(["click","tap"],u),_.addEventListener(["click","tap"],c),F.addEventListener(["click","tap"],p),H.addEventListener(["click","tap"],f),W.addEventListener(["click","tap"],h),M.addEventListener(["click","tap"],v),U.addEventListener(["click","tap"],g),R.listenTo(e,Me.CLICK,s),R.listenTo(e,Me.TAP,s),R.listenTo(e,Me.PLAYING,m),R.listenTo(e,Me.PAUSE,A),R.listenTo(e,Me.TIME_UPDATE,E),R.listenTo(e,Me.VOLUME_CHANGE,y),R.listenTo(e,Me.ENDED,T),R.listenTo(e,Ee.FULLSCREEN_CHANGED,w),R.listenTo(e,Ee.PLAYLIST_ENDED,b),R.listenTo(e,Ee.USER_ACTIVE,C),R.listenTo(e,Ee.USER_INACTIVE,S)}function s(){e.paused()||e.ended()?e.play():e.pause()}function l(t){var n=P.el.getBoundingClientRect(),i=t.clientX-n.left,r=i/P.el.clientWidth*e.duration();e.currentTime(r)}function u(){e.isFullscreen()?e.exitFullscreen():e.enterFullscreen()}function c(){e.muted(!e.muted())}function p(t){var n=F.el.getBoundingClientRect(),i=t.clientX-n.left,r=i/F.el.clientWidth;r=Math.min(Math.max(r,0),1),e.volume(r)}function f(){var i=n.location.href,r=t.title,o="http://twitter.com/share?url="+i+"&amp;text="+r,a="scrollbars=yes, resizable=yes, top=500, left=500, width=400, height=400";n.open(o,"_blank",a),e.trigger(Ee.TWITTER_SHARE)}function h(){var t=n.location.href,i="http://www.facebook.com/sharer.php?u="+t,r="scrollbars=yes, resizable=yes, top=500, left=500, width=400, height=400";n.open(i,"_blank",r),e.trigger(Ee.FACEBOOK_SHARE)}function v(){e.playNext()}function g(){e.playPrevious()}function m(){D.removeClass("e-play"),D.removeClass("e-replay"),D.addClass("e-pause"),y()}function A(){D.removeClass("e-pause"),D.removeClass("e-replay"),D.addClass("e-play")}function E(){var t,n=e.currentTime(),i=e.duration();t=0===i?0:n/i*100,t&&(j.innerHTML(L(n)+"/"+L(i)),N.width(t+"%"))}function y(){var t=e.volume();e.muted()||0===t?(_.removeClass("e-volume-up"),_.addClass("e-volume-off"),q.width("0%")):(_.removeClass("e-volume-off"),_.addClass("e-volume-up"),q.width(100*t+"%"))}function T(){D.removeClass("e-play"),D.removeClass("e-pause"),D.addClass("e-replay")}function w(){e.isFullscreen()?(V.removeClass("e-expand"),V.addClass("e-compress")):(V.removeClass("e-compress"),V.addClass("e-expand"))}function b(){k=!0}function C(){R.show()}function S(){R.hide()}var R=this;r.call(R);var k,I=R.uiObj=new d("div",{"class":"e-controls e-child-component"}),O=new d("div",{"class":"e-child-component e-controls-wrapper"}),P=new d("div",{"class":"e-progress-control e-control e-child-component",title:"Video Progress"}),N=new d("div",{"class":"e-progress e-control e-child-component"}),D=new d("div",{"class":"e-play-btn e-icon e-control e-play e-child-component",title:"Play / Pause / Replay"}),M=new d("div",{"class":"e-forward-btn e-icon e-control e-forward e-child-component",title:"Next"}),U=new d("div",{"class":"e-backward-btn e-icon e-control e-backward e-child-component",title:"Previous"}),V=new d("div",{"class":"e-icon e-expand e-full-screen e-control e-child-component",title:"Fullscreen"}),x=new d("div",{"class":"e-volume e-control e-child-component",title:"Volume"}),_=new d("div",{"class":"e-volume-icon e-icon e-control e-volume-up e-child-component",title:"Mute / Unmute"}),F=new d("div",{"class":"e-volume-level e-control e-child-component"}),q=new d("div",{"class":"e-volume-level-indicator e-control e-child-component"}),j=new d("div",{"class":"e-control playback-time",title:"Time"}),H=new d("div",{"class":"e-share e-icon e-twitter e-control",title:"Share on Twitter"}),W=new d("div",{"class":"e-share e-icon e-facebook e-control",title:"Share on Facebook"});R.show=function(){I.show()},R.hide=function(){I.hide()},R.width=function(){return I.width()},R.height=function(){return I.height()},o()}function j(e){var t=this;r.call(t);var n=t.uiObj=new d("div",{"class":"e-error-message"}),i=new d("div");n.appendChild(i),t.listenTo(e,Ee.ERROR,function(e){i.innerHTML(e.error.message),n.display(!0)}),t.listenTo(e,Me.LOAD_START,function(){i.innerHTML(""),n.display(!1)})}function H(){var e=this;r.call(e);var t=this.uiObj=new d("i",{"class":"e-icon e-spinner e-spin"});e.show=function(){t.show()},e.hide=function(){t.hide()},e.show()}function W(e){function t(){e.addEventListener(a,l)}var n=this;r.call(n);var i=!0,o=!0,a=["mouseover","click","tap","mousedown","mousemove","mouseup","keydown","keyup"],s=4e3,l=F(function(){o&&(d.set(s),i||(i=!0,n.trigger(W.Events.ACTIVE)))},250),d=_(function(){i&&(i=!1,n.trigger(W.Events.INACTIVE))});n.enable=function(){o=!0},n.disable=function(){o=!1},n.active=function(){return i},n.dispose=function(){d.clear(),e.removeEventListener(a,l),r.prototype.dispose.call(this)},t()}function G(e){function t(){o.show()}function n(){o.hide()}var i=this;r.call(i);var o=i.uiObj=new d("div",{"class":"e-video-title e-control e-child-component",title:"Video Title"}),a=new d("div",{"class":"e-video-title-label"});a.innerHTML("Default Title"),o.appendChild(a),i.listenTo(e,Ee.USER_ACTIVE,t),i.listenTo(e,Ee.USER_INACTIVE,n),i.setText=function(e){a.innerHTML(e)},i.show=function(){o.show()},i.hide=function(){o.hide()},i.width=function(){return o.width()},i.height=function(){return o.height()}}function K(e){function t(){n["dispatch_"+f]=function(e,t){h&&0!==e.indexOf(h)||setTimeout(function(){a.trigger(e,t)},0)};var t=Oe({swf:e.playerSwf,id:f,name:f,width:"100%",height:"100%",flashvars:{dispatchId:f}});a.listenToOne(a,"PlaybackLoaded",R(function(){v&&a.src(v),a.setReady()},e.playerSwfTimeout,function(){a.trigger(Me.ERROR)})),a.onParentAdded=function(e){var n=a.uiObj;n.innerHTML(t),l=a.videoEl=n.el.childNodes[0];
},e.preload&&a.preload(e.preload)}function o(e){return l[h+e]}var a=this;r.call(a),e||(e={});e.debug,Re.bindCategory("flash");a.isFlashTech=!0;var s=A("flashmedia_");a.uiObj=this.videoObj=new d("div",{id:s,"class":"e-video e-child-component"});var l,u,c,p,f=s.replace(/-/g,"_")+"_embed",h="",v=e.src;a.on=function(e,t,n){return r.prototype.on.call(this,h+e,t,n),this},a.src=function(e){return e===i?v:(v=e,u=0,void(p&&a.load()))},a.load=function(){o("loadVideo")(v),o("pauseVideo")(),u=1},a.preload=function(e){return e===i?c:(p="auto"===e||"meta"===e?1:0,void(c=e))},a.dispose=function(){if(l){try{l.dispose()}catch(e){}for(l.removeAttribute("data");l.hasChildNodes();)l.removeChild(l.firstChild);l.parentNode&&l.parentNode.removeChild(l)}r.prototype.dispose.call(a)},a.play=function(){u?o("playVideo")():(o("loadVideo")(v),u=1)},a.pause=function(){o("pauseVideo")()},a.paused=function(){return o("isVideoPaused")()},a.currentTime=function(e){return e!==i?o("setVideoCurrentTime")(e):o("getVideoCurrentTime")()},a.duration=function(){return o("getVideoDuration")()},a.buffered=function(){return!1},a.volume=function(e){return e!==i?void o("setVideoVolume")(e):o("getVideoVolume")()},a.muted=function(e){return e!==i&&o("setVideoMuted")(e),o("getVideoMuted")()},a.error=function(){return o("getVideoError")()},a.seeking=function(){return!1},a.ended=function(){return o("hasVideoEnded")()},a.playbackRate=function(){return 1},a.networkState=function(){return 1},a.readyState=function(){return o("getReadyState")()},a.disableEvents=function(e){},a.setTriggerContext=function(e){},a.setAdMode=function(){h="ad_"},a.setContentMode=function(){h=""},a.setAdViewPort=function(){l.setAdViewPort()},a.setContentViewPort=function(){l.setContentViewPort()},a.setSize=function(e,t){},a.loadVPAID=function(e,t){return l.loadVPAID(e)},a.getAdLinear=function(){return l.getAdLinear()},a.getAdWidth=function(){return l.getAdWidth()},a.getAdHeight=function(){return l.getAdHeight()},a.getAdExpanded=function(){return l.getAdExpanded()},a.getAdSkippable=function(){return l.getAdSkippable()},a.getAdRemainingTime=function(){return l.getAdRemainingTime()},a.getAdDuration=function(){return l.getAdDuration()},a.getAdVolume=function(){return l.getAdVolume()},a.setAdVolume=function(e){return l.setAdVolumne(e)},a.adCompanions=function(){return l.getAdCompanions()},a.hasAdIcons=function(){return l.hasAdIcons()},a.handshakeVersion=function(e){return l.handshakeVersion(e)},a.initAd=function(e,t,n,i,r,o){return l.initAd(e,t,n,i,r,o)},a.resizeAd=function(e,t,n){return l.resizeAd(e,t,n)},a.startAd=function(){return l.startAd()},a.stopAd=function(){return l.stopAd()},a.pauseAd=function(){return l.pauseAd()},a.resumeAd=function(){return l.resumeAd()},a.expandAd=function(){return l.expandAd()},a.collapseAd=function(){return l.collapseAd()},a.skipAd=function(){return l.skipAd()},a.subscribe=function(e,t){a.on(t,e)},a.unsubscribe=function(e,t){a.off(t,e)},t()}function B(e){r.call(this),e||(e={}),this.isHtml5Tech=!0;var t={"webkit-playsinline":"","x-webkit-airplay":"allow","class":"e-child-component e-video"};e.preload&&(t.preload=e.preload),e.src&&(t.src=e.src),e.videoSlot?this.videoObj=new d(e.videoSlot):this.uiObj=this.videoObj=new d("video",t),this.videoEl=this.videoObj.el,this.bindEvents(),this.setReady()}function Y(e){r.call(this),this.options=e,this.playback=null,this.id=Ie("youtube"),this.on("playback.ready",this.onPlaybackReady),this.iframe=Se.createIframe("100%","100%",this.id),this.uiObj=new d(this.iframe,{"class":"e-video"}),Se.addEventListener(n,"message",T(this,this.onWindowMessage)),this.videoEl=this.uiObj.el,this._src=e.src,this._srcLoaded=!1,this._timer=setInterval(T(this,this.onTimeupdate),1e3)}function J(e){function t(e,t){var i={loadEnd:!1,time:t};i.timeoutId=setTimeout(function(){d(i)},y),O=[];var r,o,a=e.length;for(a>1&&(r=1);a--;)o=e[a],r&&(o.sequence=r++),n(o,i)}function n(t,n){var i=t.allowTypes,r={adBreakId:t.id,allowTypes:i,sourceId:t.sourceId},o={timeout:y,followAdditionalWrappers:t.followRedirects!==!1,allowMultipleAds:t.allowMultipleAds!==!1,debug:L,adTracking:e.adTracking,requestData:r};(t.sequence||i&&-1===i.indexOf(Q.CreativeType.LINEAR))&&(o.skipPod=!0),T&&(o.maxPodLength=T),b&&(o.redirectMaxLevel=b);var a;if(t.tag)o.requestData.tagId=t.tag.Id,a=new Q({url:t.tag.url},o);else if(t.data)a=new Q({data:t.data},o);else{if(!t.placement)return;a=new X(t.placement,o,U)}E.listenTo(a,me.READY,function(){l(t,n)}),O.push({adBreak:t,vast:a}),a.load()}function o(){if(C&&k.length){for(var e=0,t=k.length;t>e;e++){var n=k[e];n.time=C*(n.percent/100),q(R,n,"time"),n.repeatAfter&&I.push(n)}k=[]}}function a(){if(C&&I.length){for(var e,t,n,i,r=C-5,o=0,a=I.length;a>o;o++)for(i=I[o],e=i.repeatAfter,t=i.time+e;C>=t;)t>r&&(t=1/0),n=w({},i),n.time=t,q(R,n,"time"),t+=e;I=[]}}function s(){N=!0,P=!1,o(),a(),E.trigger({name:xe.LOADED,isPercent:!!k.length})}function l(e,t){for(var n=O.length;n--;)if(!O[n].vast.isReady)return;d(t)}function d(e){e.loadEnd||(e.loadEnd=!0,clearTimeout(e.timeoutId),M=!1,E.stopListening(),E.trigger({name:xe.ADS_READY,ads:u(),time:e.time===1/0?-1:e.time}))}function u(){var e,t=[],n=[],i=O.length;if(1===i)e=O[0].vast.getAds(),t=e.podAds,n=e.standaloneAds;else if(i>1)for(var r=0;i>r;r++)e=O[r].vast.getAds(),[].push.apply(t,e.standaloneAds);return T&&(t.length>T&&(t=t.slice(0,T)),n.length>T&&(n=n.slice(0,T))),{podAds:t,standaloneAds:n}}function c(e){var t=new v(e,{timeout:y,xmlExpected:!0});t.onload=function(t){t.type===v.ContentType.XML?p(t.data,e):f(_e.UNDEFINED,{url:e}),s()},t.onerror=function(t){f(_e.UNDEFINED,{url:e}),s()},t.send()}function p(e,t){var n=_.parseDocument(e);if(n.errorCode)return void f(n.errorCode,{url:t});var i,r,o,a,s=n.adBreaks,l=n.trackingBreaks;if(l.length)for(i=l.length;i--;)for(o=l[i],r=s.length;r--;)a=s[r],a.time===o.time&&a.percent===o.percent&&[].push.apply(a.trackingEvents,o.trackingEvents);g(s)}function f(e,t){E.trigger({name:xe.VMAP_ERROR,code:e,context:t})}function h(e){y=F(e.timeout,5e3),e.maxPodLength&&(T=F(e.maxPodLength,3)),e.redirectMaxLevel&&(b=F(e.redirectMaxLevel,10)),g(e.adBreaks)}function g(e){if(e&&e.length)for(var t=0,n=e.length;n>t;t++){var i=m(e[t]);if(i)for(var r,o,a=i.timeOffsets.length;a--;)r=i.timeOffsets[a],o=w({},i),null!==r.time?(o.time=r.time,q(R,o,"time"),o.repeatAfter&&I.push(o)):null!==r.percent&&(o.percent=r.percent,k.push(o))}}function m(e){var t=w({},e),n=A(""+t.time);if(n.length){t.timeOffsets=n,delete t.time;var i=t.tag;if((!i||i.url)&&(i||t.placement||t.data)){var r=t.repeatAfter;return r&&(r=F(r,0),r>10&&1===n.length?t.repeatAfter=r:delete t.repeatAfter),t.allowTypes&&!t.allowTypes.length&&delete t.allowTypes,t.trackingEvents||(t.trackingEvents=[]),t}}}function A(e){if(!e||"string"!=typeof e)return[];e=e.split(",");for(var t=e.length,n=[];t--;){var i=e[t].trim(),r=null,o=null;if(i){if(-1!==i.indexOf("%")){var a=F(i.slice(0,-1));if(null===a)continue;0>=a?r=0:a>=100?r=1/0:o=a}else{if(r=F(i),null===r||-1>r)continue;-1===r&&(r=1/0)}n.push({time:r,percent:o})}}return n}var E=this;r.call(E);var y,T,b,C,S,L=e.debug,R=(Re.bindCategory("ads-loader"),[]),k=[],I=[],O=[],P=!1,N=!1,M=!1,U={},x=!1,_=new $({debug:L}),F=D,q=V;E.load=function(){if(!P&&!N){if(P=!0,h(e),S=new Z(E,e),S.load(),R.length||k.length);else if(e.vmap&&!x)return void c(e.vmap);s()}},E.setVideoDuration=function(e){e&&!C&&(C=e,o(),a())},E.getAdBreaks=function(e){if(N&&(S.processTimeProgress(e,C),-1===e&&(e=1/0),R.length&&!(R[0].time>e)&&!x&&!M)){M=!0;for(var n,r,o=R,a=o.length,s=[],l=a;l--;)n=o[l],n.time<=e&&(r===i&&(r=n.time),r===n.time&&s.push(n),o.splice(l,1));return s.length?(t(s,r),S.processAdBreakLoad(),s.length):void(M=!1)}},E.runAdBreaks=function(e,n){if(!M){M=!0;for(var i=[],r=e.length;r--;){var o=m(e[r]);o&&i.push(o)}return t(i,n||-2),i.length}},E.scheduleAdBreaks=function(e){g(e),o(),a()},E.getCuePoints=function(){if(x)return[];for(var e,t=[],n=0,i=R.length;i>n;n++)e=R[n].time,e===1/0&&(e=-1),t.push(e);return t},E.clearAdBreaks=function(){R=[],k=[],I=[]},E.disableSchedule=function(e){x=e},E.processAdPlay=function(e){S.processAdPlay(e)}}function X(e,t,n){function i(e){var t,n,i=0,r=Math.random(),o=e.length;for(n=0;o>n;n++)if(t=e[n],!(t.disableOnFail&&-1!==C.indexOf(t.id)||t.share&&(i+=t.share/100,r>i)))return t;return e[o-1]}function o(e,n){t.requestData=w({layerId:v.id,tagId:e.id},b);var i=new Q({url:e.url},t);f.listenTo(i,me.READY,function(){n(e,i),y++,y===m&&(f.isReady||(g||C.push(v.id),a()))}),i.load()}function a(){f.isReady||(clearTimeout(A),f.setReady())}function s(){function e(t){function d(){p||l||f.isReady||(p=!0,clearTimeout(A),e(++t))}var u=i[t];if(u){o(u,function(e,t){if(!l){if(!t.hasAds())return void d();g={tag:e,vast:t},l=!0,a()}});var c;c=r?n+(t+1)*s-Date.now():s,A=setTimeout(d,c);var p=!1}}var n,i=v.tags,r=v.staticTimeline,s=Math.floor(t.timeout/i.length),l=!1;r&&(n=Date.now()),e(0)}function l(){function e(){if(g){for(var e=0,t=u.length;t>e;e++){var n=u[e];if(!n.isLoaded){if(n.weight>g.tag.weight&&l)return;break}}s=!0,a()}}var t,n,i,r=v.tags,s=!1,l=!0,u=[];for(t=0,n=r.length;n>t;t++){var c=w({},r[t]);u.push(c),o(c,function(t,n){if(t.isLoaded=!0,!s){if(!n.hasAds())return void e();if(t.useVastPrice&&(i=d(n),i&&(t.weight=i)),g&&t.weight<=g.tag.weight)return void e();g={tag:t,vast:n},e()}})}A=setTimeout(function(){s||f.isReady||(l=!1,e())},v.waitTimeout)}function d(e){var t,n,i,r=e.getAds();r=r.podAds.concat(r.standaloneAds);for(var o=0,a=r.length;a>o;o++){t=r[o],n=[t.inline].concat(t.wrappers);for(var s=n.length;s--;){i=n[s];var l=i.pricing||i.extensions.pricing;if(l&&"CPM"===l.model&&"USD"===l.currency)return l.value}}}function u(e){var t=e.layers;if(t&&t.length&&(h=c(t),h.length))return!0}function c(e){for(var t,n=[],i=0,r=e.length;r>i;i++)if(t=e[i],t.position&&t.id){t.share&&(t.share=S(t.share,100)),t.waterfall||t.broadcast||(t.waterfall=!0),t.broadcast&&(t.waitTimeout=S(t.waitTimeout,3e3));var o=p(t.tags);o.length&&(t.tags=o,R(n,t,"position"))}return n}function p(e){for(var t,n=[],i=0,r=e.length;r>i;i++)t=e[i],t.url&&(t.weight=L(t.weight,0),k(n,t,"weight"));return n}var f=this;r.call(f);var h,v,g,m,A,E=(t.debug,Re.bindCategory("placement")),y=0,T=!1,b=t.requestData||{},C=n.failedLayers||(n.failedLayers=[]),S=D,L=M,R=V,k=x;b.placementId=e.id,f.load=function(){if(!T){if(T=!0,!u(e))return E.error("Invalid placement options"),void a();v=i(h),m=v.tags.length,v.waterfall?s():v.broadcast&&l()}},f.getAds=function(){return g?g.vast.getAds():{podAds:[],standaloneAds:[]}},f.hasAds=function(){return g?g.vast.hasAds():!1},f.getRequestData=function(){return g?g.vast.getRequestData():b}}function Z(e,t){function n(t){if(m.length){for(var n=[],i=0,r=m.length;r>i;i++){var o=m[i];t.videoPlays<o.startOnVideo||(t.videoPlays-o.startOnVideo)%o.playOnVideos===0&&n.push(o)}n.length&&e.scheduleAdBreaks(n),m=[]}}function r(e){if(A.length){var t=A[0];if(!(e.videoPlays<t.startOnVideo)){var n=Date.now(),i=e.lastAdRun||e.created;t.runOn=o(i,t.playOnMinutes,n),E=i+c.timeGap,p=t}}}function o(e,t,n){n||(n=Date.now());var i=6e4*t;return n-(n-e)%i+i}function a(t){return t.adPlays>=c.dayMaxPlays||t.adViews>=c.dayMaxViews?(e.disableSchedule(!0),p=i,!1):!0}function s(){var e,t=Date.now();return e=h?Le.getItem(y,!0):Ce.get(y,!0),"object"!=typeof e||null===e?e={created:t,videoPlays:0,lastAdPlay:0,lastAdRun:0,dayEnd:t+864e5,adPlays:0,adViews:0}:e.dayEnd<t&&(e.dayEnd=t+864e5,e.adPlays=0,e.adViews=0),e}function l(e){h?Le.setItem(y,e):Ce.set(y,e,30,"/")}function d(e){var t={};if(e=e.stream||{},h=Le.persistent||!Ce.enabled,v=Le.persistent||Ce.enabled,t.dayMaxPlays=T(e.dayMaxPlays,1/0),t.dayMaxViews=T(e.dayMaxViews,1/0),t.timeGap=6e4*Math.max(T(e.timeGap,1),1),u(e.adBreaks),(m.length||A.length)&&!v){var n=m.shift()||A.shift();n.startOnVideo=1,n.playOnVideos=1,n.time||(n.time=0),m=[n],A=[]}return t}function u(e){if(e&&e.length)for(var t=0,n=e.length;n>t;t++){var i=e[t];if(i.id){i=w({},i),i.startOnVideo=Math.max(T(i.startOnVideo,1),1);var r=i.playOnMinutes;if(r){if(r=T(r,0),1>r)continue;delete i.repeatAfter,i.playOnMinutes=r,A.push(i)}else i.playOnVideos=Math.max(T(i.playOnVideos,1),1),m.push(i)}}}var c,p,f,h,v,g=this,m=(t.debug,Re.bindCategory("ads-stream"),[]),A=[],E=0,y="evsp-stream",T=D;g.load=function(){c=d(t),f=s(),f.videoPlays++,a(f)&&(n(f),r(f)),l(f)},g.processTimeProgress=function(t,n){if(p){var i=Date.now(),r=p;E>i||r.runOn<i&&(r.runOn=i+6e4*r.playOnMinutes,r.time=t,e.scheduleAdBreaks([r]))}},g.processAdBreakLoad=function(){var e=Date.now();E=e+c.timeGap,f=s(),f.lastAdRun=e,l(f)},g.processAdPlay=function(e){var t=Date.now();f=s(),f.adPlays++,e&&f.adViews++,f.lastAdPlay=t,a(f),l(f)},g.dispose=function(){m=[],A=[],p=f=i,E=0}}function Q(e,t){function n(){if(!e||!e.url&&!e.data)throw new Error("Invalid resource")}function i(e,n){var i=new v(e,{timeout:t.timeout,xmlExpected:!0});i.onload=function(e){d(i),e.type===v.ContentType.XML?o(e.data,n):c(qe.XML_PARSING,n),u()},i.onerror=function(e){var t;t=n.wrappers.length?e.error===v.ErrorType.TIMEOUT?qe.WRAPPER_TIMEOUT:qe.WRAPPER_GENERAL:qe.UNDEFINED,d(i),c(t,n),u()},i.send(),E.push({request:i,context:n,url:e})}function o(e,n){if(!p.isReady){var r=T.parseDocument(e);if(r.errorCode)return void c(r.errorCode,n,r);var o,l,d,u=!1,f=A,v=0,E=a(r.ads);for(o=0,l=E.length;l>o;o++){if(d=E[o],!n.allowMultipleAds){if(d.sequence)continue;if(u)continue}if(d.sequence){if(f||t.skipPod)continue;if(v>=t.maxPodLength)continue;A=!0,v++}else if(n.sequence){if(g.length>=t.maxPodLength)continue}else if(m.length>=t.maxPodLength)continue;var y,w=n.position+(10>=l?o:N(o,2))+"-",b=d.sequence||n.sequence;if(d.wrapper){var L=d.wrapper;if(n.level>=t.redirectMaxLevel)continue;if(!n.followAdditionalWrappers)continue;var R={level:n.level+1,followAdditionalWrappers:L.followAdditionalWrappers,allowMultipleAds:n.allowMultipleAds&&L.allowMultipleAds,sequence:b,position:w,wrappers:[d.wrapper].concat(n.wrappers),url:L.vastAdTagUrl};d.sequence?(y={sequence:d.sequence,position:w,fallbackOnNoAd:L.fallbackOnNoAd,hasAds:!1},h.push(y),R.podTrack=y):n.podTrack&&(R.podTrack=n.podTrack),i(L.vastAdTagUrl,R)}else{var k={uid:Ie("ad"),inline:d.inline,wrappers:n.wrappers,sequence:b,position:w,context:n,requestData:C};if(b){if(!s(k.inline))continue;d.sequence?k.fallbackOnNoAd=!0:(y=n.podTrack,y&&(k.fallbackOnNoAd=y.fallbackOnNoAd,y.hasAds=!0)),S(g,k,"position")}else S(m,k,"position")}u=!0}}}function a(e){var t,n,i,r=[],o=[];for(n=0,i=e.length;i>n;n++)t=e[n],t.sequence?S(r,t,"sequence"):o.push(t);return r.concat(o)}function s(e){for(var t=e.creatives,n=t.length;n--;)if(t[n].linear)return!0;return!1}function l(){var e,n,i,r;for(n=0,i=h.length;i>n;n++)if(e=h[n],!e.hasAds){if(g.length>=t.maxPodLength)return;e.fallbackOnNoAd&&(r=m.shift(),r&&(r.position=e.position,r.sequence=e.sequence,S(g,r,"position")))}}function d(e){for(var t=E.length-1;t>=0;t--)if(E[t].request===e)return void E.splice(t,1)}function u(){E.length||p.isReady||(l(),p.setReady())}function c(e,t,n){e===qe.WRAPPER_NO_ADS&&n.rootError&&b.callVastUrls([n.rootError],{errorCode:e});var i={};b.vastError(t.wrappers,e,i)}var p=this;r.call(p);var f=t.debug;Re.bindCategory("vast");t=w({timeout:2e4,followAdditionalWrappers:!0,allowMultipleAds:!0,skipPod:!1,maxPodLength:3,redirectMaxLevel:10,debug:!1},t);var h=[],g=[],m=[],A=!1,E=[],y=!1,T=new z({debug:f}),b=t.adTracking,C=t.requestData||{},S=V;p.load=function(){if(!y){y=!0;var n={level:0,followAdditionalWrappers:t.followAdditionalWrappers,allowMultipleAds:t.allowMultipleAds,sequence:null,position:"",wrappers:[],url:""};e.url?(n.url=e.url,i(e.url,n)):e.data&&o(e.data,n),u()}},p.getAds=function(){return{podAds:g,standaloneAds:m}},p.hasAds=function(){return g.length||m.length},p.getRequestData=function(){return C},p.stop=function(){p.isReady||p.setReady()};n()}function z(e){function t(e){var t={};return t.id=R(e,"id"),t.sequence=I(R(e,"sequence")),L(e,function(e){switch(e.nodeName){case"InLine":var i=n(e);return void(i&&(i.adId=t.id,t.inline=i));case"Wrapper":var r=y(e);return void(r&&(r.adId=t.id,t.wrapper=r))}}),t.inline||t.wrapper?t:void 0}function n(e){var t={};return t.impressions=[],t.errors=[],L(e,function(e){switch(e.nodeName){case"AdSystem":var n=k(e);return void(n&&(t.adSystem={version:R(e,"version"),name:n}));case"AdTitle":return void(t.adTitle=k(e));case"Creatives":return void(t.creatives=i(e));case"Impression":var r=l(e);return void(r&&t.impressions.push(r));case"Description":return void(t.description=k(e));case"Advertiser":return void(t.advertiser=k(e));case"Survey":return t.surveys||(t.surveys=[]),void t.surveys.push({type:R(e,"type"),url:k(e)});case"Error":var r=l(e);return void(r&&t.errors.push(r));case"Pricing":var o=d(e);return void(o&&(t.pricing=o));case"Extensions":return void(t.extensions=E(e))}}),t.creatives&&t.creatives.length?t:void 0}function i(e){var t=[];return L(e,function(e){if("Creative"===e.nodeName){var n=r(e);n&&x(t,n,"sequence")}}),t}function r(e){var t={};return t.id=R(e,"id"),t.sequence=I(R(e,"sequence"),0),t.adId=R(e,"adID"),t.apiFramework=R(e,"apiFramework"),L(e,function(e){switch(e.nodeName){case"Linear":return void(t.linear=o(e));case"CompanionAds":return void(t.companionAds=v(e));case"NonLinearAds":return void(t.nonLinearAds=m(e));case"CreativeExtensions":return void(t.creativeExtensions=E(e,"CreativeExtension"))}}),t.linear||t.nonLinearAds||t.companionAds?t:void 0}function o(e){var t={},n=R(e,"skipoffset");return n&&(n=-1!==n.indexOf("%")?{percent:I(n.slice(0,-1),5)}:{time:N(n)},t.skipOffset=n),t.trackingEvents=[],L(e,function(e){switch(e.nodeName){case"Duration":var n=k(e);return void(n&&(t.duration=N(n)));case"MediaFiles":return void(t.mediaFiles=a(e));case"VideoClicks":return void s(e,t);case"AdParameters":return void(t.adParameters={xmlEncoded:P(R(e,"xmlEncoded")),value:k(e)});case"TrackingEvents":return void[].push.apply(t.trackingEvents,u(e));case"Icons":return t.icons||(t.icons=[]),void[].push.apply(t.icons,c(e))}}),t.duration&&t.mediaFiles&&t.mediaFiles.length?t:void 0}function a(e){var t=[];return L(e,function(e){if("MediaFile"===e.nodeName){var n={};if(n.url=k(e),n.delivery=R(e,"delivery"),n.mimeType=R(e,"type"),n.width=I(R(e,"width"),0),n.height=I(R(e,"height"),0),n.codec=R(e,"codec"),n.id=R(e,"id"),n.bitrate=I(R(e,"bitrate")),n.minBitrate=I(R(e,"minBitrate")),n.maxBitrate=I(R(e,"maxBitrate")),n.scalable=P(R(e,"scalable"),!0),n.maintainAspectRatio=P(R(e,"maintainAspectRatio"),!0),n.apiFramework=R(e,"apiFramework"),"VPAID"===n.apiFramework){if("application/x-javascript"===n.mimeType||"application/javascript"===n.mimeType?(n.mimeType="application/x-javascript",n.type=Q.MediaType.HTML5_VPAID):"application/x-shockwave-flash"===n.mimeType&&(n.type=Q.MediaType.FLASH_VPAID),n.url&&n.type)return void t.push(n)}else if(n.type=Q.MediaType.VIDEO,n.url&&n.mimeType&&n.width&&n.height)return void t.push(n)}}),t}function s(e,t){var n,i,r=[];return L(e,function(e){var t=l(e);if(t)switch(e.nodeName){case"ClickTracking":return void r.push(t);case"ClickThrough":return void(n=t);case"CustomClick":return void(i=t)}}),r.length||n||i?(t.clickTracking=r,t.clickThrough=n,void(t.customClick=i)):void 0}function l(e){var t=k(e);return t?t:void 0}function d(e){var t={model:R(e,"model")||"CPM",currency:R(e,"currency")||"USD",value:O(k(e))};return t.value?t:void 0}function u(e){var t=[];return L(e,function(e){if("Tracking"===e.nodeName){var n={event:R(e,"event"),url:k(e)},i=R(e,"offset");i&&(i=-1!==i.indexOf("%")?{percent:I(i.slice(0,-1),5)}:{time:N(i)},n.offset=i);var r=n.event&&n.url;if("progress"===n.event&&(r=r&&n.offset),r)return void t.push(n)}}),t}function c(e){var t=[];return L(e,function(e){if("Icon"===e.nodeName){var n=p(e);n&&t.push(n)}}),t}function p(e){var t={};t.program=R(e,"program"),t.height=I(R(e,"height")),t.width=I(R(e,"width")),t.xPosition=R(e,"xPosition"),t.yPosition=R(e,"yPosition"),t.apiFramework=R(e,"apiFramework");var n=R(e,"offset");n&&(t.offset=N(n));var i=R(e,"duration");return i&&(t.duration=N(i)),t.viewTracking=[],L(e,function(e){switch(e.nodeName){case"StaticResource":return void(t.staticResource=h(e));case"IFrameResource":return void(t.iframeResource=l(e));case"HTMLResource":return void(t.htmlResource=l(e));case"IconClicks":return void f(e,t);case"IconViewTracking":var n=l(e);return void(n&&t.viewTracking.push(n))}}),t.program&&t.width&&t.height&&t.xPosition&&t.yPosition&&(t.staticResource||t.iframeResource||t.htmlResource)?t:void 0}function f(e,t){var n,i=[];return L(e,function(e){var t=l(e);if(t)switch(e.nodeName){case"IconClickTracking":return void i.push(t);case"IconClickThrough":return void(n=t)}}),i.length||n?(t.clickTracking=i,void(t.clickThrough=n)):void 0}function h(e){var t,n=R(e,"creativeType");"image/gif"===n||"image/jpeg"===n||"image/png"===n?t=Q.StaticType.IMAGE:"application/x-javascript"===n||"application/javascript"===n?t=Q.StaticType.JAVASCRIPT:"application/x-shockwave-flash"===n&&(t=Q.StaticType.FLASH);var i=k(e);return t&&i?{type:t,url:i,mimeType:n}:void 0}function v(e){var t={};return t.required=R(e,"required")||"none",t.companions=[],L(e,function(e){if("Companion"===e.nodeName){var n=g(e);n&&t.companions.push(n)}}),t.companions.length?t:void 0}function g(e){var t={};return t.width=I(R(e,"width")),t.height=I(R(e,"height")),t.id=R(e,"id"),t.assetWidth=I(R(e,"assetWidth")),t.assetHeight=I(R(e,"assetHeight")),t.expandedWidth=I(R(e,"expandedWidth")),t.expandedHeight=I(R(e,"expandedHeight")),t.apiFramework=R(e,"apiFramework"),t.adSlotId=R(e,"adSlotID"),t.clickTracking=[],t.trackingEvents=[],L(e,function(e){switch(e.nodeName){case"StaticResource":return void(t.staticResource=h(e));case"IFrameResource":return void(t.iframeResource=l(e));case"HTMLResource":return void(t.htmlResource=l(e));case"AltText":return void(t.altText=k(e));case"CompanionClickTracking":case"CompanionClickThrough":var n=l(e);return void(n&&("CompanionClickTracking"===e.nodeName?t.clickTracking.push(n):t.clickThrough=n));case"TrackingEvents":return void[].push.apply(t.trackingEvents,u(e));case"AdParameters":return void(t.adParameters={xmlEncoded:P(R(e,"xmlEncoded")),value:k(e)})}}),(t.staticResource||t.iframeResource||t.htmlResource)&&(t.hasResource=!0),t.width&&t.height&&(t.hasResource||t.trackingEvents.length||t.clickTracking.length)?t:void 0}function m(e){var t={};return t.nonLinears=[],t.trackingEvents=[],L(e,function(e){switch(e.nodeName){case"NonLinear":var n=A(e);return void(n&&t.nonLinears.push(n));case"TrackingEvents":return void[].push.apply(t.trackingEvents,u(e))}}),t.nonLinears.length?t:void 0}function A(e){var t={};t.width=I(R(e,"width"),0),t.height=I(R(e,"height"),0),t.id=R(e,"id"),t.expandedWidth=I(R(e,"expandedWidth")),t.expandedHeight=I(R(e,"expandedHeight")),t.scalable=P(R(e,"scalable"),!0),t.maintainAspectRatio=P(R(e,"maintainAspectRatio"),!0);var n=R(e,"minSuggestedDuration");return n&&(t.minSuggestedDuration=N(n)),t.apiFramework=R(e,"apiFramework"),t.clickTracking=[],L(e,function(e){switch(e.nodeName){case"StaticResource":return void(t.staticResource=h(e));case"IFrameResource":return void(t.iframeResource=l(e));case"HTMLResource":return void(t.htmlResource=l(e));case"NonLinearClickTracking":case"NonLinearClickThrough":var n=l(e);return void(n&&("NonLinearClickTracking"===e.nodeName?t.clickTracking.push(n):t.clickThrough=n));case"AdParameters":return void(t.adParameters={xmlEncoded:P(R(e,"xmlEncoded")),value:k(e)})}}),t.width&&t.height&&(t.staticResource||t.iframeResource||t.htmlResource)?t:void 0}function E(e,t){t||(t="Extension");var n={},i=n.nodes=[];return L(e,function(e){if(t===e.nodeName){var r={name:e.nodeName,type:R(e,"type"),node:e};L(e,function(e){switch(e.nodeName){case"Price":var t=d(e);return void(t&&(t.source=R(e,"source"),n.pricing=t))}}),i.push(r)}}),n}function y(e){var t,n={};return n.followAdditionalWrappers=P(R(e,"followAdditonalWrappers")||R(e,"followAdditionalWrappers"),!0),n.allowMultipleAds=P(R(e,"allowMultipleAds"),!0),n.fallbackOnNoAd=P(R(e,"fallbackOnNoAd"),!0),n.impressions=[],n.errors=[],n.creatives=[],L(e,function(e){switch(e.nodeName){case"AdSystem":var i=k(e);return void(i&&(n.adSystem={version:R(e,"version"),name:i}));case"VASTAdTagURI":return void(n.vastAdTagUrl=k(e));case"Impression":return t=l(e),void(t&&n.impressions.push(t));case"Creatives":return void L(e,function(e){if("Creative"===e.nodeName){var t=T(e);t&&n.creatives.push(t)}});case"Error":return t=l(e),void(t&&n.errors.push(t));case"Pricing":var r=d(e);return void(r&&(n.pricing=r));case"Extensions":return void(n.extensions=E(e))}}),n.vastAdTagUrl?n:void 0}function T(e){var t={};t.id=R(e,"id"),t.sequence=I(R(e,"sequence")),t.adId=R(e,"adID");var n,i;return L(e,function(e){switch(e.nodeName){case"Linear":return n={},n.trackingEvents=[],L(e,function(e){switch(e.nodeName){case"VideoClicks":return void s(e,n);case"TrackingEvents":return void[].push.apply(n.trackingEvents,u(e));case"Icons":return n.icons||(n.icons=[]),void[].push.apply(n.icons,c(e))}}),void(t.linear=n);case"CompanionAds":return void(t.companionAds=v(e));case"NonLinearAds":return i={},i.nonLinears=[],i.trackingEvents=[],i.clickTracking=[],L(e,function(e){switch(e.nodeName){case"NonLinear":var t=w(e);return void(t&&[].push.apply(i.clickTracking,t.clickTracking));case"TrackingEvents":return void[].push.apply(i.trackingEvents,u(e))}}),void(t.nonLinearAds=i)}}),t.linear||t.nonLinearAds||t.companionAds?t:void 0}function w(e){var t={};return t.id=R(e,"id"),t.width=I(R(e,"width"),0),t.height=I(R(e,"height"),0),t.apiFramework=R(e,"apiFramework"),t.clickTracking=[],L(e,function(e){switch(e.nodeName){case"NonLinearClickTracking":var n=l(e);return void(n&&t.clickTracking.push(n))}}),t.clickTracking.length?t:void 0}var b=this,C="2.0",L=(Re.bindCategory("vast-parser"),e.debug,De.eachChildElement),R=De.attribute,k=De.text,I=D,O=M,P=U,N=S,x=V,_=function(){this.version,this.ads=[],this.rootError,this.error=function(e){return this.errorCode=e,this}};b.parseDocument=function(e){var n=new _,i=e&&(e.documentElement||e);if(!i||"VAST"!==i.nodeName)return n.error(qe.XML_PARSING);var r=R(i,"version");return r?(n.version=r,C>r?n.error(qe.VERSION_NOT_SUPPORTED):(L(i,function(e){switch(e.nodeName){case"Ad":var i=t(e);return void(i&&n.ads.push(i));case"Error":var r=l(e);return void(r&&(n.rootError=r))}}),0===n.ads.length?n.error(qe.WRAPPER_NO_ADS):n)):n.error(qe.XML_PARSING)},z.parseCompanions=v}function $(e){function t(e){var t={};t.id=s(e,"breakId"),t.trackingEvents=[],a(e,function(e){switch(e.nodeName){case"vmap:AdSource":return void n(t,e);case"vmap:TrackingEvents":return void[].push.apply(t.trackingEvents,r(e));case"vmap:Extensions":return}});var i=s(e,"timeOffset"),o=null;if(i){if(-1!==i.indexOf("#"))return;o="start"===i?0:"end"===i?-1:-1!==i.indexOf("%")?i:d(i)}if(null!==o){t.time=o;var l=s(e,"breakType"),u=[];if(l&&l.split(",").forEach(function(e){switch(e){case"linear":return void u.push(Q.CreativeType.LINEAR);case"nonlinear":return void u.push(Q.CreativeType.NONLINEAR);case"display":return void u.push(Q.CreativeType.COMPANION)}}),u.length){t.allowTypes=u;var c=s(e,"repeatAfter");return c&&(t.repeatAfter=d(c)),t.data||t.tag||t.trackingEvents.length?t:void 0}}}function n(e,t){e.sourceId=s(t,"id"),e.allowMultipleAds="false"!==s(t,"allowMultipleAds"),e.followRedirects="false"!==s(t,"followRedirects"),a(t,function(t){var n;switch(t.nodeName){case"vmap:VASTData":case"vmap:VASTAdData":return void(e.data=i(t));case"vmap:CustomAdData":return n=s(t,"templateType"),void(n>="vast2"&&(e.data=i(t)));case"vmap:AdTagURI":return n=s(t,"templateType"),void(n>="vast2"&&(e.tag={url:l(t)}))}})}function i(e){var t;return a(e,function(e){"VAST"===e.nodeName&&(t=e)}),t}function r(e){var t=[];return a(e,function(e){if("vmap:Tracking"===e.nodeName){var n={event:s(e,"event"),url:l(e)};if(n.event&&n.url)return void t.push(n)}}),t}var o=this,a=(Re.bindCategory("vmap"),e.debug,De.eachChildElement),s=De.attribute,l=De.text,d=S,u=function(){this.version,this.adBreaks=[],this.trackingBreaks=[],this.error=function(e){return this.errorCode=e,this}};o.parseDocument=function(e){var n=new u,i=e&&e.documentElement;if(!i||"vmap:VMAP"!==i.nodeName)return n.error(_e.XML_PARSING);var r=s(i,"version");return r?(n.version=r,a(i,function(e){switch(e.nodeName){case"vmap:AdBreak":var i=t(e);return void(i&&(i.data||i.tag?n.adBreaks.push(i):n.trackingBreaks.push(i)));case"vmap:Extensions":return}}),n):n.error(_e.XML_PARSING)}}function ee(){function e(){g.appendChild(m),w.appendChild(b),C.appendChild(S),w.appendChild(C),v.appendChild(g),A.appendChild(E),A.appendChild(y),A.appendChild(T),A.appendChild(w),v.appendChild(A),E.addEventListener(["click","tap"],t),g.addEventListener(["click","tap"],n),T.addEventListener(["click","tap"],i),b.addEventListener(["click","tap"],o),C.addEventListener(["click","tap"],a)}function t(){return u?l.trigger(je.PAUSE):void l.trigger(je.PLAY)}function n(e){var t=g.el.getBoundingClientRect(),n=e.clientX-t.left,i=n/g.el.clientWidth*100;i=Math.min(Math.max(i,0),100),l.trigger({name:je.SEEK,position:i})}function i(){return c?l.trigger(je.EXIT_FULLSCREEN):void l.trigger(je.ENTER_FULLSCREEN)}function o(){return p?l.trigger(je.UNMUTE):void l.trigger(je.MUTE)}function a(e){var t=C.el.getBoundingClientRect(),n=e.clientX-t.left,i=n/C.el.clientWidth;i=Math.min(Math.max(i,0),1),l.trigger({name:je.VOLUME_CHANGED,volume:i})}function s(){0===h||p?(b.removeClass("e-volume-up"),b.addClass("e-volume-off"),S.el.style.width="0%"):(b.removeClass("e-volume-off"),b.addClass("e-volume-up"),S.el.style.width=100*h+"%")}var l=this;r.call(l);var u,c,p,f,h=0,v=l.uiObj=new d("div",{"class":"e-controls e-child-component"}),g=new d("div",{"class":"e-progress-control e-control e-child-component"}),m=new d("div",{"class":"e-progress e-control e-child-component"}),A=new d("div",{"class":"e-child-component e-controls-wrapper"}),E=new d("div",{"class":"e-play-btn e-icon e-control e-play e-child-component"}),y=new d("div",{"class":"e-adinfo e-control"}),T=new d("div",{"class":"e-icon e-expand e-full-screen e-control e-child-component"}),w=new d("div",{"class":"e-volume e-control e-child-component"}),b=new d("div",{"class":"e-volume-icon e-icon e-control e-volume-off e-child-component"}),C=new d("div",{"class":"e-volume-level e-control e-child-component"}),S=new d("div",{"class":"e-volume-level-indicator e-control e-child-component"});l.onParentAdded=function(e){f=new W(e.uiObj),l.listenTo(f,W.Events.ACTIVE,l.show),l.listenTo(f,W.Events.INACTIVE,l.hide)},l.show=function(){v.show()},l.hide=function(){v.hide()},l.setPlaying=function(e){u?(E.removeClass("e-pause"),E.addClass("e-play")):(E.removeClass("e-play"),E.addClass("e-pause")),u=e},l.setProgress=function(e){m.width(e+"%")},l.setCountdownText=function(e){y.innerHTML(e)},l.setMuted=function(e){p=e,s()},l.setVolume=function(e){h=e,s()},l.setFullscreen=function(e){c!==e&&(c?(T.removeClass("e-expand"),T.addClass("e-compress")):(T.removeClass("e-compress"),T.addClass("e-expand")),c=e)},l.dispose=function(){f.dispose(),r.prototype.dispose.call(l)},e()}function te(){function e(){i.innerHTML("Skip"),i.addEventListener(["click","tap"],t)}function t(){n.trigger("click")}var n=this;r.call(n);var i=n.uiObj=new d("div",{"class":"e-control e-skipad-button"});n.setText=function(e){i.innerHTML(e)},n.show=function(){i.show()},n.hide=function(){i.hide()},e()}function ne(e){var t,n=this,i=e.podAds.slice(0),r=e.standaloneAds.slice(0),o=i.length,a=o||(r.length?1:0),s=-1;n.next=function(e){var n;if(o){if(e&&t&&t.fallbackOnNoAd&&(t=null,n=r.shift()))return n;n=i.shift()}else t||(n=r.shift());return n?(s++,t=n,n):(s=-1,null)},n.getCurrentIndex=function(){return s},n.getPodLength=function(){return a},n.stop=function(){i=r=[]}}function ie(e,t,o){function a(){_.uiObj=new d("div",{"class":"e-ads-container e-child-component"}),t.uiObj.appendChild(_.uiObj),k(),_.listenTo(t,Ee.RESIZE,N),_.listenTo(t,Ee.FULLSCREEN_CHANGED,D),_.listenTo(t,Me.TIME_UPDATE,F(P,400)),_.listenTo(t,Me.LOADED_METADATA,M)}function s(){q=new J(o),_.listenTo(q,xe.LOADED,l),_.listenTo(q,xe.ADS_READY,u),_.listenTo(q,xe.VMAP_ERROR,c)}function l(t){o.preloadPreroll&&w(0),O(),e.setAdsStatus(Te.AdsLoaded)}function u(e){
var t=W;if(W=!1,j=!1,se)return void b();if(0===K){if(!t)return void($=e)}else{if(-1!==K)return void(te=e);if(!t)return void(ee=e)}p(e.ads)}function c(e){}function p(e){return G=new ne(e),G.getPodLength()?(we.isMobilePlatform&&t.playback.isHtml5Tech?(oe=!0,re=U()):(oe=!1,re=null),H=!0,Q=!1,Z=null,void f()):void b()}function f(){if(Q)return void b();var e,n,i=G.next(),r=G.getPodLength(),a=G.getCurrentIndex(),s=t.playback,l=t.width(),d=t.height();if(i){B=i;var u={useOnlyHtml5:o.useOnlyHtml5,isPod:r>1,time:K};if(n=new ae(i,s,l,d,u),e=n.getCreative(),!e)return void f();e.isLinear&&a===r-1&&(Z=n.getNonLinearCreative(i.inline.creatives))}else{if(!Z)return void b();i=B,e=Z,Z=null}var c={stagePlayback:s,useStagePlayback:oe,canAutoplay:ve,player:t,width:l,height:e.isLinear?d:d-t.controls.height(),viewMode:I()?"fullscreen":"normal",slot:_.uiObj,time:K,podLength:r,adIndex:a,playerOptions:t.options,adTracking:ue,adSlots:t.getAdSlots(),debug:le};switch(e.playType){case"HTML5_VPAID":h(e,c);break;case"FLASH_VPAID":h(e,c,!0);break;case"HTML5_VIDEO":case"FLASH_VIDEO":v(e,c);break;case"STATIC":g(e,c);break;default:return void f()}Y=e,e.isLinear||(Q=!0,T())}function h(e,t,n){var i=new ge(e,t);_.listenTo(i,Te.AdStarting,m),_.listenTo(i,Te.AdEnded,A),_.listenTo(i,He.AdLinearChange,E),i.start(),X=i}function v(e,t){var n=new fe(e,t);_.listenTo(n,Te.AdStarting,m),_.listenTo(n,Te.AdEnded,A),n.start(),X=n}function g(e,t){var n=new ce(e,t);_.listenTo(n,Te.AdEnded,A),n.start(),X=n}function m(){return se?void X.stopLinear():void y()}function A(e){Y.isLinear&&q&&q.processAdPlay(e.isComplete),_.stopListening(X),Y=X=null,k(),f()}function E(){X&&(X.getAdLinear()?y():(Q=!0,T()))}function y(){1!==z&&(z=1,e.setAdsStatus(Te.AdStarting,{time:K,isPlaybackUsed:oe}))}function T(){function t(){e.setAdsStatus(Te.AdEnded,{time:K,isPlaybackUsed:oe})}-1===K&&(Q=!0,R()),2!==z&&(z=2,re?V(re,function(){t()}):t())}function w(e){if(!j){K=e,se=!1;var t=q.getAdBreaks(e);return t&&(j=!0),t}}function b(){k(),T(),C()}function C(){H=!1,B=Y=X=re=null}function S(){Q=!0,L(),C()}function L(){X&&(_.stopListening(X),X.dispose(),X=null)}function R(){q&&(_.stopListening(q),q.dispose(),q=null),L(),k()}function k(){_.uiObj.collapse()}function O(){ie=t.duration(),q&&ie&&q.setVideoDuration(ie)}function P(){ve=!0;var e=t.duration();if(e){var n=t.currentTime();if(pe=n,q){if(te&&n>=te.time)return p(te.ads),void(te=null);var i=Math.min(e,n+he);i===e?w(-1):te||j||H||w(i)}}}function N(){if(X&&X.isVpaid&&X.loaded()){var e=t.isFullscreen()?"fullscreen":"normal",n=t.width(),i=t.height(),r=t.controls.height();X.getAdLinear()||(i-=r),X.resizeAd(n,i,e)}}function D(){if(Y){var e={adUrl:Y.url};t.isFullscreen()?ue.vastEvent(Y,Fe.FULLSCREEN,e):ue.vastEvent(Y,Fe.EXIT_FULLSCREEN,e)}}function M(){O()}function U(){var e=t.playback;return{src:e.src(),ended:e.ended(),attrs:Se.getAttributes(e.videoEl)}}function V(e,i){function r(){return a.removeEventListener(Me.LOADED_METADATA,r),s===l?(de.error("Restore fails"),void i()):e.ended?void i():o.currentTime(pe)!==!1?void i():(n.setTimeout(r,100),void s++)}var o=t.playback,a=o.videoEl;x(a,e.attrs);var s=1,l=20;o.src(e.src),a.addEventListener(Me.LOADED_METADATA,r),o.load()}function x(e,t){var n=Se.getAttributes(e);delete t.src,delete n.src,Object.keys(t).forEach(function(e){return n[e]!==i?(n[e]===t[e]&&delete t[e],void delete n[e]):void 0});var r=Object.keys(t),o=Object.keys(n);o.length&&Se.removeAttributes(e,o),r.length&&Se.setAttributes(e,t)}var _=this;r.call(_);var q,j,H,W,G,K,B,Y,X,Z,Q,z,$,ee,te,ie,re,oe,se,le=o.debug,de=Re.bindCategory("ads-manager"),ue=o.adTracking,pe=0,he=3,ve=!we.isMobilePlatform;_.loadTimeout=function(){return 0===K&&o.forcePreroll?void T():void(se=!0)},_.initialize=function(){ve=!0},_.requestAds=function(){q||(s(),q.load())},_.startPreroll=function(){return z=0,pe=0,$?(p($.ads),void($=null)):j||w(0)?void(W=!0):void b()},_.startPostroll=function(){return z=0,H&&S(),ee?(p(ee.ads),void(ee=null)):j||w(-1)?void(W=!0):te?(p(te.ads),void(te=null)):void b()},_.reset=function(){R(),j=H=W=Q=se=oe=!1,ie=re=$=ee=te=z=null,G=K=B=Y=Z=null,pe=0},_.dispose=function(){_.reset(),r.prototype.dispose.call(_)};a()}function re(e){function t(t,n){n=w(n||{},e.getData());var i={CONTENTPLAYHEAD:n.currentTime,CACHEBUSTING:l(),ASSETURI:n.adUrl};n.errorCode&&(i.ERRORCODE=n.errorCode),r(i,n.meta);for(var a=0,s=t.length;s>a;a++){var d=o(t[a],i);(new Image).src=d}}function r(e,t){if(t)for(var n=t.length-1;n>=0;n--)e[t[n].key]=e[t[n].value]}function o(e,t){return e.replace(/\[(\w+)\]/g,function(e,n){return n=t[n],n!==i?n:e})}var a=this,s=(Re.bindCategory("ad-tracking"),{}),l=E;a.setContextData=function(e){s=e},a.addContextData=function(e){w(s,e)},a.callVastUrls=t,a.replaceMacros=o,a.impression=function(e,n){if(!e._impr){for(var i=[],r=0,o=e.inline;o;)[].push.apply(i,o.impressions),o=e.wrappers[r++];t(i,n),e._impr=1}},a.error=function(e,n,i,r){for(var o=[],a=0,s=e.inline;s;)[].push.apply(o,s.errors),s=e.wrappers[a++];r.errorCode=n,t(o,r)},a.vastError=function(e,n,i){for(var r=[],o=0,a=e.length;a>o;o++)[].push.apply(r,e[o].errors);i||(i={}),i.errorCode=n,t(r,i)},a.vastEvent=function(e,n,i){t(a.getEventUrls(a.getAllEvents(e),n),i)},a.getAllEvents=function(e){var t=e.trackingEvents;if(!t){var n=e.ad.wrappers,i=e.isLinear?"linear":"nonLinearAds";t=e.vastCreative[i].trackingEvents.slice(0);for(var r=0,o=n.length;o>r;r++)for(var a=n[r].creatives,s=0,l=a.length;l>s;s++){var d=a[s][i];d&&[].push.apply(t,d.trackingEvents)}e.trackingEvents=t}return t},a.getEventUrls=function(e,t){for(var n=[],i=0,r=e.length;r>i;i++)e[i].event===t&&n.push(e[i].url);return n},a.clickEvent=function(e,i,r){var o,a,s,l,d=e.ad.wrappers;e.isLinear?(o=e.linear,a="linear"):(o=e.nonLinear,a="nonLinearAds"),s=o.clickTracking?o.clickTracking.slice(0):[],l=o.clickThrough,l&&!r&&n.open(l);for(var u=0,c=d.length;c>u;u++)for(var p=d[u].creatives,f=0,h=p.length;h>f;f++){var v=p[f][a];v&&v.clickTracking&&[].push.apply(s,v.clickTracking)}t(s,i)},a.vmapEvent=function(e,t){}}function oe(e,t){var n,i=this,r=e*t;i.getWinner=function(){return n?n.media:null},i.process=function(i,o){var a=i.width,s=i.height;if(!(a>e||s>t)){o||(o=0);var l=Math.abs(a*s-r);if(n){if(o===n.score&&l>=n.diff)return;if(o<n.score)return}return n={score:o,diff:l,media:i},!0}}}function ae(e,t,n,i,r){function o(t,r){for(var o,a,s,l=t.linear.mediaFiles,d=new se(n,i),u=0,c=l.length;c>u;u++)o=l[u],o.type===Q.MediaType.VIDEO&&(a=o.mimeType,r.isHtml5Tech&&o.codec&&(a+=';codecs="'+o.codec+'"'),r.canPlayType(a)&&d.process(o));return s=d.getWinner(),s?{playback:r,playType:r.isHtml5Tech?"HTML5_VIDEO":"FLASH_VIDEO",isLinear:!0,ad:e,vastCreative:t,linear:t.linear,mediaFile:s}:void 0}function a(t,n){var i;if(n.isHtml5Tech)i=Q.MediaType.HTML5_VPAID;else{if(!n.isFlashTech)return;i=Q.MediaType.FLASH_VPAID}for(var r,o=t.linear.mediaFiles,a=0,s=o.length;s>a;a++)if(r=o[a],r.type===i)return{playback:n,playType:n.isHtml5Tech?"HTML5_VPAID":"FLASH_VPAID",isLinear:!0,ad:e,vastCreative:t,linear:t.linear,mediaFile:r}}var s=this;r||(r={});var l=r.time,d=e.requestData.allowTypes,u=[B,K];s.getCreative=function(){var t,n,i,o,a=Q.CreativeType.LINEAR,l=Q.CreativeType.NONLINEAR,u=d,c=e.inline.creatives;if(r.isPod&&(u=[a]),u&&u.length)for(i=0,o=u.length;o>i;i++){switch(u[i]){case a:n=s.getLinearCreative(c);break;case l:n=s.getNonLinearCreative(c)}if(n)return n}else for(i=0,o=c.length;o>i;i++)if(t=c[i],t.linear?n=s.getLinearCreative([t]):t.nonLinearAds&&(n=s.getNonLinearCreative([t])),n)return n},s.getLinearCreative=function(e){for(var t,n,i,s=0,l=e.length;l>s;s++)if(t=e[s],t.linear)for(var d=0,c=u.length;c>d;d++)if(i=u[d],i.isSupported()&&(!i.isFlashTech||!r.useOnlyHtml5)&&(n=o(t,i)||a(t,i)))return n},s.getNonLinearCreative=function(o){if(-1!==l)for(var a=0,s=o.length;s>a;a++){var d=o[a];if(d.nonLinearAds){for(var u,c,p,f=d.nonLinearAds.nonLinears,h=n,v=.33*i,g=new oe(h,v),m=0,A=f.length;A>m;m++)if(u=f[m],"VPAID"===u.apiFramework){if(u.staticResource){if(c=u.staticResource.type,c===Q.StaticType.FLASH){if(r.useOnlyHtml5)continue;if(!t.isFlashTech)continue;u.playType="FLASH_VPAID",p=10}else{if(c!==Q.StaticType.JAVASCRIPT)continue;u.playType="HTML5_VPAID",p=20}g.process(u,p)}}else u.playType="STATIC",g.process(u,0);if(u=g.getWinner())return{playType:u.playType,isLinear:!1,ad:e,vastCreative:d,nonLinear:u}}}},s.getCreativeType=function(){for(var t,n=e.inline.creatives,i=0,r=n.length;r>i;i++){if(t=n[i],t.linear)return Q.CreativeType.LINEAR;if(t.nonLinearAds)return Q.CreativeType.NONLINEAR}}}function se(e,t){var n,i=this,r=e/t,o=e*t;i.getWinner=function(){return n?n.media:null},i.process=function(i,a){var s=i.width,l=i.height;if(!(e>s&&t>l&&i.scalable===!1)){a||(a=0);var d=s/l;d===r&&a++,s>=e&&a++,l>=t&&a++;var u=Math.abs(s*l-o);if(n){if(a<n.score)return;if(a===n.score&&u>=n.diff)return}return n={score:a,diff:u,media:i},!0}}}function le(e){function t(){var t=e.currentTime(),i=1e3*(t-o);Math.abs(i)<s+l?(n.currentTime=e.currentTime(),n.seeking=!1):n.seeking=!0,o=t}var n=this;r.call(n);var o,a,s=1e3,l=100;n.currentTime,n.seeking,n.start=function(){n.reset(),n.listenToOne(e,"play",function(){a=setInterval(t,s)})},n.reset=function(){clearInterval(a),clearInterval(a),a=a=i},n.start()}function de(e){function t(){for(var e=u.length;e--;)u[e].el.innerHTML=""}function i(e,t,n){var i=t.companion,o={adUrl:pe.getResourceUrl(i)};pe.render(i,n,t.bounds),r(e,t,Fe.CREATIVE_VIEW,o),n.addEventListener("click",function(){r(e,t,Fe.CLICK,o)})}function r(e,t,i,r){var a=[],s=t.companion,l=o(e,t);i===Fe.CLICK&&s.clickThrough&&n.open(s.clickThrough);for(var d=0,u=l.length;u>d;d++){var p=l[d];i!==Fe.CLICK?[].push.apply(a,c.getEventUrls(p.trackingEvents,i)):[].push.apply(a,p.clickTracking)}c.callVastUrls(a,r)}function o(e,t){if(t.trackingCompanions)return t.trackingCompanions;for(var n=t.companion,i=e.wrappers,r=[n],o=t.nextIndex,a=i.length;a>o;o++)for(var s=i[o].creatives,l=0,d=s.length;d>l;l++){var u=s[l].companionAds;if(u)for(var c=u.companions,p=c.length;p--;){var f=c[p];f.hasResource||(f.width===n.width&&f.height===n.height||f.id&&f.id===n.id)&&r.push(f)}}return t.trackingCompanions=r,r}function a(e,t){for(var n=t.slice(0),i=[],r=0,o=e.inline;o;){for(var a=o.creatives,l=0,d=a.length;d>l;l++){if(!n.length)return i;var u,c,p=a[l].companionAds;if(p){u=p.companions,c=s(u,n);var f=p.required,h=!0;("all"===f&&c.length!==u.length||"any"===f&&0===c.length)&&(h=!1);for(var v,g=c.length;g--;)v=c[g],h?(v.nextIndex=r,i.push(v)):n.push(v.adSlot)}}o=e.wrappers[r++]}return i}function s(e,t){e=e.slice(0);for(var n,i=t.length,r=[];i--;){n=t[i];for(var o,a=e.length;a--;)if(o=e[a],o.hasResource&&(o.width===n.width&&o.height===n.height||o.adSlotId===n.adSlotId)){r.push({adSlot:n,companion:o,bounds:{width:n.width,height:n.height}}),t.splice(i,1),e.splice(a,1);break}}return r}var l=this,u=e.adSlots,c=e.adTracking;l.start=function(e){if(u.length){t();var n=e.requestData.allowTypes;if(!n||-1!==n.indexOf(Q.CreativeType.COMPANION)){for(var r,o=a(e,u),s=0,l=o.length;l>s;s++)r=o[s],i(e,r,new d(r.adSlot.el));return o.length}}}}function ue(e){function t(e,t){function i(){var t=s(e);l.uiObj=new d("div",{"class":"e-ad-icon "+t}),l.uiObj.addEventListener("click",function(){e.clickThrough&&n.open(e.clickThrough),e.clickTracking&&a.callVastUrls(e.clickTracking),e.duration||l.dispose()})}function o(){e.viewTracking&&a.callVastUrls(e.viewTracking),pe.render(e,l.uiObj)}function s(e){return"top"!==e.xPosition&&"bottom"!==e.xPosition&&(e.xPosition="top"),"left"!==e.yPosition&&"right"!==e.yPosition&&(e.yPosition="left"),"e-ad-icon-"+e.yPosition+"-"+e.xPosition}var l=this;r.call(l),l.start=function(){t.slot.appendChild(l.uiObj),e.offset?setTimeout(function(){o()},1e3*e.offset):o(),e.duration&&setTimeout(function(){l.dispose()},1e3*e.duration)},i()}var i,o=this,a=e.adTracking;o.renderIcons=function(e,n){i&&removeIcons();var r;r=e.linear.icons?e.linear.icons.slice(0):[];var o,a,s,l,d=e.ad.wrappers;for(s=0,l=d.length;l>s;s++){o=d[s].creatives;for(var u=0,c=o.length;c>u;u++)a=o[u].linear,a&&a.icons&&[].push.apply(r,a.icons)}if(r.length){var p={};for(s=0,l=r.length;l>s;s++){var f=r[s];if(!p[f.program]){var h=new t(f,{slot:n});h.start(),p[f.program]=h}}return i=p,r.length}},o.removeIcons=function(){if(i)for(var e,t=Object.keys(i),n=t.length;n--;)i[e].dispose();i=null},g(t,r)}function ce(e,t){function n(){o||(o=!0,i.dispose(),i.trigger({name:Te.AdEnded}))}var i=this;r.call(i);var o,a=e.nonLinear,s=e.ad,l=t.adTracking,u={},c=new de(t),p=_(n),f=t.slot;i.uiObj=new d("div",{"class":"e-nonlinear-placement"}),i.start=function(){var t=new d("i",{"class":"e-icon e-close e-nonlinear-close e-button","data-close":!0});t.addEventListener("click",function(){o.hide(),t.hide(),r.show(),l.vastEvent(e,Fe.CLOSE,u)});var r=new d("i",{"class":"e-icon e-more e-button e-nonlinear-more","data-more":!0});r.addEventListener("click",function(){o.show(),t.show(),r.hide()});var o=new d("div"),h=new d("div",{style:"width:"+a.width+"px;height:"+a.height+"px;","class":"e-nonlinear-adunit"});h.appendChild(t),h.appendChild(r),h.appendChild(o),h.addEventListener("click",function(t){t.target.getAttribute("data-close")||t.target.getAttribute("data-more")||l.clickEvent(e,u)});var v=new d("div",{"class":"e-nonlinear-adunit-wrapper"});return v.appendChild(h),i.uiObj.appendChild(v),f.appendChild(i.uiObj),i.url=u.adurl=pe.getResourceUrl(a),pe.render(a,o)?(f.expand(),l.impression(s,u),l.vastEvent(e,Fe.CREATIVE_VIEW,u),p.set(1e3*(a.minSuggestedDuration||30)),void c.start(s)):void n()},i.dispose=function(){o=!0,p.clear(),f.collapse(),f.removeChild(i.uiObj),setTimeout(function(){r.prototype.dispose.call(i)},1)}}function pe(){}function fe(e,t){function n(){k.uiObj=new d("div",{"class":"e-child-component"}),P=new ee,k.addComponent(P),E(P),P.setCountdownText("Loading ad"),D=new te,k.addComponent(D),N=e.linear.skipOffset,k.listenTo(X,Ee.FULLSCREEN_CHANGED,A),A()}function i(){if(N&&D.show(),k.trigger({name:Te.AdStarting}),x)return void g(qe.LINEAR_TIMEOUT,"video-timeout");J.start(j),Y.renderIcons(e,k.uiObj);for(var t=W.getAllEvents(e),n=0,i=t.length;i>n;n++)t[n].event===Fe.PROGRESS&&H.push(t[n]);k.listenTo(O,Me.LOADED_METADATA,o),k.listenTo(O,Me.TIME_UPDATE,a),k.listenTo(O,Me.ENDED,s),k.listenTo(O,Me.PAUSE,l),k.listenTo(O,Me.VOLUME_CHANGE,u),k.listenTo(O,Me.CLICK,c),k.listenTo(O,Me.PLAYING,p),k.listenTo(O,Me.ERROR,f),O.src(e.mediaFile.url),O.load();var r=X.volume(),d=X.muted();O.volume(r),O.muted(d),M=r,U=d,P.show(),P.setMuted(O.muted()||0===r),P.setVolume(r),k.url=G.adUrl=e.mediaFile.url}function o(){O.play()}function a(){var e=O.currentTime(),n=O.duration();if(e&&n){var i=e/n;F.firstFrame||(W.impression(j,G),v(Fe.START),v(Fe.CREATIVE_VIEW),F.firstFrame=1);var r=Math.floor(i/.25);if(!F["q"+r]){switch(r){case 1:v(Fe.FIRST_QUARTILE);break;case 2:v(Fe.MIDPOINT);break;case 3:v(Fe.THIRD_QUARTILE)}F["q"+r]=1}if(P.setProgress(100*i),(V||0)>e&&v(Fe.REWIMD),V=e,N)if(N.percent&&(N.time=N.percent/100*n,delete N.percent),N.time>e){var o=Math.round(N.time-e);D.setText("Skip in "+o)}else D.setText("Skip Ad"),N=null,k.listenToOne(D,"click",h);var a=Math.round(n-e);if(a>0){var s=t.adIndex,l=t.podLength,d="";l>1&&(d="Ad "+(s+1)+" of "+l+". "),d=d+"Ad will end in "+a+" seconds",P.setCountdownText(d)}if(H&&H.length){for(var u=H.length,c=[];u--;){var p=H[u],f=p.offset;f.percent&&(f.time=f.percent/100*n,delete f.percent),f.time>e&&(c.push(p.url),H.splice(u,1))}c.length&&W.callVastUrls(c,G),H.length||(H=null)}}}function s(){q=!0,v(Fe.COMPLETE),m()}function l(){O.ended()||(P.setPlaying(!1),v(Fe.PAUSE),F.paused=1)}function u(){var e=O.volume(),t=O.muted();t&&!U||0===e&&M>0?v(Fe.MUTE):(!t&&U||e>0&&0===M)&&v(Fe.UNMUTE),P.setVolume(e),P.setMuted(t),M=e,U=t}function c(){W.clickEvent(e,G)}function p(){P.setPlaying(!0),F.paused&&(v(Fe.RESUME),F.paused=0)}function f(){var e;switch(O.error()){case 1:e=qe.LINEAR_GENERAL;break;case 2:e=qe.LINEAR_NOT_FOUND;break;case 3:e=qe.LINEAR_NO_DISPLAY;break;case 4:e=qe.LINEAR_NO_SELECT;break;default:e=qe.LINEAR_GENERAL}g(e,"video-timeout")}function h(){v(Fe.SKIP),m()}function v(t){W.vastEvent(e,t,G)}function g(e,t){W.error(j,e,t,G),m()}function m(){_||(_=!0,k.dispose(),k.trigger({name:Te.AdEnded,isComplete:q}))}function A(){I()?P.setFullscreen(!0):P.setFullscreen(!1)}function E(e){k.listenTo(e,je.PLAY,y),k.listenTo(e,je.PAUSE,T),k.listenTo(e,je.ENTER_FULLSCREEN,w),k.listenTo(e,je.EXIT_FULLSCREEN,b),k.listenTo(e,je.MUTE,C),k.listenTo(e,je.UNMUTE,S),k.listenTo(e,je.VOLUME_CHANGED,L),k.listenTo(e,je.SEEK,R)}function y(){O.play()}function T(){O.pause()}function w(){X.enterFullscreen(),P.setFullscreen(!0)}function b(){X.exitFullscreen(),P.setFullscreen(!1)}function C(){O.muted(!0),X.muted(!0)}function S(){O.muted(!1),X.muted(!1)}function L(e){var t=e.volume;O.volume(t),X.volume(t),P.setVolume(t)}function R(e){var t=O.duration(),n=t/100*e.position;n<=O.currentTime()&&O.currentTime(n)}var k=this;r.call(k);var O,P,N,D,M,U,V,x,_,F={},q=!1,j=e.ad,H=[],W=t.adTracking,G={},Y=new ue(t),J=new de(t),X=t.player,Z=t.slot;k.start=function(){Z.appendChild(k.uiObj),Z.expand();var n=t.stagePlayback;if(e.playback===B)return O=new B(t.useStagePlayback?{videoSlot:n.videoEl}:{preload:"none"}),k.addComponent(O),void i();if(e.playback===K){n.isFlashTech?(O=n,O.setAdMode(),O.setAdViewPort(),i()):(O=new K({preload:"none",playerSwf:t.playerOptions.playerSwf,playerSwfTimeout:t.playerOptions.playerSwfTimeout,debug:t.debug}),k.addComponent(O),k.listenTo(O,me.READY,function(){O.setAdMode(),O.setAdViewPort(),i()}),k.listenTo(O,Me.ERROR,function(){ke.error("Flash Load Error"),g(qe.UNDEFINED,"flash-load-error")}));var r=X.controls.height();return Z.el.style.height=r+"px",void(Z.el.style.marginTop=t.height-r+"px")}g(qe.LINEAR_GENERAL,"playback-support")},this.stopLinear=function(){x=!0},k.dispose=function(){_=!0,O&&(O.pause(),O.isFlashTech&&(O.setContentMode(),O.setContentViewPort())),Y.removeIcons(),Z.collapse(),Z.el.style.margin="0",Z.removeChild(k.uiObj),setTimeout(function(){r.prototype.dispose.call(k)},1)},n()}function he(e,t,n){function i(e){d.setAdViewPort(),l.listenTo(d,"PlaybackVPAIDLoadComplete",o),d.loadVPAID(e),p.set()}function o(){p.clear(),u&&h.expand();var i=d.handshakeVersion(n.version);n.onLoaded(d,i);var r=t.width,o=t.height,a=t.viewMode,s=e.linear||e.nonLinear,l=s.adParameters&&s.adParameters.value;d.initAd(r,o,a,0,l)}function a(){s("load-timeout")}function s(e){n.onError(e)}var l=this;r.call(l);var d,u,c=Re.bindCategory("vpaid-flash"),p=_(a,3e3),f=n.slot,h=t.slot;l.start=function(){if(t.stagePlayback.isFlashTech)d=t.stagePlayback,i(n.url);else{var e=new K({preload:"none",playerSwf:t.playerOptions.playerSwf,playerSwfTimeout:t.playerOptions.playerSwfTimeout,debug:t.debug});f.appendChild(e.uiObj),l.addComponent(e),l.listenTo(e,me.READY,function(){d=e,i(n.url)}),l.listenTo(e,Me.ERROR,function(){c.error("Playback Load Error"),s("flash-load")}),u=!0}p.set()},l.linearChange=function(e){},l.stop=function(){p.clear(),d&&d.setContentViewPort()},l.dispose=function(){r.prototype.dispose.call(l)}}function ve(e,i,o){function a(e){var n=t.createElement("iframe"),r=i.width,o=i.height;(n.frameElement||n).style.cssText="width: "+r+"px; height: "+o+"px; border: 0; position: absolute; top: 0; left: 0;",n.src="about:blank",n.frameborder="0",n.marginwidth=0,n.marginheight=0,n.scrolling="no",T.appendChild(new d(n)),s(n,e)}function s(e,t){h=e.contentWindow||e.contentDocument,t=Pe(t);var i='<!DOCTYPE html>\n<html lang="en">\n<head><meta http-equiv="X-UA-Compatible" content="IE=edge" />\n<meta charset="UTF-8">\n<style> body{margin: 0px;}</style></head>';i+='\n<body onload="onIframeLoad()">\n';var r='<div id="vpaid-slot"></div>',o='<script type="text/javascript" src="'+t+'"></script>\n';o+='<script type="text/javascript"> ',o+="function onIframeLoad () {",o+="try { var origin = window.top.location.origin; }catch(err) {}\n",o+="if (origin === undefined) {\n	 origin = window.location.protocol + ",o+="\"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\n }\n",o+='parent.postMessage(\'{"id": "'+E+"\"}', origin);\n",o+="}\n</script>";var a="</body></html>";Se.addEventListener(n,"message",l),Se.writeIframeContent(e,i+r+o+a)}function l(e){try{var t=Ne.parse(e.data);t.id===E&&u()}catch(n){}}function u(){if(y.clear(),"function"!=typeof h.getVPAIDAd)return void p("get-vpaid");if(v=h.getVPAIDAd(),!ge.checkVpaidInterface(v))return void p("interface");w.expand();var t=v.handshakeVersion(o.version);o.onLoaded(v,t);var n=i.width,r=i.height,a=i.viewMode,s=e.linear||e.nonLinear,l={AdParameters:s.adParameters&&s.adParameters.value},d={slot:h.document.getElementById("vpaid-slot"),videoSlot:g.videoEl,videoSlotCanAutoPlay:i.canAutoplay};v.initAd(n,r,a,0,l,d)}function c(){p("load-timeout")}function p(e){o.onError(e)}var f=this;r.call(f);var h,v,g,m,A,E=(Re.bindCategory("vpaid-html5"),Ie("vpaid_iframe")),y=_(c,3e3),T=o.slot,w=i.slot;f.start=function(){i.useStagePlayback?g=i.stagePlayback:(g=new B,T.appendChild(g.uiObj),f.addComponent(g),A=!0),a(o.url),y.set()},f.linearChange=function(e){e?g.videoObj.show():g.videoObj.hide()},f.stop=function(){y.clear(),Se.removeEventListener(n,"message",m),g&&g.pause()},f.dispose=function(){r.prototype.dispose.call(f)}}function ge(e,t){function i(e,t){return I=e,Object.keys(He).forEach(function(t){e.subscribe(function(e,n,i){R.trigger({name:t,vpaidArgs:[e,n,i]})},t)}),U&&(R.trigger({name:Te.AdStarting}),O)?void b("stop-linear"):(N.linearChange(U),void H.set())}function o(){Object.keys(He).forEach(function(e){R.listenTo(R,e,a)}),R.listenTo(R,He.AdLoaded,s),R.listenTo(R,He.AdStarted,l),R.listenTo(R,He.AdLinearChange,u),R.listenTo(R,He.AdImpression,c),R.listenTo(R,He.AdSkippableStateChange,p),R.listenTo(R,He.AdDurationChange,f),R.listenTo(R,He.AdVideoComplete,h),R.listenTo(R,He.AdError,v),R.listenTo(R,He.AdStopped,g),R.listenTo(R,He.AdSkipped,m)}function a(e){var t=e.name;A(e),t===He.AdLoaded?H.set():t!==He.AdStarted&&t!==He.AdVideoStart||H.clear()}function s(){if(!F){if(V=!0,U=I.getAdLinear(),U&&O)return void b("stop-linear2");U!==e.isLinear&&u(),I.startAd()}}function l(){x=!0,P=I.getAdVolume(),E(),y(),T()}function u(){var e=I.getAdLinear();if(e!==U){if(U=e,!e&&-1===t.time)return void C();if(!e&&j&&t.stagePlayback.isHtml5Tech)return void C();N.linearChange(e),T()}}function c(){var t=Y.start(e.ad);if(!t){var n=R.getAdCompanions();if(n){var i=De.parse(n);if(i){var r=Q.parseCompanions(i);if(r.companions.length){var o={inline:{creatives:[{companionAds:r}]},wrappers:[]};Y.start(o)}}}}}function p(){R.getAdSkippableState()}function f(){y()}function h(){W=!0}function v(e){F=!0,C()}function g(){F=!0,C()}function m(){F=!0,C()}function A(t){switch(t.name){case He.AdImpression:return void G.impression(e.ad,K);case He.AdClickThru:var i,r,o=t.vpaidArgs,a=o[0];return"object"==typeof a?a.data?(i=a.data.url,r=a.data.playerHandles):(i=a.url,r=a.playerHandles):(i=a,r=o[2]),r&&(i||(i=e.linear?e.linear.clickThrough:e.nonLinear.clickThrough),i&&n.open(i)),void G.clickEvent(e,K,!1);case He.AdVolumeChange:var s=I.getAdVolume();return 0===s&&P>0?G.vastEvent(e,Fe.MUTE,K):s>0&&0===P&&G.vastEvent(e,Fe.UNMUTE,K),void(P=s);case He.AdError:return void G.error(e.ad,qe.VPAID_GENERAL,t.error,K);default:var l=ge.VastMap[t.name];return void(l&&G.vastEvent(e,l,K))}}function E(){x&&e.linear&&(R.getAdIcons()||B.renderIcons(e,R.uiObj))}function y(){R.getAdDuration(),R.getAdRemainingTime()}function T(){if(U)return void(D&&D.clear());if(!D){var t=e.nonLinear,n=t&&t.minSuggestedDuration,i=I.getAdRemainingTime();n||(n=i>0?i:30),D=_(function(){C()},1e3*n)}D.set()}function w(){b("freeze-timeout")}function b(e){S(),R.trigger({name:He.AdError,error:e})}function C(){q||(q=!0,R.dispose(),setTimeout(function(){R.trigger({name:Te.AdEnded,isComplete:W})},100))}function S(){!F&&V&&(I.stopAd(),F=!0)}function L(e,t){try{var n=I[e];if("function"==typeof n)return n()}catch(i){}return t}var R=this;r.call(R);var k=(t.debug,Re.bindCategory("vpaid"));R.isVpaid=!0;var I,O,P,N,D,M="2.0",U=e.isLinear,V=!1,x=!1,F=!1,q=!1,j=!1,H=_(w,3e3),W=!1,G=t.adTracking,K={},B=new ue(t),Y=new de(t),J=t.slot;R.uiObj=new d("div",{"class":"e-vpaid-slot e-child-component"}),R.start=function(){o();var n;if(n=e.mediaFile?e.mediaFile.url:e.nonLinear.staticResource.url,!n)return void b("no-url");R.url=K.adUrl=n,J.collapse(),J.appendChild(R.uiObj);var r={url:n,slot:R.uiObj,Log:k,version:M,onLoaded:i,onError:b};"HTML5_VPAID"===e.playType?N=new ve(e,t,r):(N=new he(e,t,r),j=!0),R.addComponent(N),N.start()},R.stopLinear=function(){O=!0},R.dispose=function(){q=!0,H.clear(),N&&N.stop(),S(),B.removeIcons(),J.collapse(),R.uiObj.collapse(),setTimeout(function(){J.removeChild(R.uiObj),r.prototype.dispose.call(R)},2e3)},R.loaded=function(){return V},R.stopAd=function(){S()},R.resizeAd=function(e,t,n){I.resizeAd(e,t,n)},R.pauseAd=function(){I.pauseAd()},R.resumeAd=function(){I.resumeAd()},R.expandAd=function(){I.expandAd()},R.collapseAd=function(){I.collapseAd()},R.skipAd=function(){return L("skipAd",null)},R.getAdLinear=function(){return I.getAdLinear()},R.getAdExpanded=function(){return I.getAdExpanded()},R.getAdRemainingTime=function(){return I.getAdRemainingTime()},R.getAdVolume=function(){return I.getAdVolume()},R.setAdVolume=function(e){I.setAdVolume(e)},R.getAdWidth=function(){return L("getAdWidth",-1)},R.getAdHeight=function(){return L("getAdHeight",-1)},R.getAdDuration=function(){return L("getAdDuration",-1)},R.getAdCompanions=function(){return L("getAdCompanions","")},R.getAdIcons=function(){return L("getAdIcons",!1)},R.getAdSkippableState=function(){return L("getAdSkippableState",!1)}}g(r,a),r.prototype.onParentAdded=function(e){},r.prototype.onParentRemoving=function(e){},r.prototype.addComponent=function(e){if("undefined"==typeof e.addComponent)throw TypeError("Add only objects of type Component");return this.components.push(e),this.uiObj&&e.uiObj&&this.uiObj.appendChild(e.uiObj),e.onParentAdded(this),this},r.prototype.removeComponent=function(e){if("undefined"==typeof e.removeComponent)throw TypeError("Remove only objects of type Component");e.onParentRemoving(this);for(var t=this.components,n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1);return this.uiObj&&e.uiObj&&this.uiObj.removeChild(e.uiObj),this},r.prototype.removeAllComponents=function(){for(var e=this.components,t=e.length-1;t>=0;t--)this.removeComponent(e[t]);return this},r.prototype.on=function(e,t,n){if(e===me.READY&&this.isReady){var i=this;setTimeout(function(){t.call(n,{name:e,target:i})},1)}return a.prototype.on.call(this,e,t,n)},r.prototype.setReady=function(){var e=this;return setTimeout(function(){e.isReady=!0,e.trigger(me.READY)},1),this},r.prototype.dispose=function(){a.prototype.dispose.call(this),this.components.forEach(function(e){e.dispose()}),this.removeAllComponents(),this.uiObj&&(this.uiObj.dispose(),this.uiObj=null)};var me={READY:"ready"};g(o,r),a.prototype.on=function(e,t,n){if(!e||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n||this}),this},a.prototype.one=function(e,t,n){if(!e||!t)return this;var i=this,r=function(){i.off(e,r),t.apply(this,arguments)};return r.initCallback=t,this.on(e,r,n)},a.prototype.off=function(e,t){var n,r,o;if(!this._events)return this;if(!e)return this._events=i,this;if(n=this._events[e],!n||!n.length||!t)return delete this._events[e],this;r=this._events[e]=[];for(var a=0,s=n.length;s>a;a++)o=n[a],o.callback!==t&&o.callback.initCallback!==t&&r.push(o);return r.length||delete this._events[e],this},a.prototype.offContext=function(e){var t,n,i,r,o,a=this._events;if(!a||!e)return this;t=Object.keys(a);for(var s=0,l=t.length;l>s;s++)if(n=t[s],i=a[n]){r=this._events[n]=[];for(var d=0,u=i.length;u>d;d++)o=i[d],e!==o.context&&r.push(o);r.length||delete this._events[n]}return this},a.prototype.trigger=function(e){var t,n;try{if(!this._events||!e)return this;if("string"==typeof e)e={name:e,target:this};else if(!e.name)return this;if(t=this._events[e.name],!t)return this;e.target||(e.target=this);var i,r=-1,o=t.length,a=arguments[1],s=arguments[2];switch(arguments.length){case 1:for(;++r<o;)(i=t[r]).callback.call(i.context,e);return;case 2:for(;++r<o;)(i=t[r]).callback.call(i.context,e,a);return;case 3:for(;++r<o;)(i=t[r]).callback.call(i.context,e,a,s);return;default:for(n=Array.prototype.slice.call(arguments),n[0]=e;++r<o;)(i=t[r]).callback.apply(i.context,n);return}}catch(l){ke.error(l)}return this},a.prototype._bindListenTo=function(e){return function(t,n,i){if(!t||!n||!i)return this;var r=t._listenId||(t._listenId=Ie("lid")),o=this._listeningTo||(this._listeningTo={});return o[r]||(o[r]={target:t,refcount:0},t.on(a.DISPOSE,function(){this.stopListening(t)},this)),t[e](n,i,this),o[r].refcount++,this}},a.prototype.listenTo=a.prototype._bindListenTo("on"),a.prototype.listenToOne=a.prototype._bindListenTo("one"),a.prototype.stopListening=function(e,t,n){var i=this._listeningTo;if(!i)return this;if(e){var r=i[e._listenId];if(!r)return this;t&&n?(e.off(t,n),--r.refcount<=0&&(e.offContext(this),delete i[e._listenId])):(e.offContext(this),delete i[e._listenId])}else for(var o,a=Object.keys(i),s=0,l=a.length;l>s;s++)o=a[s],i[o].target.offContext(this),delete i[o];return this},a.prototype.dispose=function(){this.trigger(a.DISPOSE),this.stopListening(),this.off()},a.DISPOSE="dispose";var Ae=function(e){var t=this;t.code=0,t.message="",t.innerError=null,"number"==typeof e?t.code=e:"string"==typeof e?t.message=e:"object"==typeof e&&(e.code&&(t.code=e.code),e.message&&(t.message=e.message),e.innerError&&(t.innerError=e.innerError)),t.message||(t.message=Ae.Messages[t.code]||"")};Ae.Codes={0:"MEDIA_ERR_CUSTOM",1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED",5:"MEDIA_ERR_ENCRYPTED"},Ae.Messages={0:"Other error",1:"User aborted the media playback.",2:"A network error caused the media download to fail.",3:"The media playback was canceled. The media file might be corrupted or it uses codec features not supported by your browser.",4:"The media could not be loaded. Possible reasons: the network failed or the media format is not supported by your browser.",5:"The media is encrypted and we do not have the keys to decrypt it."},g(s,r);var Ee={FULLSCREEN_CHANGED:"fullscreenChanged",RESIZE:"resize",USER_ACTIVE:"userActive",USER_INACTIVE:"userInactive",FACEBOOK_SHARE:"facebookShare",TWITTER_SHARE:"twitterShare",ERROR:"playerError",READY:"ready",FIRST_PLAY:"firstPlay",ADS_STARTING:"adsStarting",ADS_ENDED:"adsEnded",PLAYLIST_ENDED:"playlistEnded",CONTENT_UPDATE:"contentUpdate",CONTENT_ERROR:"contentError"};e.setup=function(t,n){if(!t)throw TypeError('The "id" of the existing dom element is required');if(e.players||(e.players={}),!e.players[t]){n.id=t;e.players[t]=new s(n)}return e.players[t]};new a;g(l,r),d.prototype.createElement=function(e,t){return Se.createElement(e,t)},d.prototype.setAttributes=function(e){Se.setAttributes(this.el,e)},d.prototype.innerHTML=function(e){this.el.innerHTML=e},d.prototype.appendChild=function(e,t){if(!e.createElement)throw TypeError("Append only objects of type UiObject");this.children.push(e),t?Se.insertFirst(e.el,this.el):this.el.appendChild(e.el)},d.prototype.removeChild=function(e){if(!e.createElement)throw TypeError("Remove only objects of type UiObject");for(var t=this.children,n=t.length-1;n>=0;n--)t[n]===e&&t.splice(n,1);this.el.removeChild(e.el)},d.prototype.addEventListener=function(e,t){if(!Array.isArray(e))return this.eventListeners.push({type:e,callback:t}),"tap"===e?void(this.tapEventEnabled||this.enableTapEvents()):void Se.addEventListener(this.el,e,t);for(var n=e.length;n--;)this.addEventListener(e[n],t)},d.prototype.removeEventListener=function(e,t){if(Array.isArray(e))for(var n=e.length;n--;)this.removeEventListener(e[n],t);else for(var i=e&&t,r=this.eventListeners,o=r.length-1;o>=0;o--){var a=r[o];(!i||a.type===e&&a.callback===t)&&(r.splice(o,1),"tap"!==a.type&&Se.removeEventListener(this.el,a.type,a.callback))}},d.prototype.triggerCustomEvent=function(e){for(var t=this.eventListeners,n=t.length-1;n>=0;n--){
var i=t[n];i.type===e&&i.callback({type:e,target:this.el,currentTarget:this.el})}},d.prototype.dimensions=function(e,t){this.width(e),this.height(t)},d.prototype.width=function(e){return e===i?this.el.clientWidth:void(this.el.style.width=e)},d.prototype.height=function(e){return e===i?this.el.clientHeight:void(this.el.style.height=e)},d.prototype.addClass=function(e){Se.addClass(this.el,e)},d.prototype.removeClass=function(e){Se.removeClass(this.el,e)},d.prototype.hasClass=function(e){return Se.hasClass(this.el,e)},d.prototype.show=function(){this.el.style.visibility="visible"},d.prototype.hide=function(){this.el.style.visibility="hidden"},d.prototype.display=function(e){e?this.el.style.display="block":this.el.style.display="none"},d.prototype.collapse=function(){this.dimensions("1px","1px"),this.el.style.opacity="0",this.el.style.filter="alpha(opacity=0)"},d.prototype.expand=function(e,t){this.dimensions(e||"100%",t||"100%"),this.el.style.opacity="1",this.el.style.filter="alpha(opacity=100)"},d.prototype.requestFullscreen=function(){var e=this.el;return e.requestFullscreen?(e.requestFullscreen(),!0):e.msRequestFullscreen?(e.msRequestFullscreen(),!0):e.mozRequestFullScreen?(e.mozRequestFullScreen(),!0):e.webkitRequestFullscreen?(e.webkitRequestFullscreen(),!0):!1},d.prototype.exitFullscreen=function(){return t.exitFullscreen?(t.exitFullscreen(),!0):t.msExitFullscreen?(t.msExitFullscreen(),!0):t.mozCancelFullScreen?(t.mozCancelFullScreen(),!0):t.webkitExitFullscreen?(t.webkitExitFullscreen(),!0):!1},d.prototype.enableTapEvents=function(){if(!this.tapEventEnabled){this.tapEventEnabled=!0;var e,t=0,n=null,i=10,r=200,o=this;this.addEventListener("touchstart",function(i){1===i.touches.length&&(n={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=(new Date).getTime(),e=!0)}),this.addEventListener("touchmove",function(t){if(t.touches.length>1)e=!1;else if(n){if(!e)return;var r=t.touches[0].pageX-n.pageX,o=t.touches[0].pageY-n.pageY,a=Math.sqrt(r*r+o*o);a>i&&(e=!1)}}),this.addEventListener("touchend",function(i){if(n=null,e){var a=(new Date).getTime()-t;r>a&&(i.preventDefault(),o.triggerCustomEvent("tap"))}});var a=function(){e=!1};this.addEventListener("touchleave",a),this.addEventListener("touchcancel",a)}},d.prototype.dispose=function(){this.removeEventListener(),this.children.forEach(function(e){e.dispose()}),this.children=[],this.isOwnEl&&this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el),this.el=null},g(u,r);var ye={PREROLL:"preroll",MIDROLL:"midroll",POSTROLL:"postroll"},Te={AdsLoaded:"adsLoaded",AdsLoadedError:"adsLoaded",AdStarting:"adsStarting",AdEnded:"adsEnded"};g(c,r),p.parse=function(e){function t(e){var t=e&&e.documentElement;if(!t||"rss"!==t.nodeName)throw"Invalid mrss document: missing rss node";var i;if(a(t,function(e){"channel"===e.nodeName&&(i=e)}),!i)throw"Channel is not found";var r={items:[]};if(a(i,function(e){switch(e.nodeName){case"guid":return void(r.id=l(e));case"title":return void(r.title=l(e));case"description":return void(r.description=l(e));case"media:thumbnail":var t=o(e);return void(t&&(r.poster=t.file));case"item":var i=n(e);return void(i&&r.items.push(i))}}),!r.items.length)throw"Empty playlist - no valid items were found";return r}function n(e){var t={sources:[],posters:[]};return a(e,function(e){switch(e.nodeName){case"guid":return void(t.id=l(e));case"title":return void(t.title=l(e));case"description":return void(t.description=l(e));case"media:thumbnail":var n=o(e);return void(n&&t.posters.push(l(e)));case"media:content":case"enclosure":var a=r(e);return void(a&&t.sources.push(a));case"media:group":return void i(e,t)}}),t.posters.length&&(t.poster=t.posters.pop()),t.sources.length?t:void 0}function i(e,t){a(e,function(e){switch(e.nodeName){case"media:content":var n=r(e);return void(n&&t.sources.push(n));case"media:thumbnail":var i=o(e);return void(i&&t.posters.push(l(e)))}})}function r(e){var t={};return t.file=s(e,"url"),t.type=s(e,"type"),t.width=d(s(e,"width"),0),t.height=d(s(e,"height"),0),t.isDefault=u(s(e,"isDefault")),t.file?t:void 0}function o(e){var t={};return t.file=s(e,"url"),t.width=d(s(e,"width"),0),t.height=d(s(e,"height"),0),t.file?t:void 0}var a=(Re.bindCategory("mrss"),De.eachChildElement),s=De.attribute,l=De.text,d=D,u=U;return t(e)},f.parse=function(e){function t(t){if(t.forEach(function(t){var o,a={id:t.id||"",title:t.title||"",description:t.description||"",poster:t.poster||e.defaultPoster||"",sources:[]};o=t.file?[{file:t.file}]:t.sources||[],o.forEach(function(e){if(e.file){var t={width:e.width||0,height:e.height||0,type:e.type,file:e.file};if(!t.type){var r=P(t.file);if(n[r])t.type=n[r];else{var o=O(t.file);if(!i[o])return;t.type=i[o]}}a.sources.push(t)}}),0!==a.sources.length&&r.push(a)}),!r.length)throw"The playlist has no valid items"}var n={mp4:"video/mp4",webm:"video/webm",ogv:"video/ogg",flv:"video/x-flv",m3u8:"	application/x-mpegURL"},i={rtmp:"video/rtmp"},r=[];if(Array.isArray(e))t(e);else{if(!(e&&e.items&&e.items.length))throw"The playlist is empty (items are not given)";t(e.items)}return new f(e,r)},v.ContentType={XML:"xml",JSON:"json",TEXT:"text"},v.ErrorType={ERROR:"error",TIMEOUT:"timeout",BAD_STATUS:"badStatus",BAD_CONTENT:"badContent"};var we=function(){function e(){return f.isChrome=/Chrome/i.test(g)}function r(){return f.isIE8=/MSIE\s8\.0/.test(g),f.isIE=f.isIE8||function(){var e=g.toLowerCase(),t=!!g.match(/Trident.*rv\:11\./);return!(-1===e.indexOf("msie")&&!t)}(),f.isIE}function o(){return f.isFirefox=/Firefox/i.test(g)}function a(){return f.isSafari=/^((?!Chrome|Android).)*safari/i.test(g)}function s(){return f.isAndroid=/Android/i.test(g),f.isAndroid&&(f.androidVersion=function(){var e,t,n=g.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return n?(e=n[1]&&parseFloat(n[1]),t=n[2]&&parseFloat(n[2]),e&&t?parseFloat(n[1]+"."+n[2]):e?e:null):null}(),f.isOldAndroid=/webkit/i.test(g)&&f.androidVersion<2.3),f.isAndroid}function l(){return f.isIphone=/iPhone/i.test(g),f.isIpad=/iPad/i.test(g),f.isIpod=/iPod/i.test(g),f.isIOS=f.isIphone||f.isIpad||f.isIpod,f.isIOS&&(f.iosVersion=function(){var e=g.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}()),f.isIOS}function d(){return m?u():c()}function u(){var e;try{var t=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7"),n=t.GetVariable("$version");e=/ ([0-9]+),([0-9]+),([0-9]+),/.exec(n)}catch(i){return null}return{majorVersion:parseInt(e[1]),majorRevision:parseInt(e[2]),minorRevision:parseInt(e[3])}}function c(){var e,t,n,i;try{if(!("undefined"!=typeof h.plugins&&h.plugins.length>0))return null;if(!h.plugins["Shockwave Flash 2.0"]&&!h.plugins["Shockwave Flash"])throw new Error;var r=h.plugins["Shockwave Flash 2.0"]?" 2.0":"",o=h.plugins["Shockwave Flash"+r].description,a=h.plugins["Shockwave Flash"+r].filename;if(a.match&&a.toLowerCase().match(/lite/))throw new Error;e=o.split(" "),t=e[2].split(".")[0],n=e[2].split(".")[1],i=e[3],""==i&&(i=e[4]),"d"==i[0]?i=i.substring(1):"r"==i[0]&&(i=i.substring(1),i.indexOf("d")>0&&(i=i.substring(0,i.indexOf("d"))))}catch(s){return null}return{majorVersion:parseInt(t),majorRevision:parseInt(n),minorRevision:parseInt(i)}}var p,f={},h=n.navigator,v=n.screen,g=h.userAgent,m=f.hasActiveX=!!n.ActiveXObject;return f.hasMinFlashVersion=function(e,t,n){if(p===i&&(p=d()),null===p)return!1;var r=10,o=0,a=0;return e!==i&&(r=e),t!==i&&(o=t),n!==i&&(a=n),p.majorVersion>r||p.majorVersion==r&&p.majorRevision>o||p.majorVersion==r&&p.majorRevision==o&&p.minorRevision>=a},f.navigator=h,f.useAgent=g,e()||r()||o()||a(),f.isMobilePlatform=s()||l(),f.hasNativePlayer=f.isIphone&&f.isIpod||v.width<360,f.isTouchEnabled=!!("ontouchstart"in n||n.DocumentTouch&&t instanceof n.DocumentTouch),f.isBackgroundSizeSupported=function(){return"backgroundSize"in t.createElement("video").style},f.deviceType=null,f.os=null,f.type=null,f}(),be=function(){var e,n,i,r;for(e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n=e[0],r=0;r<e.length;r++)if(e[r][1]in t){i=e[r];break}if(i)for(we.fullscreenAPI={},r=0;r<i.length;r++)we.fullscreenAPI[n[r]]=i[r]};be();var Ce=function(){function e(e,t,n,r,o,l){if(s){if("object"==typeof t)try{t=Ne.stringify(t)}catch(d){}if("number"==typeof n)if(n===1/0)n=new Date("Fri, 31 Dec 9999 23:59:59 UTC");else{var u=new Date;u.setTime(u.getTime()+864e5*n),n=u}return r===i&&(r="/"),a.cookie=[encodeURIComponent(e),"=",encodeURIComponent(t),n&&"; expires="+n.toUTCString(),r&&"; path="+r,o&&"; domain="+o,l?"; secure":""].join("")}}function t(e,t){if(s&&e){e=encodeURIComponent(e)+"=";for(var n=a.cookie?a.cookie.split("; "):[],i=0,r=n.length;r>i;i++){var o=n[i];if(0===o.indexOf(e)){try{var l=decodeURIComponent(o.slice(e.length));if(t)try{l=Ne.parse(l)}catch(d){}return l}catch(d){}return}}}}function r(t,n,i,r){return e(t,"",-1,n,i,r)}function o(){try{a.cookie="cookietest=1";var e=-1!=a.cookie.indexOf("cookietest=");return a.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(t){return!1}}var a=n.document,s=o();return{enabled:s,set:e,get:t,remove:r}}(),Se={id:function(e){return t.getElementById(e)},createElement:function(e,n,i){var r,o,a,s=t.createElement(e);if(n)for(r=Object.keys(n),o=0,a=r.length;a>o;o++)s.setAttribute(r[o],n[r[o]]);if(i)for(r=Object.keys(i),o=0,a=r.length;a>o;o++)s[r[o]]=i[r[o]];return s},getAttributes:function(e){var t={},n=e.attributes;if(n&&n.length)for(var i=",autoplay,controls,loop,muted,default,",r=0,o=n.length;o>r;r++){var a=n[r].name,s=n[r].value;"boolean"!=typeof e[a]&&-1===i.indexOf(","+a+",")||(s=null!==s),t[a]=s}return t},setAttributes:function(e,t){for(var n=Object.keys(t||{}),i=0,r=n.length;r>i;i++)e.setAttribute(n[i],t[n[i]])},removeAttributes:function(e,t){t.forEach(function(t){e.removeAttribute(t)})},createIframe:function(e,n,i){var r=t.createElement("iframe");return r.src="about:blank",r.id=i,r.name=i+"name",r.marginWidth="0",r.marginHeight="0",r.frameBorder="0",r.scrolling="no",r.style&&(r.style.margin="0px",r.style.padding="0px",r.style.border="0px none",r.style.width=e,r.style.height=n,r.style.overflow="hidden",r.style.position="absolute",r.style.left="0",r.style.top="0"),r},writeIframeContent:function(e,t){try{var n=e.contentWindow||e.contentDocument;n.document&&(n=n.document),n.open("text/html","replace"),n.write(t),n.close()}catch(i){try{e.contentWindow.IFRM_content=t,e.src='javascript:window["IFRM_content"]'}catch(i){return!1}}return!0},insertFirst:function(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)},hasClass:function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},addClass:function(e,t){return Se.hasClass(e,t)||(e.className=""===e.className?t:e.className+" "+t),e},removeClass:function(e,t){if(Se.hasClass(e,t)){for(var n=e.className.split(" "),i=n.length-1;i>=0;i--)n[i]===t&&n.splice(i,1);return e.className=n.join(" "),e}},addEventListener:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},removeEventListener:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},blockTextSelection:function(){t.body.focus(),t.onselectstart=function(){return!1}},unblockTextSelection:function(){t.onselectstart=function(){return!0}},offset:function(e){var i,r,o,a,s,l,d,u,c;return e.getBoundingClientRect&&e.parentNode&&(i=e.getBoundingClientRect()),i?(r=t.documentElement,o=t.body,a=r.clientLeft||o.clientLeft||0,s=n.pageXOffset||o.scrollLeft,l=i.left+s-a,d=r.clientTop||o.clientTop||0,u=n.pageYOffset||o.scrollTop,c=i.top+u-d,{left:C(l),top:C(c)}):{left:0,top:0}},getPointerPosition:function(e,t){var n={},i=Se.offset(e),r=e.offsetWidth,o=e.offsetHeight,a=i.top,s=i.left,l=t.pageY,d=t.pageX;return t.changedTouches&&(d=t.changedTouches[0].pageX,l=t.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(a-l+o)/o)),n.x=Math.max(0,Math.min(1,(d-s)/r)),n}},Le=function(){function e(e){try{var t=n[e],i="__test9z1";return t.setItem(i,i),t.removeItem(i),!0}catch(r){return!1}}function t(){var e={};return{getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n},removeItem:function(t){delete e[t]},clear:function(){e={}}}}var i,r;return e("localStorage")?(i=n.localStorage,r=!0):(i=t(),r=!1),{persistent:r,getItem:function(e,t){var n=i.getItem(e);if(t&&n)try{return Ne.parse(n)}catch(r){}return n},setItem:function(e,t){if("object"==typeof t)try{t=Ne.stringify(t)}catch(n){}return i.setItem(e,t)},removeItem:function(e){i.removeItem(e)},clear:function(){i.clear()}}}(),Re=new m,ke=Re.bindCategory("default");e.LogListeners&&e.LogListeners.length>0&&Re.listeners.push.apply(Re.listeners,e.LogListeners),e.LogEventListeners&&e.LogEventListeners.length>0&&Re.eventListeners.push.apply(Re.eventListeners,e.LogEventListeners),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("object"!=typeof r&&("function"!=typeof r||null===r))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in r)e.call(r,o)&&s.push(o);if(t)for(a=0;i>a;a++)e.call(r,n[a])&&s.push(n[a]);return s}}()),Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){var t,n=[],i=Object.prototype.hasOwnProperty;for(t in e)i.call(e,t)&&n.push(t);return n}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,i;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),o=r.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(n=t),i=0;o>i;){var a;i in r&&(a=r[i],e.call(n,a,i,r)),i++}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),r=i.length>>>0;if(0===r)return-1;var o=+t||0;if(Math.abs(o)===1/0&&(o=0),o>=r)return-1;for(n=Math.max(o>=0?o:r-Math.abs(o),0);r>n;){if(n in i&&i[n]===e)return n;n++}return-1}),function(){var e=Array.prototype.slice;try{e.call(t.documentElement)}catch(n){Array.prototype.slice=function(t,n){if(n="undefined"!=typeof n?n:this.length,"[object Array]"===Object.prototype.toString.call(this))return e.call(this,t,n);var i,r,o=[],a=this.length,s=t||0;s=s>=0?s:Math.max(0,a+s);var l="number"==typeof n?Math.min(n,a):a;if(0>n&&(l=a+n),r=l-s,r>0)if(o=new Array(r),this.charAt)for(i=0;r>i;i++)o[i]=this.charAt(s+i);else for(i=0;r>i;i++)o[i]=this[s+i];return o}}}(),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Date.now||(Date.now=function(){return(new Date).getTime()}),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),n.JSON||(n.JSON={parse:function(e){return new Function("return "+e+";")()},stringify:function(){var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)},n={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},i=function(e){return n[e]||"\\u"+(e.charCodeAt(0)+65536).toString(16).substr(1)},r=/[\\"\u0000-\u001F\u2028\u2029]/g;return function o(n){if(null==n)return"null";if("number"==typeof n)return isFinite(n)?n.toString():"null";if("boolean"==typeof n)return n.toString();if("object"==typeof n){if("function"==typeof n.toJSON)return o(n.toJSON());if(t(n)){for(var a="[",s=0;s<n.length;s++)a+=(s?", ":"")+o(n[s]);return a+"]"}if("[object Object]"===e.call(n)){var l=[];for(var d in n)n.hasOwnProperty(d)&&l.push(o(d)+": "+o(n[d]));return"{"+l.join(", ")+"}"}}return'"'+n.toString().replace(r,i)+'"'}}()});var Ie=function(){var e={};return function(t){return t||(t="evsp"),e[t]||(e[t]=1),t+e[t]++}}(),Oe=function(e){function t(){return we.hasActiveX?{classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",type:"application/x-shockwave-flash",data:e.swf,id:e.id,name:e.id,width:e.width,height:e.height,scale:"exactfit"}:{type:"application/x-shockwave-flash",data:e.swf,id:e.id,name:e.id,width:e.width,height:e.height,scale:"exactfit"}}function n(){var t={allowScriptAccess:"always",allowFullScreen:"true",seamlessTabbing:!1,quality:"high",wmode:"opaque",bgcolor:"#000000",FlashVars:r(e.flashvars)};return we.hasActiveX&&(t.movie=e.swf),t}function i(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.join(" ")}function r(e){if("string"==typeof e)return e;var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join("&amp;")}function o(e){var t="";for(var n in e)t+='<param name="'+n+'" value="'+e[n]+'" />';return t}function a(e,t){return"<object "+i(e)+">"+o(t)+"</object>"}return a(t(),n())},Pe=function(){var e="https:"==n.location.protocol?"https:":"http:";return function(t){return t.replace(/^(https|http):/,e)}}(),Ne=n.JSON||{parse:function(e){return new Function("return "+e+";")()}},De={parse:function(e){if(n.DOMParser){var t=new DOMParser;try{var i=t.parseFromString(e,"application/xml"),r=i.getElementsByTagName("parsererror");if(r.length>0)return;return i}catch(o){return}}else if(n.ActiveXObject){var a=new ActiveXObject("Microsoft.XMLDOM");a.async=!1;try{if(!a.loadXML(e))return;return a}catch(o){return}}},eachChildElement:function(e,t){for(var n=e.firstChild,i=0;n;)1===n.nodeType&&t(n,i++),n=n.nextSibling},attribute:function(e,t){return e.getAttribute(t)},attributes:function(e){var t,n,i=e.attributes,r=[],o=i.length;for(n=0;o>n;n++)t=i.item(n),r.push({name:t.nodeName,value:t.nodeValue});return r},text:function(e){var t=e.textContent||e.text;return t?t.trim():null}};g(q,r),g(j,r),g(H,r),g(W,r),W.Events={ACTIVE:"active",INACTIVE:"inactive"},g(G,r),g(K,r),K.isFlashTech=!0,K.isSupported=function(){return!!we.hasMinFlashVersion(10,2,0)},K.canPlayType=function(e){if(!K.isSupported())return"";for(var t=["video/mp4","video/x-flv","video/rtmp","vnd.apple.mpegURL","application/x-mpegURL","application/vnd.apple.mpegurl"],n=0,i=t.length;i>n;n++)if(t[n]===e)return"probably";return""},g(B,r),B.prototype.bindEvents=function(){var e=this;Object.keys(Me).forEach(function(t){e.videoObj.addEventListener(Me[t],function(t){e.eventsDisabled||(t.preventDefault&&t.preventDefault(),e.trigger({name:t.type,html5Event:t}))})})},B.prototype.disableEvents=function(e){this.eventsDisabled=e},B.prototype.setTriggerContext=function(e){e?this.trigger=function(t){"string"==typeof t?t=e+t:t.name=e+t.name,a.prototype.trigger.call(this,t)}:delete this.trigger},B.prototype.dispose=function(){var e=this.uiObj?this.uiObj.el:null;if(e){for(this.uiObj.removeEventListener(),e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);if(e.removeAttribute("src"),"function"==typeof e.load)try{e.load()}catch(t){}}this.videoObj&&(this.videoObj.dispose(),this.videoObj=null),this.uiObj=null,r.prototype.dispose.call(this)},B.prototype.play=function(){this.videoEl.play()},B.prototype.pause=function(){this.videoEl.pause()},B.prototype.load=function(){this.videoEl.load()},B.prototype.autoplay=function(e){return e!==i?void(this.videoEl.autoplay=e):this.videoEl.autoplay},B.prototype.buffered=function(){return this.videoEl.buffered},B.prototype.controls=function(e){return e!==i?void(this.videoEl.controls=e):this.videoEl.controls},B.prototype.crossOrigin=function(){return this.videoEl.crossOrigin},B.prototype.currentSrc=function(){return this.videoEl.currentSrc},B.prototype.currentTime=function(e){if(e===i){var t=this.videoEl.currentTime;return t&&isFinite(t)||(t=0),t}return this.videoEl.seekable&&this.videoEl.seekable.length&&this.videoEl.seekable.end(0)>e?(this.videoEl.currentTime=e,e):!1},B.prototype.defaultMuted=function(){return this.videoEl.defaultMuted},B.prototype.defaultPlaybackRate=function(){return this.videoEl.defaultPlaybackRate},B.prototype.duration=function(){var e=this.videoEl.duration;return(!e||!isFinite(e)||0>e)&&(e=0),e},B.prototype.ended=function(){return this.videoEl.ended},B.prototype.error=function(){return this.videoEl.error},B.prototype.height=function(){return this.videoEl.offsetHeight},B.prototype.loop=function(e){return e!==i?void(this.videoEl.loop=e):this.videoEl.loop},B.prototype.mediaGroup=function(){return this.videoEl.mediaGroup},B.prototype.muted=function(e){return e!==i?void(this.videoEl.muted=e):this.videoEl.muted},B.prototype.networkState=function(){return this.videoEl.networkState},B.prototype.paused=function(){return this.videoEl.paused},B.prototype.playbackRate=function(e){return e?void(this.videoEl.playbackRate=e):this.videoEl.playbackRate},B.prototype.played=function(){return this.videoEl.played},B.prototype.poster=function(e){return e?void(this.videoEl.poster=e):this.videoEl.poster},B.prototype.preload=function(e){return e?void(this.videoEl.preload=e):this.videoEl.preload},B.prototype.readyState=function(){return this.videoEl.readyState},B.prototype.seekable=function(){return this.videoEl.seekable},B.prototype.seeking=function(){return this.videoEl.seeking},B.prototype.src=function(e){if(e!==i){if(this.videoEl.src){this.videoEl.removeAttribute("src");try{this.videoEl.load()}catch(t){}}return void(this.videoEl.src=Pe(e))}return this.videoEl.src},B.prototype.textTracks=function(){return this.videoEl.textTracks},B.prototype.videoHeight=function(){return this.videoEl.videoHeight},B.prototype.videoWidth=function(){return this.videoEl.videoWidth},B.prototype.volume=function(e){return e!==i?void(this.videoEl.volume=e):this.videoEl.volume},B.prototype.width=function(){return this.videoEl.offsetWidth},B.prototype.setSize=function(e,t){},B.isHtml5Tech=!0,B.testVideo=t.createElement("video"),B.isSupported=function(){try{B.testVideo.volume=.5}catch(e){return!1}return"function"==typeof B.testVideo.canPlayType&&"function"==typeof B.testVideo.play},B.canPlayType=function(e){try{return we.isAndroid,B.testVideo.canPlayType(e)}catch(t){return""}},B.isVolumeSupported=function(){try{var e=B.testVideo.volume;return B.testVideo.volume=e/2+.1,B.testVideo.volume!==e}catch(t){}return!1},B.isPlaybackRateSupported=function(){try{var e=B.testVideo.playbackRate;return B.testVideo.playbackRate=e/2+.1,e!==B.testVideo.playbackRate}catch(t){}return!1},B.canAutoPlay=function(e){var t="data:audio/mpeg;base64,/+MYxAAAAANIAUAAAASEEB/jwOFM/0MM/90b/+RhST//w4NFwOjf///PZu////9lns5GFDv//l9GlUIEEIAAAgIg8Ir/JGq3/+MYxDsLIj5QMYcoAP0dv9HIjUcH//yYSg+CIbkGP//8w0bLVjUP///3Z0x5QCAv/yLjwtGKTEFNRTMuOTeqqqqqqqqqqqqq/+MYxEkNmdJkUYc4AKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq",n="data:audio/ogg;base64,T2dnUwACAAAAAAAAAADqnjMlAAAAAOyyzPIBHgF2b3JiaXMAAAAAAUAfAABAHwAAQB8AAEAfAACZAU9nZ1MAAAAAAAAAAAAA6p4zJQEAAAANJGeqCj3//////////5ADdm9yYmlzLQAAAFhpcGguT3JnIGxpYlZvcmJpcyBJIDIwMTAxMTAxIChTY2hhdWZlbnVnZ2V0KQAAAAABBXZvcmJpcw9CQ1YBAAABAAxSFCElGVNKYwiVUlIpBR1jUFtHHWPUOUYhZBBTiEkZpXtPKpVYSsgRUlgpRR1TTFNJlVKWKUUdYxRTSCFT1jFloXMUS4ZJCSVsTa50FkvomWOWMUYdY85aSp1j1jFFHWNSUkmhcxg6ZiVkFDpGxehifDA6laJCKL7H3lLpLYWKW4q91xpT6y2EGEtpwQhhc+211dxKasUYY4wxxsXiUyiC0JBVAAABAABABAFCQ1YBAAoAAMJQDEVRgNCQVQBABgCAABRFcRTHcRxHkiTLAkJDVgEAQAAAAgAAKI7hKJIjSZJkWZZlWZameZaouaov+64u667t6roOhIasBACAAAAYRqF1TCqDEEPKQ4QUY9AzoxBDDEzGHGNONKQMMogzxZAyiFssLqgQBKEhKwKAKAAAwBjEGGIMOeekZFIi55iUTkoDnaPUUcoolRRLjBmlEluJMYLOUeooZZRCjKXFjFKJscRUAABAgAMAQICFUGjIigAgCgCAMAYphZRCjCnmFHOIMeUcgwwxxiBkzinoGJNOSuWck85JiRhjzjEHlXNOSuekctBJyaQTAAAQ4AAAEGAhFBqyIgCIEwAwSJKmWZomipamiaJniqrqiaKqWp5nmp5pqqpnmqpqqqrrmqrqypbnmaZnmqrqmaaqiqbquqaquq6nqrZsuqoum65q267s+rZru77uqapsm6or66bqyrrqyrbuurbtS56nqqKquq5nqq6ruq5uq65r25pqyq6purJtuq4tu7Js664s67pmqq5suqotm64s667s2rYqy7ovuq5uq7Ks+6os+75s67ru2rrwi65r66os674qy74x27bwy7ouHJMnqqqnqq7rmarrqq5r26rr2rqmmq5suq4tm6or26os67Yry7aumaosm64r26bryrIqy77vyrJui67r66Ys67oqy8Lu6roxzLat+6Lr6roqy7qvyrKuu7ru+7JuC7umqrpuyrKvm7Ks+7auC8us27oxuq7vq7It/KosC7+u+8Iy6z5jdF1fV21ZGFbZ9n3d95Vj1nVhWW1b+V1bZ7y+bgy7bvzKrQvLstq2scy6rSyvrxvDLux8W/iVmqratum6um7Ksq/Lui60dd1XRtf1fdW2fV+VZd+3hV9pG8OwjK6r+6os68Jry8ov67qw7MIvLKttK7+r68ow27qw3L6wLL/uC8uq277v6rrStXVluX2fsSu38QsAABhwAAAIMKEMFBqyIgCIEwBAEHIOKQahYgpCCKGkEEIqFWNSMuakZM5JKaWUFEpJrWJMSuaclMwxKaGUlkopqYRSWiqlxBRKaS2l1mJKqcVQSmulpNZKSa2llGJMrcUYMSYlc05K5pyUklJrJZXWMucoZQ5K6iCklEoqraTUYuacpA46Kx2E1EoqMZWUYgupxFZKaq2kFGMrMdXUWo4hpRhLSrGVlFptMdXWWqs1YkxK5pyUzDkqJaXWSiqtZc5J6iC01DkoqaTUYiopxco5SR2ElDLIqJSUWiupxBJSia20FGMpqcXUYq4pxRZDSS2WlFosqcTWYoy1tVRTJ6XFklKMJZUYW6y5ttZqDKXEVkqLsaSUW2sx1xZjjqGkFksrsZWUWmy15dhayzW1VGNKrdYWY40x5ZRrrT2n1mJNMdXaWqy51ZZbzLXnTkprpZQWS0oxttZijTHmHEppraQUWykpxtZara3FXEMpsZXSWiypxNhirLXFVmNqrcYWW62ltVprrb3GVlsurdXcYqw9tZRrrLXmWFNtBQAADDgAAASYUAYKDVkJAEQBAADGMMYYhEYpx5yT0ijlnHNSKucghJBS5hyEEFLKnINQSkuZcxBKSSmUklJqrYVSUmqttQIAAAocAAACbNCUWByg0JCVAEAqAIDBcTRNFFXVdX1fsSxRVFXXlW3jVyxNFFVVdm1b+DVRVFXXtW3bFn5NFFVVdmXZtoWiqrqybduybgvDqKqua9uybeuorqvbuq3bui9UXVmWbVu3dR3XtnXd9nVd+Bmzbeu2buu+8CMMR9/4IeTj+3RCCAAAT3AAACqwYXWEk6KxwEJDVgIAGQAAgDFKGYUYM0gxphhjTDHGmAAAgAEHAIAAE8pAoSErAoAoAADAOeecc84555xzzjnnnHPOOeecc44xxhhjjDHGGGOMMcYYY4wxxhhjjDHGGGOMMcYYY0wAwE6EA8BOhIVQaMhKACAcAABACCEpKaWUUkoRU85BSSmllFKqFIOMSkoppZRSpBR1lFJKKaWUIqWgpJJSSimllElJKaWUUkoppYw6SimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaWUUkoppZRSSimllFJKKaVUSimllFJKKaWUUkoppRQAYPLgAACVYOMMK0lnhaPBhYasBAByAwAAhRiDEEJpraRUUkolVc5BKCWUlEpKKZWUUqqYgxBKKqmlklJKKbXSQSihlFBKKSWUUkooJYQQSgmhlFRCK6mEUkoHoYQSQimhhFRKKSWUzkEoIYUOQkmllNRCSB10VFIpIZVSSiklpZQ6CKGUklJLLZVSWkqpdBJSKamV1FJqqbWSUgmhpFZKSSWl0lpJJbUSSkklpZRSSymFVFJJJYSSUioltZZaSqm11lJIqZWUUkqppdRSSiWlkEpKqZSSUmollZRSaiGVlEpJKaTUSimlpFRCSamlUlpKLbWUSkmptFRSSaWUlEpJKaVSSksppRJKSqmllFpJKYWSUkoplZJSSyW1VEoKJaWUUkmptJRSSymVklIBAEAHDgAAAUZUWoidZlx5BI4oZJiAAgAAQABAgAkgMEBQMApBgDACAQAAAADAAAAfAABHARAR0ZzBAUKCwgJDg8MDAAAAAAAAAAAAAACAT2dnUwAEAAAAAAAAAADqnjMlAgAAADzQPmcBAQA=";try{var i=new Audio,r=i.canPlayType("audio/ogg")?n:t;i.autoplay=!0,i.volume=0;var o=R(function(){e(!0)},500,function(){e(!1)});i.addEventListener("play",o),i.src=r}catch(a){e(!1)}};var Me={ABORT:"abort",CANPLAY:"canplay",CANPLAY_THROUGH:"canplaythrough",DURATION_CHANGE:"durationchange",EMPTIED:"emptied",ENDED:"ended",ERROR:"error",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOAD_START:"loadstart",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",RATE_CHANGE:"ratechange",RESIZE:"resize",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",SUSPEND:"suspend",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",WAITING:"waiting",CLICK:"click",TAP:"tap"},Ue={playbacks:[B,K,Y]};Ue.selectSource=function(e,t){for(var n=0,i=t.length;i>n;n++){var r=t[n];if(e.constructor.canPlayType(r.type))return r}},Ue.getInstance=function(e,t){for(var n=Ue.playbacks,i=0,r=n.length;r>i;i++)for(var o=n[i],a=0,s=e.length;s>a;a++){var l=e[a];if(o.canPlayType(l.type))return t.src=l.file,new o(t)}},Ue.getDefaultInstance=function(e,t){return t.src=e[0].file,new Ue.playbacks[0](t)},g(Y,r),Y.prototype.onParentAdded=function(){this.onIframeLoaded()},Y.prototype.onTimeupdate=function(){this.trigger(Me.TIME_UPDATE)},Y.prototype.onPlaybackReady=function(){return this.playback=this.iframe.contentWindow.player,this.playback?(this.playback.addEventListener("onStateChange",T(this,this.onStateChange)),this.playback.addEventListener("onError",T(this,this.onError)),void this.setReady()):this.trigger(Me.ERROR)},Y.prototype.onError=function(){return this.trigger(Me.ERROR)};var Ve={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3};Y.prototype.onStateChange=function(e){switch(e.data){case Ve.ENDED:return this.trigger(Me.ENDED);case Ve.PLAYING:return this.trigger(Me.PLAYING);case Ve.PAUSED:return this.trigger(Me.PAUSE);case Ve.BUFFERING:return this.trigger(Me.SEEKING)}},Y.prototype.onIframeLoaded=function(){var e=0;we.isIE&&K.isSupported()&&(e=1);var t="https://www.youtube.com/iframe_api",n='<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<style> body{margin: 0px;} html{height: 100%;}body {min-height: 100%;}</style></head>\n<body>\n',i='<div id="yp'+this.id+'"></div>',r='<script type="text/javascript" src="'+t+'"></script>\n';r+="<script> var origin = window.top.location.origin; if (!origin) { origin = window.location.protocol + ",r+="\"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: ''); }",r+="function onYouTubeIframeAPIReady() {",r+="var width = document.body.clientWidth; var height = document.body.clientHeight;",r+='window.player = new YT.Player("yp'+this.id+'", {height:height, width:width, videoUrl: "'+this._src+'", playerVars: {controls:'+e+", showinfo:0}, events:{onReady: onPlayerReady}});",r+="}",r+="function onPlayerReady(){",r+='parent.postMessage(\'{"event": "playback.ready", "id": "'+this.id+"\"}', origin);\n",r+="}",r+="</script>";var o="</body></html>",a=n+i+r+o;Se.writeIframeContent(this.iframe,a)},Y.prototype.onWindowMessage=function(e){var t=null;try{t=Ne.parse(e.data)}catch(n){return}t.id===this.id&&this.trigger(t.event)},Y.prototype.play=function(){this._srcLoaded||(this.load(),this._srcLoaded=!0),this.playback.playVideo()},Y.prototype.pause=function(){this.playback.pauseVideo()},Y.prototype.paused=function(){return 2===this.playback.getPlayerState()},Y.prototype.stop=function(){this.playback.stopVideo()},Y.prototype.currentTime=function(e){return e!==i?this.playback.seekTo(e,!0):this.playback.getCurrentTime()},Y.prototype.duration=function(){return this.playback?this.playback.getDuration():void 0},Y.prototype.buffered=function(){return 1===this.playback.getVideoLoadedFraction()},Y.prototype.volume=function(e){return e!==i&&(this.playback.setVolume(100*e),this.trigger(Me.VOLUME_CHANGE)),this.playback.getVolume()?this.playback.getVolume()/100:0},Y.prototype.muted=function(e){return e!==i&&(e?(this.playback.mute(),this.trigger(Me.VOLUME_CHANGE)):(this.playback.unMute(),this.trigger(Me.VOLUME_CHANGE))),this.playback.isMuted()},Y.prototype.src=function(e){return e!==i&&(this._srcLoaded=!1,this._src=e),this._src},Y.prototype.load=function(){this.playback.loadVideoByUrl({mediaContentUrl:this._src})},Y.prototype.preload=function(e){},Y.prototype.error=function(){},Y.prototype.seeking=function(){return this.playback.getVideoLoadedFraction()<1},Y.prototype.ended=function(){return 0===this.playback.getPlayerState()},Y.prototype.playbackRate=function(){return this.playback.getPlaybackRate()},Y.prototype.networkState=function(){return 1},Y.prototype.readyState=function(){return 4},Y.isSupported=function(){return"function"==typeof n.postMessage},Y.canPlayType=function(e){return"video/x-youtube"===e},Y.prototype.dispose=function(){this.playback.destroy(),r.prototype.dispose.call(this)},Y.prototype.disableEvents=function(e){},Y.prototype.setTriggerContext=function(e){},Y.prototype.setSize=function(e,t){this.playback.setSize(e,t)},g(J,r);var xe={LOADED:"loaded",ADS_READY:"adsReady",VMAP_ERROR:"vmapError"},_e={UNDEFINED:900,SCHEMA_VALIDATION:1e3,VERSION_NOT_SUPPORTED:1001,XML_PARSING:1002,BREAK_TYPE_NOT_SUPPORTED:1003,RESPONSE_GENERAL:1004,RESPONSE_TEMPLATE_NOT_SUPPORTED:1005,RESPONSE_XML_PARSING:1006,RESPONSE_TIMEOUT:1007,RESPONSE_NOT_FOUND:1008};g(X,r),g(Q,r),Q.AdType={INLINE:"inline",WRAPPER:"wrapper"},Q.CreativeType={LINEAR:"linear",NONLINEAR:"nonlinear",COMPANION:"companion"},Q.ResourceType={STATIC:"static",IFRAME:"iframe",HTML:"html"},Q.StaticType={IMAGE:"image",JAVASCRIPT:"javascript",FLASH:"flash"},Q.MediaType={VIDEO:"video",HTML5_VPAID:"html5_vpaid",FLASH_VPAID:"flash_vpaid"};var Fe={CREATIVE_VIEW:"creativeView",START:"start",FIRST_QUARTILE:"firstQuartile",MIDPOINT:"midpoint",THIRD_QUARTILE:"thirdQuartile",COMPLETE:"complete",
MUTE:"mute",UNMUTE:"unmute",PAUSE:"pause",REWIMD:"rewind",RESUME:"resume",FULLSCREEN:"fullscreen",EXIT_FULLSCREEN:"exitFullscreen",EXPAND:"expand",COLLAPSE:"collapse",ACCEPT_INVITATION_LINEAR:"acceptInvitationLinear",ACCEPT_INVITATION:"acceptInvitation",CLOSE_LINEAR:"closeLinear",CLOSE:"close",SKIP:"skip",PROGRESS:"progress",IMPRESSION:"impression",ERROR:"error",CLICK:"click"},qe={XML_PARSING:100,SCHEMA_VALIDATION:101,VERSION_NOT_SUPPORTED:102,TRAFFICKING:200,EXPECTING_DIFFERENT_LINEARITY:201,EXPECTING_DIFFERENT_DURATION:202,EXPECTING_DIFFERENT_SIZE:203,WRAPPER_GENERAL:300,WRAPPER_TIMEOUT:301,WRAPPER_REDIRECT_LIMIT:302,WRAPPER_NO_ADS:303,LINEAR_GENERAL:400,LINEAR_NOT_FOUND:401,LINEAR_TIMEOUT:402,LINEAR_NO_SELECT:403,LINEAR_NO_DISPLAY:405,NONLINEAR_GENERAL:500,NONLINEAR_NO_SIZE:501,NONLINEAR_NOT_FOUND:502,NONLINEAR_NO_SELECT:503,COMPANION_GENERAL:600,COMPANION_WRONG_SIZE:601,COMPANION_NO_DISPLAY:602,COMPANION_NOT_FOUND:603,COMPANION_NO_SELECT:604,UNDEFINED:900,VPAID_GENERAL:901};g(ee,r);var je={PLAY:"play",PAUSE:"pause",ENTER_FULLSCREEN:"enterFullscreen",EXIT_FULLSCREEN:"exitFullscreen",MUTE:"mute",UNMUTE:"unmute",VOLUME_CHANGED:"volumeChanged",SEEK:"seek"};g(te,r),g(ie,r),g(le,r),g(ce,r),pe.render=function(e,t,n){var i=pe.getDimensions(e,n);if(e.staticResource)return pe.renderStaticResource(e,t,i);if(e.iframeResource||e.htmlResource){var r=new d("iframe",{src:e.iframeResource||e.htmlResource,width:i.width,height:i.height,frameborder:0,marginwidth:0,marginheight:0,scrolling:"no"});return t.appendChild(r),!0}},pe.renderStaticResource=function(e,t,n){switch(e.staticResource.type){case Q.StaticType.IMAGE:var i,r=new d("img",{src:e.staticResource.url,style:"border:0;",alt:"Ad",width:n.width,height:n.height});e.clickThrough&&(i=new d("a",{href:e.clickThrough,target:"_blank"}),i.appendChild(r)),t.appendChild(i||r);break;case Q.StaticType.JAVASCRIPT:t.innerHTML='<script src="'+e.staticResource.url+'"></script>';break;case Q.StaticType.FLASH:t.innerHTML=Oe({id:Ie("nonlinearad"),swf:e.staticResource.url,width:n.width,height:n.height,flashvars:e.adParameters&&e.adParameters.value});break;default:return!1}return!0},pe.getResourceUrl=function(e){return e.staticResource&&e.staticResource.url||e.iframeResource||e.htmlResource},pe.getDimensions=function(e,t){var n=e.width,i=e.height;return t&&(n>t.width||i>t.height)?k(n,i,t.width,t.height):{width:n,height:i,r:1}},g(fe,r),g(he,r),g(ve,r),g(ge,r),ge.checkVpaidInterface=function(e){for(var t=["handshakeVersion","initAd","startAd","stopAd","resizeAd","pauseAd","resumeAd","expandAd","collapseAd","subscribe","getAdLinear","getAdExpanded","getAdRemainingTime","getAdVolume","setAdVolume"],n=t.length;n--;)if("function"!=typeof e[t[n]])return!1;return!0},ge.VastMap={AdSkipped:Fe.SKIP,AdStarted:Fe.CREATIVE_VIEW,AdVideoStart:Fe.START,AdVideoFirstQuartile:Fe.FIRST_QUARTILE,AdVideoMidpoint:Fe.MIDPOINT,AdVideoThirdQuartile:Fe.THIRD_QUARTILE,AdVideoComplete:Fe.COMPLETE,AdUserAcceptInvitation:Fe.ACCEPT_INVITATION,AdUserMinimize:Fe.COLLAPSE,AdUserClose:Fe.CLOSE,AdPaused:Fe.PAUSE,AdPlaying:Fe.RESUME};var He={AdLoaded:"AdLoaded",AdStarted:"AdStarted",AdStopped:"AdStopped",AdSkipped:"AdSkipped",AdSkippableStateChange:"AdSkippableStateChange",AdSizeChange:"AdSizeChange",AdLinearChange:"AdLinearChange",AdDurationChange:"AdDurationChange",AdExpandedChange:"AdExpandedChange",AdRemainingTimeChange:"AdRemainingTimeChange",AdVolumeChange:"AdVolumeChange",AdImpression:"AdImpression",AdVideoStart:"AdVideoStart",AdVideoFirstQuartile:"AdVideoFirstQuartile",AdVideoMidpoint:"AdVideoMidpoint",AdVideoThirdQuartile:"AdVideoThirdQuartile",AdVideoComplete:"AdVideoComplete",AdClickThru:"AdClickThru",AdInteraction:"AdInteraction",AdUserAcceptInvitation:"AdUserAcceptInvitation",AdUserMinimize:" AdUserMinimize",AdUserClose:"AdUserClose",AdPaused:"AdPaused",AdPlaying:"AdPlaying",AdError:"AdError"}}(window.varrandoPlayer,document,window);
//# sourceMappingURL=varrandoplayer.min.js.map
